<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="9413 - Don't allow duplicate messages.">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=9413">
<meta property="og:description"
      content="RESOLVED (mozilla) in MailNews Core - Database. Last updated 2019-09-28.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="enhancement">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="P3">

    <meta name="viewport" content="width=1024">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20200805.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;},&quot;string&quot;:{&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;is_new&quot;:1,&quot;login&quot;:&quot;&quot;}}">
    <title>9413 - Don't allow duplicate messages.</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=9413&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="/showdependencygraph.cgi?id=9413">

      <link rel="Show" title="Bug Activity"
            href="/show_activity.cgi?id=9413">

<link href="https://bugzilla.mozilla.org/static/v20200805.1/skins/yui.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/EditComments/web/styles/inline-editor.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css">



    
<script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/jquery-min.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/yui.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/global.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/util.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/dropdown.js"></script>

      <script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"types\":[\"tracking\"],\"flags\":{\"tracking\":{\"cf_status_thunderbird_82\":\"---\",\"cf_tracking_thunderbird_80\":\"---\",\"cf_tracking_seamonkey257esr\":\"---\",\"cf_status_thunderbird_81\":\"---\",\"cf_tracking_thunderbird_82\":\"---\",\"cf_status_thunderbird_esr68\":\"---\",\"cf_status_thunderbird_esr78\":\"---\",\"cf_tracking_thunderbird_81\":\"---\",\"cf_tracking_seamonkey253\":\"---\",\"cf_status_seamonkey253\":\"---\",\"cf_tracking_firefox_relnote\":\"---\",\"cf_tracking_thunderbird_esr68\":\"---\",\"cf_status_seamonkey257esr\":\"---\",\"cf_tracking_thunderbird_esr78\":\"---\",\"cf_status_thunderbird_80\":\"---\"},\"project\":{\"cf_tracking_firefox_sumo\":\"---\"}},\"comments\":{\"cf_tracking_firefox_relnote\":{\"?\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox_sumo\":{\"none-needed\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"}}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 9413;
  BUGZILLA.bug_title = '9413 - Don\'t allow duplicate messages.';
  BUGZILLA.bug_summary = 'Don\'t allow duplicate messages.';
  BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=9413';
  BUGZILLA.bug_keywords = 'fixed1.8',
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/comments.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/bugzilla-readable-status-min.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/field.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/comments.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/lib/prism.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/GoogleAnalytics/web/js/analytics.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/js/lib/md5.min.js"></script><script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/Review/web/js/badge.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=9413">
<link rel="shorturl" href="https://bugzilla.mozilla.org/9413"><meta name="google-analytics" content="UA-36116321-3" data-location="https://bugzilla.mozilla.org/bug/show-modal" data-title="9413 - Don't allow duplicate messages.">
<script async src="https://www.google-analytics.com/analytics.js"></script><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="wrapper">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<header id="header" role="banner">
  <div class="inner">
    <h1 id="header-title" class="title"><a href="https://bugzilla.mozilla.org/home" title="Go to home page">Bugzilla</a></h1>
    <form role="search" id="header-search" class="quicksearch" action="/buglist.cgi" data-no-csrf>
      <section class="searchbox-outer dropdown" role="combobox" aria-expanded="false" aria-haspopup="listbox"
               aria-labelledby="header-search-label" aria-owns="header-search-dropdown">
        <h2 id="header-search-label">Quick Search</h2>
        <span class="icon" aria-hidden="true"></span>
        <input role="searchbox" id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" placeholder="Search Bugs"
               title="Enter a bug number or some search terms" aria-controls="header-search-dropdown"
               aria-label="Quick Search"><div id="header-search-dropdown" class="dropdown-content right" role="listbox" style="display: none;">
  <div id="header-search-dropdown-wrapper">
  </div>
</div>
      </section>
    </form>
    <nav id="header-nav">
      <ul class="links">
        <li class="link-browse">
          <a href="/describecomponents.cgi" title="Browse bugs by component">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Browse</span>
          </a>
        </li>
        <li class="link-search">
          <a href="/query.cgi?format=advanced" title="Search bugs using various criteria">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Advanced Search</span>
          </a>
        </li>
      </ul>
      <div class="dropdown">
        <button type="button" id="header-tools-menu-button" class="dropdown-button minor" title="More tools…"
                aria-label="More tools…" aria-expanded="false" aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a href="/report.cgi" role="menuitem" tabindex="-1">Reports</a>
          </li>
            <li role="separator"></li>
            <li role="presentation">
              <a href="https://bmo.readthedocs.io/en/latest/" role="menuitem" tabindex="-1">Documentation</a>
            </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links">
          <li id="moz_new_account_container_top"><a href="/createaccount.cgi">New Account</a></li><li id="mini_login_container_top">
  <a id="login_link_top" href="/show_bug.cgi?id=9413&amp;GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden"><span id="github_mini_login_top" class="mini_login_top">
    <form method="post" action="/github.cgi">
      <input type="hidden" name="github_secret" value="JVTwp0d7uTY3rQFcojQ44wB2mHwsvMraTHQoVZ6ZWgbcvFb2qzmcV0sYfEgQoZwHLXwjHOcSdivOgaDDbWiknNKouTyOUQ5FnJWnrhEFDtOKS8xeFqxtlwAheoVgIQSWvDShswCIytY6gqDsVd1mFhMfznkUZFC6obX4iWVYkBjJ5QTSiEAzBhC7HTqgXSJsrT4IXcxxmD4sJtpvPHCtgyNIaK4GktIVNUZForx5ZDC7ZBty62eaE65kHfkchf1r">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi?id=9413">
      <input type="image" src="/extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>

  <form action="/show_bug.cgi?id=9413" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top"
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
<li id="forgot_container_top">
  <a id="forgot_link_top" href="/show_bug.cgi?id=9413&amp;GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1598300650-Por181Pol6aszSln2MIc6Xr7rTNP8tjkc4g8oHIxUuc">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul><div id="header-external-links" class="dropdown first">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor" title="Mozilla"
          aria-label="Mozilla" aria-expanded="false" aria-haspopup="true" aria-controls="header-external-menu">
    <img src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg" width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" style="display:none;">
    <li role="presentation">
      <a href="https://www.mozilla.org/" role="menuitem" tabindex="-1">Mozilla Home</a>
    </li>
    <li role="separator"></li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem" tabindex="-1">Privacy</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem" tabindex="-1">Cookies</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem" tabindex="-1">Legal</a>
    </li>
  </ul>
</div>
  </div>
</header> 


<main id="bugzilla-body" tabindex="-1">
<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary"
      title="Copy bug number and summary to your clipboard">Copy Summary</button>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/9413" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=9413" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent" id="field-status_summary"
>


  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=9413">Bug 9413</a>
      </span>
      <span>
        <span class="bug-time-label">Opened <span class="rel-time" title="1999-07-07 22:22 PDT" data-time="931411364">21 years ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2005-08-30 07:39 PDT" data-time="1125412794">15 years ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field indent edit-hide"
>


  
    <div class=" container">
      

      <h1 id="field-value-short_desc">Don't allow duplicate messages<wbr>.</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-short_desc">
            Don't allow duplicate messages.

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (MailNews Core :: Database, enhancement, P3)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=MailNews%20Core" id="product-help-link" class="help">Product:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">MailNews Core
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">MailNews Core</div>
            <div class="description">Mail and news components common to Thunderbird and SeaMonkey</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=MailNews%20Core&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=MailNews%20Core"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="MailNews Core"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=MailNews%20Core&component=Database#Database" id="component-help-link" class="help">Component:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">Database
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">MailNews Core :: Database</div>
            <div class="description">Problems with underlying code in storage of address book content and mail/news summary files.   If the problem you are encountering is with the user interface of the address book or of accessing mail, then this component should not be chosen.</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=MailNews%20Core&amp;component=Database&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=MailNews%20Core&amp;component=Database&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=MailNews%20Core&amp;component=Database"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="MailNews Core" data-component="Database"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-version" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-version">
            Trunk

        </span>
    </div>

  
</div>

    <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>


  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>


  
    <div class="value">
        <span id="field-value-rep_platform">
            All

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>


  
    <div class="value">
        <span id="field-value-op_sys">
            All

        </span>
    </div>

  
</div><div class="field indent inline"
>


  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field contains-buttons" id="field-bug_type"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="enhancement">
        <span class="icon" aria-hidden="true"></span>enhancement</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-importance"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="importance-help-link" class="help">Priority:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-importance"><div class="field inline" id="field-priority"
>


  
    <div class="value">
        <span id="field-value-priority">P3
        </span>
    </div>

  
</div><div class="field inline" id="field-bug_severity"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_severity">
            normal

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>

    
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (Not tracked)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-view">RESOLVED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>


  
    <div class="value">
        <span id="field-value-bug_status">
            RESOLVED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>


  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-target_milestone" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-target_milestone">
            ---

        </span>
    </div>

  
</div>

    


      <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Project Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <td class="tracking-flag-name">user-doc-firefox</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_sumo-dirty">
  <select id="cf_tracking_firefox_sumo" name="cf_tracking_firefox_sumo">
        <option value="---"
          id="v4660_cf_tracking_firefox_sumo" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

      <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">relnote-firefox</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_relnote-dirty">
  <select id="cf_tracking_firefox_relnote" name="cf_tracking_firefox_relnote">
        <option value="---"
          id="v539_cf_tracking_firefox_relnote" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr68</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr68-dirty">
  <select id="cf_tracking_thunderbird_esr68" name="cf_tracking_thunderbird_esr68">
        <option value="---"
          id="v4353_cf_tracking_thunderbird_esr68" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr68-dirty">
  <select id="cf_status_thunderbird_esr68" name="cf_status_thunderbird_esr68">
        <option value="---"
          id="v4347_cf_status_thunderbird_esr68" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr78-dirty">
  <select id="cf_tracking_thunderbird_esr78" name="cf_tracking_thunderbird_esr78">
        <option value="---"
          id="v4823_cf_tracking_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr78-dirty">
  <select id="cf_status_thunderbird_esr78" name="cf_status_thunderbird_esr78">
        <option value="---"
          id="v4829_cf_status_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird80</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_80-dirty">
  <select id="cf_tracking_thunderbird_80" name="cf_tracking_thunderbird_80">
        <option value="---"
          id="v4846_cf_tracking_thunderbird_80" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_80-dirty">
  <select id="cf_status_thunderbird_80" name="cf_status_thunderbird_80">
        <option value="---"
          id="v4840_cf_status_thunderbird_80" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird81</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_81-dirty">
  <select id="cf_tracking_thunderbird_81" name="cf_tracking_thunderbird_81">
        <option value="---"
          id="v4904_cf_tracking_thunderbird_81" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_81-dirty">
  <select id="cf_status_thunderbird_81" name="cf_status_thunderbird_81">
        <option value="---"
          id="v4898_cf_status_thunderbird_81" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird82</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_82-dirty">
  <select id="cf_tracking_thunderbird_82" name="cf_tracking_thunderbird_82">
        <option value="---"
          id="v4936_cf_tracking_thunderbird_82" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_82-dirty">
  <select id="cf_status_thunderbird_82" name="cf_status_thunderbird_82">
        <option value="---"
          id="v4930_cf_status_thunderbird_82" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">seamonkey2.53</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_seamonkey253-dirty">
  <select id="cf_tracking_seamonkey253" name="cf_tracking_seamonkey253">
        <option value="---"
          id="v3334_cf_tracking_seamonkey253" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_seamonkey253-dirty">
  <select id="cf_status_seamonkey253" name="cf_status_seamonkey253">
        <option value="---"
          id="v3338_cf_status_seamonkey253" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">seamonkey2.57esr</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_seamonkey257esr-dirty">
  <select id="cf_tracking_seamonkey257esr" name="cf_tracking_seamonkey257esr">
        <option value="---"
          id="v3594_cf_tracking_seamonkey257esr" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_seamonkey257esr-dirty">
  <select id="cf_status_seamonkey257esr" name="cf_status_seamonkey257esr">
        <option value="---"
          id="v3588_cf_status_seamonkey257esr" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>

</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: CodeMachine, Assigned: Bienvenu)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_4410" ><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">Bienvenu</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-hide" id="field-qa_contact"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact"><div class="vcard vcard_1" ><img src="https://secure.gravatar.com/avatar/eaa3c40fff208819d0810fc338eea0aa?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=1" > <span class="fna">nobody</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_4412" ><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=4412" > <span class="fna">CodeMachine</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-triage_owner" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-triage_owner">
            ---

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>


  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="24">24 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug-list" id="field-dependson"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-dependson">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Patch to bug 9413 breaks build on 64-bit archs"
   href="/show_bug.cgi?id=310495">310495</a>
      </div>

        </span>
    </div>

  
</div><div class="field bug-list" id="field-blocked"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-blocked">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED EXPIRED - mail donwloaded from IMAP server is not marked as downloaded and when Mozilla duplicated messages are received and distributed by filter"
   href="/show_bug.cgi?id=195158">195158</a>
      </div>

        </span>
    </div>

  
</div><div class="field" id="field-dependencytree"
>
    <div class="name">
    </div>


  
    <div class=" container">
        <span id="field-value-dependencytree">
        Dependency <a href="/showdependencytree.cgi?id=9413&amp;hide_resolved=1">tree</a>
        / <a href="/showdependencygraph.cgi?id=9413">graph</a>
        </span>
    </div>

  
</div>

    <div class="field bug-list edit-show" id="field-regresses" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-regressed_by" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    <div class="field bug-list"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates" id="-help-link" class="help">Duplicates:
        </a>
    </div>


  
    <div class="value">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="enhancement"
              aria-label="enhancement" data-type="enhancement">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - [FEATURE]No Dup Mail"
   href="/show_bug.cgi?id=117796">117796</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - want a remove dup mail feature"
   href="/show_bug.cgi?id=158032">158032</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - allow option to remove duplicates from RSS feed"
   href="/show_bug.cgi?id=298299">298299</a>
      </div>

    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_file_loc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="" target="_blank"
      rel="noreferrer" title=""
      class="bug-url" data-safe="0"></a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-see_also"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-see_also">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - Unread deleted mail can not be restored from the trash folder with mail.server.default.dup.action = 2 (move duplicated mails to trash)"
   href="/show_bug.cgi?id=618809">618809</a>
      </div>

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Keywords: fixed1.8)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-alias">
        ---
        </span>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=fixed1.8&amp;resolution=---">fixed1.8</a>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status_whiteboard" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-status_whiteboard">---
        </span>
    </div>

  
</div>

    

    

    <div class="field" id="field-votes"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-votes">10
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_flags" style="display:none"
>
    <div class="name">Bug Flags:
    </div>


  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="This bug should be considered by thunderbird-drivers and developers as high-value and worthy of design &amp; review attention if a contributor offers a patch." for="flag_type-598">wanted-thunderbird</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-598-dirty">
      <select id="flag_type-598" name="flag_type-598"
        title="This bug should be considered by thunderbird-drivers and developers as high-value and worthy of design &amp; review attention if a contributor offers a patch."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag_type-803">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-803-dirty">
      <select id="flag_type-803" name="flag_type-803"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in-qa-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-37">in-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-37-dirty">
      <select id="flag_type-37" name="flag_type-37"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Include a summary of changes made by this bug in the release notes." for="flag_type-893">relnote</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-893-dirty">
      <select id="flag_type-893" name="flag_type-893"
        title="Include a summary of changes made by this bug in the release notes."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Signature:
    </div>


  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (2 files, 1 obsolete file)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=192758">work in progress</a>
        </div>
        <div>
            <a href="#c38" class="attach-time activity-ref"><span class="rel-time" title="2005-08-15 14:42 PDT" data-time="1124142174">15 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_4410" ><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div></span>
        </div>
        <div class="attach-info">13.55 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=192758&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=192758&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=9413&attachment=192758">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=193002">proposed fix</a>
        </div>
        <div>
            <a href="#c39" class="attach-time activity-ref"><span class="rel-time" title="2005-08-17 16:47 PDT" data-time="1124322444">15 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_4410" ><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div></span>
        </div>
        <div class="attach-info">15.44 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_93208" ><span class="fn">mscott</span>
</div>:
              <a href="#c0"
                  class="flag-name-status rel-time-title activity-ref"
                  title="15 years ago"
              data-time="1124322444"
            >
              superreview+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_93208" ><span class="fn">mscott</span>
</div>:
              <a href="#c50"
                  class="flag-name-status rel-time-title activity-ref"
                  title="15 years ago"
              data-time="1127337810"
            >
              approval1.8b5+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=193002&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=193002&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=9413&attachment=193002">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=195947">fix for problem with pop3 delete to trash dup action</a>
        </div>
        <div>
            <a href="#c48" class="attach-time activity-ref"><span class="rel-time" title="2005-09-13 14:19 PDT" data-time="1126646344">15 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_4410" ><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div></span>
        </div>
        <div class="attach-info">1.52 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_93208" ><span class="fn">mscott</span>
</div>:
              <a href="#c0"
                  class="flag-name-status rel-time-title activity-ref"
                  title="15 years ago"
              data-time="1126646344"
            >
              superreview+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_93208" ><span class="fn">mscott</span>
</div>:
              <a href="#c51"
                  class="flag-name-status rel-time-title activity-ref"
                  title="15 years ago"
              data-time="1127337893"
            >
              approval1.8b5+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=195947&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=195947&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=9413&attachment=195947">Splinter Review</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
      <button type="button" id="attachments-obsolete-btn" class="secondary">Show Obsolete</button>
  </div>
  
</footer>
  </div>
</section>



<script nonce="9lgTnc66MH8Q8rumtKNQFi8HTmwbl1nlPCuVH0HihN9ncAvB">
  init_module_visibility();
</script>



<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;80.0b8&quot;,&quot;FIREFOX_ESR&quot;:&quot;68.11.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;78.1.0esr&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;81.0a1&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2020-07-27&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2020-07-28&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2020-07-23&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;80.0b8&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;80.0b8&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;79.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2020-08-24&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2020-08-25&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2020-08-20&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="70970" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" ><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" ><a class="email " href="/user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-07 22:22 PDT" data-time="931411364">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-0" data-comment-id="70970">Moz should not allow the storage of duplicate msgs.  This can occur in the
following circumstances.

(a) Subscribed to multiple mailing lists it comes through, eg the Mozilla lists.
(b) POP download terminates (crash, line dropout, etc) and the server sends the
msg through again.
(c) Copying a msg from one folder to another.
(d) Could be present from legacy mail folders before the dupe prevention was
introduced.

I'm not sure in which of these cases dupes can be detected, but when they can,
it would be nice if a second copy wasn't saved.

Since the &quot;copy&quot; function exists, you'd probably want to allow dupes in
different folders, although a &quot;Find Dupes&quot; function would still be nice.</pre></div><div class="change-set" id="a37278_4410"><div class="change" id="aa37278_4410">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4410" id="a37278_4410"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a37278_4410"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a37278_4410">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a37278_4410">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-08 08:44 PDT" data-time="931448642">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Status: NEW &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="1999-07-08 08:44 PDT" data-time="931448642">21 years ago</span></div><div class="change">Resolution: --- &rarr; LATER</div></div></div><div class="change-set" id="c1"><div class="comment" data-id="70971" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-1" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a37278_4410"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-08 08:44 PDT" data-time="931448699">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-1" data-comment-id="70971">I'm sorry, but there's not much we can do about this - it's fraught with peril
to start throwing away messages.</pre></div><div class="change-set" id="c2"><div class="comment" data-id="70972" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-2" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4639" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/6fc3efa95ea00104c2fcb8da41b0dee0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4639" id="a37278_4410"><a class="email disabled" href="/user_profile?user_id=4639" > <span class="fna">davidmc</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-08 14:15 PDT" data-time="931468559">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-2" data-comment-id="70972">My remarks are consistent with David Bienvenu's -- this is just more detail.

Identity is a hard problem to solve, and knowing when a message is a dup
requires some global identification scheme that is not practical to define
when many operating contexts will use their own local msg ID definition.

The bug report seems to intend saving storage space by avoiding dups,
since having a dup is not itself an error; it is merely redundant.  But
storage space is cheap and very small amounts of redundancy is a low cost
compared to risk of actual data loss that can occur if code ever became
confused about identity and deleted messages too aggressively.  As a
risk, data loss is orders of magnitude greater risk than excessive space
usage of modest proportions.

David's remarks summarize that modest cost savings is not worth a big
increase in risk for data loss resulting from identity confusion.</pre></div><div class="change-set" id="c3"><div class="comment" data-id="70973" data-no="3"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-3" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a37278_4410"><a class="email " href="/user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-3"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-3" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-08 16:11 PDT" data-time="931475519">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-3" data-comment-id="70973">I don't care about the disk space, it just *#$%s me off when there's three
copies of every message in a folder cause my POP download crashed in the middle
twice.  Anything that would resolve this would be great..</pre></div><div class="change-set" id="c4"><div class="comment" data-id="70974" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-4" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4639" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/6fc3efa95ea00104c2fcb8da41b0dee0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4639" id="a37278_4410"><a class="email disabled" href="/user_profile?user_id=4639" > <span class="fna">davidmc</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-08 16:55 PDT" data-time="931478159">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-4" data-comment-id="70974">Ow, sorry about your distress.



Here's an idea to run by David Bienvenu.  It might be feasible to suppress

dups that are bytewise identical from beginning to end.  It would involve

storing a hash of message bytes as an attribute in summary files, and then

one could look for hash match before doing a bytewise comparison.  This

implies an index by hash value at runtime, which is big footprint in Mork.

So it would use up RAM, disk, and cycles at runtime to avoid dups that way.

A pref might turn on such checking.  Does pop permit such dup detection?</pre></div><div class="change-set" id="c5"><div class="comment" data-id="70975" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-5" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4080" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/41b4ffbe29291f5bf19a7eb729331dda?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4080" id="a37278_4410"><a class="email disabled" href="/user_profile?user_id=4080" > <span class="fna">lchiang</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-08 17:01 PDT" data-time="931478519">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-5" data-comment-id="70975">If we add this feature into the product, would you like to write up the test
plans and test cases for this, matty? The main testing item would be to make
sure that no messages are deleted incorrectly, thus losing someone's data. You'd
need to test it on Win32, MacOS, and Linux.  There are no QA resources for
testing this feature if implemented.  Thanks.</pre></div><div class="change-set" id="c6"><div class="comment" data-id="70976" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-6" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a37278_4410"><a class="email " href="/user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-08-05 00:45 PDT" data-time="933839159">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-6" data-comment-id="70976">Well, I guess I could try.  I have facilities for Win32 and Linux, not Mac,
someone else would need to do this.  I'm not sure how easy it would be to test
this on two platforms though, because I'd be using my real mail file and real
mail box.  This could depend a lot on <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED INCOMPLETE - All profile contents should use cross-platform formats"
   href="/show_bug.cgi?id=7067">bug #7067</a> (cross-platform formats), for
me to be able to do this, as I'm not eager to lose mail.

This being said, I've seen other people request this, although I don't know if
it's a POP problem or just mailing lists.

It seems with my ISP POP server if you download, cancel and then restart right
away it redownloads all of the msgs.  I assume this happens if it hasn't
finished deleting and compacting the mail file.  So I can definitely test this.

BTW is this standard behaviour from POP servers?  I do this because I get around
~500 msgs a day and POP dropouts can be bad.  Is there no way for POP servers to
be told to mark deleted messages part way through the transfer to avoid the
whole problem?  I would say build in a cancel and restart after x messages
feature into Moz, except I've already explained my POP server's behaviour.

What I might be able to do is fiddle around a bit in Linux and work out how to
set up a pop server.  Then I could do a client/server combo and fill the mailbox
with test msgs.

I understand the pseudo-heuristic nature of this and the need to
undercompensate.  I gather test cases would be along the lines of no messages,
one, two, ten, thousands etc. with different combinations of dupes in different
orders (together, one apart, two apart, ten apart, two in a row, three in a
row, ten in a row, thousand dupes all together, etc).  These cases are probably
much the same for both overzealous deletion and proper deletion.  Also,
there should be tests on near dupes - mailing list cross-posts might fall into
this category if you're not trying to catch them, maybe also messages whose
text are proper prefixes of other messages.  Anything else?

BTW, how do mailing list dupes differ?  On certain headers I presume, but which?</pre></div><div class="change-set" id="c7"><div class="comment" data-id="70977" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-7" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a37278_4410"><a class="email " href="/user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-08-05 03:54 PDT" data-time="933850499">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-7" data-comment-id="70977">BTW, I can see the efficiency problems that could be involved here - perhaps it
might be better to do this on a menu item which computes the hashes for all the
message in a folder, sorts them, does a true compare (maybe?) and removes
dupes.  So it would be manual rather than on the fly.  In these pop crash
situations at least, you generally know when it needs to be done.</pre></div><div class="change-set" id="c8"><div class="comment" data-id="70978" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-8" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a37278_4410"><a class="email " href="/user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-08-25 00:14 PDT" data-time="935565299">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-8" data-comment-id="70978">Shall I mark this [HELP WANTED]?</pre></div><div class="change-set" id="c9"><div class="comment" data-id="70979" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-9" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4080" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/41b4ffbe29291f5bf19a7eb729331dda?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4080" id="a37278_4410"><a class="email disabled" href="/user_profile?user_id=4080" > <span class="fna">lchiang</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-08-25 10:38 PDT" data-time="935602739">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-9" data-comment-id="70979">Feel free to go ahead and do so.  Thanks.</pre></div><div class="change-set" id="c10"><div class="comment" data-id="70980" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-10" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4639" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/6fc3efa95ea00104c2fcb8da41b0dee0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4639" id="a37278_4410"><a class="email disabled" href="/user_profile?user_id=4639" > <span class="fna">davidmc</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-08-25 14:11 PDT" data-time="935615519">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-10" data-comment-id="70980">Sounds like you are on the right track.  Hashing should be involved to help do a
fast accept or reject, where those are terms used in algorithms that attempt to
answer a related question in a fuzzy manner that obviates the need for a more
expensive approach.  For example, if messges are bitwise identical, they will
have the same hash; so if you get a hash you've never seen before, it cannot be a
dup of one you already have in hand, or else the hash would be found in some
table that maps your existing hashes to existing messages.  But if the hash is
the same as one you have seen before, you still don't know, because two messages
can have the same hash (although it's unlikely), so you need to bytewise compare
them.  However, the need to do the bytewise compare is thus reduced to the rare
circumstance when the hash is the same, so you pay the cost very infrequently.</pre></div><div class="change-set" id="c11"><div class="comment" data-id="70981" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-11" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4639" id="a37278_4410"><img src="https://secure.gravatar.com/avatar/6fc3efa95ea00104c2fcb8da41b0dee0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4639" id="a37278_4410"><a class="email disabled" href="/user_profile?user_id=4639" > <span class="fna">davidmc</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-08-25 14:16 PDT" data-time="935615819">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-11" data-comment-id="70981">I suppose the interesting problem is what to do with messages that differ only in
the headers, when they body is the same.  I'll ignore the ways you might decide
two messages might be &quot;equal&quot; even with slightly different headers, and address a
better approach that assumes you have some fine control of message storage that
does not involve the mbox format that stores each message in toto.  You could
break headers apart from bodies, and hash the headers and bodies separately, and
thus prevent any duplication of bodies, and maybe let multiple parent headers use
the same child body.  And this approach loses no data, and keeps all the
messages, but avoids storing a body twice when it is the same, even with
different headers from multiple messages.</pre></div><div class="change-set" id="a4321870_4412"><div class="change" id="aa4321870_4412">
    <table class="layout-table change-head reporter" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a4321870_4412"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4412" id="a4321870_4412"><a class="email " href="/user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a4321870_4412"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a4321870_4412">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a4321870_4412">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-08-26 22:53 PDT" data-time="935733234">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: Don't allow duplicate messages. &rarr; [HELP WANTED]Don't allow duplicate messages.</div><div class="change">Whiteboard: HELP WANTED</div><div class="change">Target Milestone: M15</div></div></div><div class="change-set" id="c12"><div class="comment" data-id="70982" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-12" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a4321870_4412"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a4321870_4412"><a class="email " href="/user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-08-26 22:53 PDT" data-time="935733239">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-12" data-comment-id="70982">For what it's worth, I'm not too fussed about mailing list and other body dupes,
because I generally put them in different folders.  One day I'll get around to
converting my filters to using Resent-From to fix up the Moz lists.  =)

The duplicate body idea is an interesting form of natural compression, but would
still require at-arrival hash computation for comparison to existing hashes,
which the manual option doesn't.  You'd know more than me as to what sort of hit
that would lead to though.

I'm not sure many people are concerned with this however, rather they want to
reduce the database entries rather than size.  I've personally never looked at
my mail databases and thought that they were too big.  I'm sure it's interesting
to a database implementer though.  =)

I wouldn't say that the hashes are the same in rare circumstances - at least for
the manual option, I imagine dupe msgs and hence hashes would be common.

Setting bug to the current standard for [HELP WANTED] bugs - should I have used
the new M20 milestone?  =)</pre></div><div class="change-set" id="c13"><div class="comment" data-id="70983" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-13" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4639" id="a4321870_4412"><img src="https://secure.gravatar.com/avatar/6fc3efa95ea00104c2fcb8da41b0dee0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4639" id="a4321870_4412"><a class="email disabled" href="/user_profile?user_id=4639" > <span class="fna">davidmc</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-08-27 11:39 PDT" data-time="935779199">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-13" data-comment-id="70983">My main goal was less compression that just identification of which messages
actually shared duplicate bodies with others.  This could become an attribute
of a message upon which one could filter with absolute knowledge that being a
body-dup was actually a known fact.</pre></div><div class="change-set" id="c14"><div class="comment" data-id="70984" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-14" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1869" id="a4321870_4412"><img src="https://secure.gravatar.com/avatar/95bb32dbcdb50fbea24ccd93a553eb7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_1869" id="a4321870_4412"><a class="email disabled" href="/user_profile?user_id=1869" > <span class="fna">Phil Peterson</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-08-31 17:36 PDT" data-time="936146219">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-14" data-comment-id="70984">Reopen mail/news HELP WANTED bugs and reassign to <a href="mailto:nobody&#64;mozilla.org">nobody&#64;mozilla.org</a></pre></div><div class="change-set" id="c15"><div class="comment" data-id="70985" data-no="15"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-15" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10232" id="a4321870_4412"><img src="https://secure.gravatar.com/avatar/cd0b9aa84f6244fbc7c1b3a071747092?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10232" id="a4321870_4412"><a class="email disabled" href="/user_profile?user_id=10232" > <span class="fna">mozilla.old.2</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-15"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-15" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-09-02 00:25 PDT" data-time="936257159">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-15" data-comment-id="70985">I don't think the risk of data loss is very high (but existant) when it is fired
by the user, because otherways, he had to do this by hand, and this is risky,
too.

I thought, every message has an unique Msg-ID, which is preserved during all
resending and copying. Why not use this?</pre></div><div class="change-set" id="c16"><div class="comment" data-id="70986" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-16" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a4321870_4412"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a4321870_4412"><a class="email " href="/user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-09-02 03:34 PDT" data-time="936268499">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-16" data-comment-id="70986">Exactly.  Very risky.

I don't think there's any disagreement that pop crash and copy message
duplicates can be handled, since they are exactly the same.  The remaining issue
was mailing list dupes, which can differ, for example in &quot;Resent-From&quot;.  A good
implementation that ignores this last kind of dupe would work well and be safe.</pre></div><div class="change-set" id="c17"><div class="comment" data-id="70987" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-17" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4403" id="a4321870_4412"><img src="https://secure.gravatar.com/avatar/aca22d6fd996354d73869fd32d3d9486?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4403" id="a4321870_4412"><a class="email " href="/user_profile?user_id=4403" > <span class="fna">John G. Myers</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-01-09 16:01 PST" data-time="947462519">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-17" data-comment-id="70987">For POP servers which support the UIDL command, you can safely skip downloading
messages with &lt;server/UIDL&gt; pairs matching messages you've already downloaded.
This was a key motivation for adding the UIDL command to the POP protocol.</pre></div><div class="change-set" id="c18"><div class="comment" data-id="70988" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-18" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10107" id="a4321870_4412"><img src="https://secure.gravatar.com/avatar/5a34d8fb39adb91e05e80cfe47c3ce95?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10107" id="a4321870_4412"><a class="email disabled" href="/user_profile?user_id=10107" > <span class="fna">davidnicol</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-01-17 10:50 PST" data-time="948135059">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-18" data-comment-id="70988">In addition to tracking server/UIDL pairs to avoid duplicate pop3 downloads,
a &quot;download at most &lt;N&gt; messages at once&quot; feature could help limit the
duration of a single pop3 session.  It might be better to download my
three thousand incoming messages in six batches of 500 than to download all
of them at once, for instance.</pre></div><div class="change-set" id="a17264269_2365"><div class="change" id="aa17264269_2365">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_2365" id="a17264269_2365"><img src="https://secure.gravatar.com/avatar/d64af6519edc4b408a6af25aa73a9d0e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_2365" id="a17264269_2365"><a class="email disabled" href="/user_profile?user_id=2365" > <span class="fna">Michael Lowe</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a17264269_2365"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a17264269_2365">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a17264269_2365">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-01-23 17:00 PST" data-time="948675633">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=helpwanted&amp;resolution=---">helpwanted</a></div></div></div><div class="change-set" id="a17500466_1869"><div class="change" id="aa17500466_1869">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1869" id="a17500466_1869"><img src="https://secure.gravatar.com/avatar/95bb32dbcdb50fbea24ccd93a553eb7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1869" id="a17500466_1869"><a class="email disabled" href="/user_profile?user_id=1869" > <span class="fna">Phil Peterson</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a17500466_1869"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a17500466_1869">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a17500466_1869">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-01-26 10:37 PST" data-time="948911830">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: [HELP WANTED]Don't allow duplicate messages. &rarr; Don't allow duplicate messages.</div><div class="change">Whiteboard: <span class="activity-deleted">HELP WANTED</span></div></div></div><div class="change-set" id="a17513675_1869"><div class="change" id="aa17513675_1869">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1869" id="a17513675_1869"><img src="https://secure.gravatar.com/avatar/95bb32dbcdb50fbea24ccd93a553eb7a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1869" id="a17513675_1869"><a class="email disabled" href="/user_profile?user_id=1869" > <span class="fna">Phil Peterson</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a17513675_1869"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a17513675_1869">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a17513675_1869">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-01-26 14:17 PST" data-time="948925039">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Target Milestone: <span class="activity-deleted">M15</span></div></div></div><div class="change-set" id="c19"><div class="comment" data-id="219844" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-19" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11608" id="a17513675_1869"><img src="https://secure.gravatar.com/avatar/d2dc9227eafcd0ec5ba3712ee4f19b75?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_11608" id="a17513675_1869"><a class="email " href="/user_profile?user_id=11608" > <span class="fna">Jesse Ruderman</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-03-05 16:05 PST" data-time="952301148">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-19" data-comment-id="219844">The mailer shouldn't hide the fact that two mailing lists sent you the same 
message.  If neither mailing list adds something to the message to make it 
clear what list it is from, the mailer should at least indicate to the user 
that the message was recieved twice.</pre></div><div class="change-set" id="c20"><div class="comment" data-id="603439" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-20" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a17513675_1869"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a17513675_1869"><a class="email " href="/user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-02-17 17:20 PST" data-time="982459235">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-20" data-comment-id="603439">Please take all issues of reducing the number of messages that need to be
downloaded on POP failure to newly filed <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - POP downloads should save progress."
   href="/show_bug.cgi?id=69244">bug #69244</a>.

<span class="quote">&gt; The mailer shouldn't hide the fact that two mailing lists sent you the same
&gt; message.  If neither mailing list adds something to the message to make it
&gt; clear what list it is from, the mailer should at least indicate to the user
&gt; that the message was recieved twice.</span >

Maybe, but I'd call that a separate RFE now.  See also <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - Hide duplicated messages"
   href="/show_bug.cgi?id=60876">bug #60876</a>.</pre><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=mozilla1.2&amp;resolution=---">mozilla1.2</a></div></div></div><div class="change-set" id="c21"><div class="comment" data-id="961277" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-21" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a17513675_1869"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4054" id="a17513675_1869"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-08 16:31 PDT" data-time="1002583882">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-21" data-comment-id="961277">Please don't make it impossible to store duplicates in a folder -- we already
have this with bookmarks, and it is really annoying. If I *want* a duplicate, it
should be possible. I prefer <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - Hide duplicated messages"
   href="/show_bug.cgi?id=60876">bug 60876</a>'s suggestions. See also <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - RFE:Add Remove Duplicate Message"
   href="/show_bug.cgi?id=87853">bug 87853</a>.</pre><div class="activity"><div class="change">Whiteboard: WONTFIX? (see bugs 60876 and 87853)</div></div></div><div class="change-set" id="c22"><div class="comment" data-id="1092299" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-22" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a17513675_1869"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a17513675_1869"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-02 18:10 PST" data-time="1010023810">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-22" data-comment-id="1092299">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - [FEATURE]No Dup Mail"
   href="/show_bug.cgi?id=117796">Bug 117796</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c23"><div class="comment" data-id="1314157" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-23" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29118" id="a17513675_1869"><img src="https://secure.gravatar.com/avatar/9b0c9c4e4f99b4d7ee5ed1b16dbe8757?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29118" id="a17513675_1869"><a class="email " href="/user_profile?user_id=29118" > <span class="fna">Lapo Luchini</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-04-29 18:56 PDT" data-time="1020131795">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-23" data-comment-id="1314157"><span class="quote">&gt;The mailer shouldn't hide the fact that two mailing lists sent you the same</span >
message.

I think having an option to avoid (optionally!) it would be better... 95% of the
time you don't need to know that you received a duplicate (well, if that option
were out there, I'd use it).

About the difficulties in detecting dupes: isn't &quot;Message-ID:&quot; header used by
most mail-server out there? I think having dupe-control on messages which do
have such a header would be enough to keep everyone happy.</pre></div><div class="change-set" id="c24"><div class="comment" data-id="1443088" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-24" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7990" id="a17513675_1869"><img src="https://secure.gravatar.com/avatar/b4b4f88ab8a25fe8791c421471cc0ba6?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_7990" id="a17513675_1869"><a class="email " href="/user_profile?user_id=7990" > <span class="fna">Zac Spitzer</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-07-12 04:33 PDT" data-time="1026473606">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-24" data-comment-id="1443088">can I ask a stupid question here, what does the market leader m$outlook do in
this situation?

</pre></div><div class="change-set" id="c25"><div class="comment" data-id="1443231" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-25" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7621" id="a17513675_1869"><img src="https://secure.gravatar.com/avatar/e29fe25cc3160add277a5fcf43a42473?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_7621" id="a17513675_1869"><a class="email " href="/user_profile?user_id=7621" > <span class="fna">Roman R.</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-07-12 07:58 PDT" data-time="1026485900">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-25" data-comment-id="1443231">The main reason for existance of duplicate messages is when a failure occurs 
during receiving of messages and a mail client redownloads the same messages 
when the process is restarted. When I had such an interruption when using 
Outlook, it didn't download the same messages again when I restarted. It 
appeared that Outlook either sent commands to a POP server to delete messages it 
just downloaded so that that they stay there or it could determine which of the 
messages on the server have been downloaded and delete them before resuming 
downloading the remaining messages, or something else. You can try it yourself: 
configure Outlook to work with your server and close it (or better yet, 
disconnect from the net during message download) and see what it does.

I think that at the very least, an email client should allow configure a number 
of messages to download at a time, just like a newgroup client does.</pre></div><div class="change-set" id="c26"><div class="comment" data-id="1635603" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-26" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75252" id="a17513675_1869"><img src="https://secure.gravatar.com/avatar/f436ae342f900dcada95d02ccd4ec43b?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_75252" id="a17513675_1869"><a class="email disabled" href="/user_profile?user_id=75252" > <span class="fna">James E Cottrell 3rd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-14 12:59 PST" data-time="1037307575">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-26" data-comment-id="1635603">Whether or not you think this should happen, it does. A lot. Besides, I should
be able to merge separate folder and delete duplicates. Regardless of the cause,
a solution must be found.

It has been stated that this would be difficult, and that autodeletion is
dangerous. To this, I say &quot;not really&quot; and &quot;not with a bit of care&quot;.

The message header window shows a number of fields. Clicking on any field sorts
on this field. Obviously, sorting on addresses, subjects, size, and date use
different algorithms to determine less than/equal/greater than. So too would the
sort on the Message-ID field.

The care that is required is to compare the message hesders and text byte for
byte. Duplicates could be detected and deleted. Partial messages (a subset which
lines up at the left  side) can be thrown away too, keeping the full version.

Note here that I am talking about duplicates in one file/folder only. I am also
talking about cleanup on demand. Duplicates are allowed and not checked for by
default, thus avoiding wasting the overhead when not needed.</pre></div><div class="change-set" id="c27"><div class="comment" data-id="1688025" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-27" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_36876" id="a17513675_1869"><img src="https://secure.gravatar.com/avatar/628ca38378e1ae0f6f15a30f7d073fe0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_36876" id="a17513675_1869"><a class="email disabled" href="/user_profile?user_id=36876" > <span class="fna">Jonadab the Unsightly One (Nathan Eady)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-12-23 12:21 PST" data-time="1040674893">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-27" data-comment-id="1688025">Gnus does this.  In two different ways.

In cases where the duplicate shows up in the same group (Gnus equivalent of
a folder) as the other one, they are not suppressed by default but can be by
setting a pref; it is display that is suppressed, not storage.  

Across groups, nnml stores dupes (including copies) as symlinks (unless you
disable this, which has to be done if you store your mail on a filesystem that
doesn't support symlinks), and marking a message as read in one group marks
it as read everywhere it occurs.  This (marking all instances as read) also
happens on usenet (nntp backend) with crossposted messages, but multipostings
seem to evade it (possibly because they are not bytewise identical).  I'm not
sure what the other Gnus storage backends do (nnfolder, nnmbox, and so on).  

The ability to store duplicates once and reference them multiple times would
depend heavily on the storage backend.  Additionally, these two features 
would accomplish two different things (storage savings versus saving the 
user time).  Marking all instances as read would probably not, however -- 
maybe those should be two separate bugs.  The reporter seems more concerned
with the latter, so this bug could be about that and anyone who wants the
disk savings could file the other separately.  </pre></div><div class="change-set" id="c28"><div class="comment" data-id="1746174" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-28" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_71743" id="a17513675_1869"><img src="https://secure.gravatar.com/avatar/53e5797d81d0441f521dffa522b34e09?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_71743" id="a17513675_1869"><a class="email disabled" href="/user_profile?user_id=71743" > <span class="fna">Jon Roland</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-02-14 13:03 PST" data-time="1045256617">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-28" data-comment-id="1746174">I propose a Duplicate Management function similar to the Junk Management
function that is emerging:

1. Nearly certain duplicates would be moved to a Duplicates folder where they
could be examined and perhaps moved back to the Inbox or to another folder.

2. Suspected duplicates would be flagged in a column similar to the Flag and
Junk columns. If confirmed, they could be moved to the Duplicates folder or deleted.

3. Training would enable the establishment of rules such as, &quot;If duplicate
messages come from the PIML and LIS-LEAF lists, leave the latter in the Inbox
and move the former into the Duplicates folder (or delete it).

4. Might want to have a macro language, perhaps similar to that of Z-Mail, that
could be used to facilitate various management functions of this kind, including
which of several duplicates to keep and which to move or delete.


</pre></div><div class="change-set" id="a114903252_8393"><div class="change" id="aa114903252_8393">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_8393" id="a114903252_8393"><img src="https://secure.gravatar.com/avatar/2c88e084902886da993e9ed55a6c1fc8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_8393" id="a114903252_8393"><a class="email disabled" href="/user_profile?user_id=8393" > <span class="fna">Aleksander Slominski</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a114903252_8393"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a114903252_8393">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a114903252_8393">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-02-26 18:56 PST" data-time="1046314616">18 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED EXPIRED - mail donwloaded from IMAP server is not marked as downloaded and when Mozilla duplicated messages are received and distributed by filter"
   href="/show_bug.cgi?id=195158">195158</a></div></div></div><div class="change-set" id="c29"><div class="comment" data-id="1763453" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-29" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_34819" id="a114903252_8393"><img src="https://secure.gravatar.com/avatar/0995e3e9ee1c7260ffd6a99709698b20?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_34819" id="a114903252_8393"><a class="email disabled" href="/user_profile?user_id=34819" > <span class="fna">Dann Martens</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-02-28 03:11 PST" data-time="1046430694">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-29" data-comment-id="1763453">I very much support the duplicate removal function as a tool, similar to the
Junk  function. 

Also, I acknowledge the difficulty in defining what duplicates are, and how they
can occur, and how they should be detected. However, I think in such a case, it
pays off to simplify matters and reduce the possible cases. 

Couldn't we tackle *real* duplicates first ?

Binary duplicates (or partial binary matches of broken mails) are a real
problem. They can occur through mail server download problems, or in my case,
through severe thrashing of my mail database whilst reorganising mail in folders
using older versions of Mozilla. Moving large volumes of mail to another folder
really caused havoc on my side. I've got many many many binary duplicates all
over the place. Cleaning them manually would take ages, and is error prone.

I'd find a tool which would delete binary duplicates, or partially matching ones
(meaning the fragment fits an existing mail completely), very useful indeed.
</pre></div><div class="change-set" id="c30"><div class="comment" data-id="1763517" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-30" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_33446" id="a114903252_8393"><img src="https://secure.gravatar.com/avatar/194e2a26ff9dc5903b97a7b0bedb0a05?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_33446" id="a114903252_8393"><a class="email " href="/user_profile?user_id=33446" > <span class="fna">Arnaud Ladrière</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-02-28 04:56 PST" data-time="1046437011">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-30" data-comment-id="1763517">I do fully agree with the latest comment, since I have EXACTLY the same problem
: many *real* duplicates in my 50000+ email database, which I can't delete
manually, since it would take ages !!</pre></div><div class="change-set" id="c31"><div class="comment" data-id="1763734" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-31" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7621" id="a114903252_8393"><img src="https://secure.gravatar.com/avatar/e29fe25cc3160add277a5fcf43a42473?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_7621" id="a114903252_8393"><a class="email " href="/user_profile?user_id=7621" > <span class="fna">Roman R.</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-02-28 08:30 PST" data-time="1046449836">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-31" data-comment-id="1763734">I think detecting &quot;real&quot; duplicates is not a difficult task. As has been 
previously mentioned, messages contain Message-ID's that should uniquely 
identify them.</pre></div><div class="change-set" id="c32"><div class="comment" data-id="1788678" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-32" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_77493" id="a114903252_8393"><img src="https://secure.gravatar.com/avatar/176e6856fa70e7719e7c27235a0c9e28?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_77493" id="a114903252_8393"><a class="email " href="/user_profile?user_id=77493" > <span class="fna">Stewart Gordon</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-03-21 09:35 PST" data-time="1048268154">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-32" data-comment-id="1788678">Two circumstances you don't mention:

(e) copying messages from a newsgroup to an archive folder, not always
easy/convenient to manually keep track of which have already been copied across

(f) moving a message posted to a mailing list or newsgroup from Sent to the same
archive folder as the received or on-newsgroup copy has been placed.

But what we really need is a means of searching for duplicates to look through
and delete manually.  Maybe some measure of 'sameness' the user can see as an
aid would be handy.  But I'm not sure:

- If a message is sent to several people at once, will they go with the same
Message-ID?
- Do mailing lists preserve the Message-ID when propagating to the individual
members?</pre></div><div class="change-set" id="a119224180_4080"><div class="change" id="aa119224180_4080">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4080" id="a119224180_4080"><img src="https://secure.gravatar.com/avatar/41b4ffbe29291f5bf19a7eb729331dda?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4080" id="a119224180_4080"><a class="email disabled" href="/user_profile?user_id=4080" > <span class="fna">lchiang</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a119224180_4080"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a119224180_4080">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a119224180_4080">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-04-17 20:12 PDT" data-time="1050635544">18 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">QA Contact: lchiang &rarr; nobody</div></div></div><div class="change-set" id="c33"><div class="comment" data-id="2020299" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-33" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_31930" id="a119224180_4080"><img src="https://secure.gravatar.com/avatar/8f845783dcf62ce033823524dabe523d?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_31930" id="a119224180_4080"><a class="email " href="/user_profile?user_id=31930" > <span class="fna">Jungshik Shin</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-04 20:51 PST" data-time="1070599895">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-33" data-comment-id="2020299">
<span class="quote">&gt; If a message is sent to several people at once, will they go with the same</span >
Message-ID?

Yes if sent at once.

<span class="quote">&gt; Do mailing lists preserve the Message-ID when propagating to the individual</span >
members?

   I haven't seen cases otherwise, but there may be some list managemen software
that changes the message-ID. I have to check RFC 821/822 (and RFC 2822/2821)
about this. OK. RFC 2822 has the following to say about the Message-ID (it's
optional but marked as 'SHOULD' falling short of 'MUST'):
(<a rel="nofollow" href="http://www.faqs.org/rfcs/rfc2822.html">http://www.faqs.org/rfcs/rfc2822.html</a> section 3.6.4)

Note: There are many instances when messages are &quot;changed&quot;, but those
   changes do not constitute a new instantiation of that message, and
   therefore the message would not get a new message identifier.  For
   example, when messages are introduced into the transport system, they
   are often prepended with additional header fields such as trace
   fields (described in section 3.6.7) and resent fields (described in
   section 3.6.6).  The addition of such header fields does not change
   the identity of the message and therefore the original &quot;Message-ID:&quot;
   field is retained.  In all cases, it is the meaning that the sender
   of the message wishes to convey (i.e., whether this is the same
   message or a different message) that determines whether or not the
   &quot;Message-ID:&quot; field changes, not any particular syntactic difference
   that appears (or does not appear) in the message.

So, list management software and MTA/MDA are not supposed to change the message-id. </pre></div><div class="change-set" id="c34"><div class="comment" data-id="2161114" data-no="34"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-34" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_111729" id="a119224180_4080"><img src="https://secure.gravatar.com/avatar/9c1eae6e1a2397b297e97e7137a6313b?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_111729" id="a119224180_4080"><a class="email disabled" href="/user_profile?user_id=111729" > <span class="fna">Martin Hajduch</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-05-27 05:38 PDT" data-time="1085661482">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-34" data-comment-id="2161114">since i'm downloading pop3 messages on more then one computer, i usually keep
messages on pop3 server for several days
every now and then it happens that the whole server mailbox is read again and i
end up with a lot of dupes

i like the idea of user function (somewhere in menu) to remove dupes, it could
be something like this:

1. user selects mailboxes which should be searches
2. user selects comparison method (i.e. method how to transform full email
source into something which will be then compared); it can be either full
compare, or body compare, or sender+date+subject compare, etc ...
3. all messages in selected mailboxes are read, based on comparison method
selected in step 2.pre-processed, and hash is computed (from the result of
preprocessing)
4. hashes are sorted, and second pass will do compare of email sources
(transformed using method selected in step 2) based on matchin hashes
5. found dupes can be either removed or moved to a special folder

i think that this will solve most of the problems with dupes; more clever
comparison methods (some fuzzy magic) can be still added later; but i think that
the most annoying are dups with either the whole sources or at least bodies
completely (bitwise) identical</pre></div><div class="change-set" id="c35"><div class="comment" data-id="2161116" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-35" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_111729" id="a119224180_4080"><img src="https://secure.gravatar.com/avatar/9c1eae6e1a2397b297e97e7137a6313b?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_111729" id="a119224180_4080"><a class="email disabled" href="/user_profile?user_id=111729" > <span class="fna">Martin Hajduch</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-05-27 05:38 PDT" data-time="1085661532">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-35" data-comment-id="2161116">since i'm downloading pop3 messages on more then one computer, i usually keep
messages on pop3 server for several days
every now and then it happens that the whole server mailbox is read again and i
end up with a lot of dupes

i like the idea of user function (somewhere in menu) to remove dupes, it could
be something like this:

1. user selects mailboxes which should be searches
2. user selects comparison method (i.e. method how to transform full email
source into something which will be then compared); it can be either full
compare, or body compare, or sender+date+subject compare, etc ...
3. all messages in selected mailboxes are read, based on comparison method
selected in step 2.pre-processed, and hash is computed (from the result of
preprocessing)
4. hashes are sorted, and second pass will do compare of email sources
(transformed using method selected in step 2) based on matchin hashes
5. found dupes can be either removed or moved to a special folder

i think that this will solve most of the problems with dupes; more clever
comparison methods (some fuzzy magic) can be still added later; but i think that
the most annoying are dups with either the whole sources or at least bodies
completely (bitwise) identical</pre></div><div class="change-set" id="c36"><div class="comment" data-id="2161133" data-no="36"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-36" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_77493" id="a119224180_4080"><img src="https://secure.gravatar.com/avatar/176e6856fa70e7719e7c27235a0c9e28?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_77493" id="a119224180_4080"><a class="email " href="/user_profile?user_id=77493" > <span class="fna">Stewart Gordon</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-36"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-36" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-05-27 05:59 PDT" data-time="1085662766">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-36" data-comment-id="2161133">How would it decide which to remove, especially if they're not exact matches?

One possible rule, if one has header lines that the other doesn't, keep that
one.  This would happen in the case of a sent message that is later received,
either on the newsgroup it was posted to or because I send to a mailing list
that includes myself.

Of course, things get tricky if neither header list is a subset of the other, or
if the body has changed.  Of course, the latter'll usually be a signature added
by a mailing list server....</pre></div><div class="change-set" id="a169761841_27300"><div class="change" id="aa169761841_27300">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27300" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/c8a27f1c79d0e7fafc8faa2c5ab6df3a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_27300" id="a169761841_27300"><a class="email " href="/user_profile?user_id=27300" > <span class="fna">Myk Melez [:myk] [&#64;mykmelez]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a169761841_27300"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a169761841_27300">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a169761841_27300">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-11-22 17:26 PST" data-time="1101173205">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Product: MailNews &rarr; Core</div></div></div><div class="change-set" id="c37"><div class="comment" data-id="2581777" data-no="37"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-37" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a169761841_27300"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-15 14:35 PDT" data-time="1124141727">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-37" data-comment-id="2581777">I've written some code that optionally detects incoming duplicates (based on
message-id+subject) and does one of four things to the duplicate: 1) nothing
(current and default behaviour) 2) deletes the dup 3) moves dup to trash 4)
marks the dup read. The Tbird UI will probably just be a check box that lets you
choose 1) or 2), but the other options are implemented in the backend. This
feature is mainly meant to deal with duplicates that arrive because of mailing
lists (e.g., you're on overlapping mailing lists, or an e-mail is sent directly
to you and to a mailing list you're on. We're relying on the message-id to be
unique - we don't hash the message body or anything like that. We don't even
compare the message sizes because mailing lists can add extra headers that throw
off the message size. We only look at incoming headers from the current session,
so if you get one msg, shut down, and restart, and get a dup message, we won't
flag that as a dup. We're really just trying to solve the annoying mailing list
problem. 

A remove dups feature is a separate issue, and will be separate code. It's
possible that I may be able to adapt the current code to add an &quot;isDup&quot;
attribute for filters, so you can do what you want with incoming duplicates, but
that's lower priority.</pre></div><div class="change-set" id="c38"><div class="comment" data-id="2581782" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-38" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a169761841_27300"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-15 14:42 PDT" data-time="1124142174">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-192758"
         class="attachment patch obsolete"
         data-id="192758" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="dupdiffs.txt">
      <meta itemprop="contentSize" content="13876">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=192758">
          <a class="link" href="attachment.cgi?id=192758&amp;action=diff">
        <span id="att-192758-description" itemprop="description">work in progress</span></a> (obsolete)
        — <a href="attachment.cgi?id=192758&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=9413&attachment=192758">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-38" data-comment-id="2581782">I've verified that this works for pop3, but haven't tried imap yet.</pre><div class="activity"><div class="change">Assignee: nobody &rarr; bienvenu</div><div class="change">Status: NEW &rarr; ASSIGNED</div></div></div><div class="change-set" id="c39"><div class="comment" data-id="2584004" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-39" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a169761841_27300"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-17 16:47 PDT" data-time="1124322444">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-193002"
         class="attachment patch"
         data-id="193002" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="deletedups.txt">
      <meta itemprop="contentSize" content="15808">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=193002">
          <a class="link" href="attachment.cgi?id=193002&amp;action=diff">
        <span id="att-193002-description" itemprop="description">proposed fix</span></a>
        — <a href="attachment.cgi?id=193002&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=9413&attachment=193002">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-39" data-comment-id="2584004">I've been running with this for a few days, mainly with pop3, and it seems to
be working fine.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=192758&amp;action=edit"
           title="work in progress"
           class=""
        >Attachment #192758</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=193002&amp;action=edit"
           title="proposed fix"
           class=""
        >Attachment #193002</a> -
        Flags: superreview?(mscott)</div></div></div><div class="change-set" id="c40"><div class="comment" data-id="2589552" data-no="40"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-40" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_93208" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/81927006e32b6874ba18489885babf50?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_93208" id="a169761841_27300"><a class="email disabled" href="/user_profile?user_id=93208" > <span class="fna">Scott MacGregor</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-40"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-40" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-23 15:38 PDT" data-time="1124836730">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-40" data-comment-id="2589552">Comment on <span class=""><a href="/attachment.cgi?id=193002" name="attach_193002" title="proposed fix">attachment 193002</a> <a href="/attachment.cgi?id=193002&amp;action=edit" title="proposed fix">[details]</a> <a href="/attachment.cgi?id=193002&amp;action=diff" title="proposed fix">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=9413&amp;attachment=193002'>[review]</a>
proposed fix

David, is there a rational to using 500 as the size of our duplicate table?
That seems pretty large. Although each entry looks pretty small so it probably
isn't a big deal.

strHashKey.Append work ok if for some reason the message doesn't have a message
id or an eempty subject? 

+  aNewHdr-&gt;GetMessageId(getter_Copies(messageId));
+  strHashKey.Append(messageId);
+  aNewHdr-&gt;GetSubject(getter_Copies(subject));
+  strHashKey.Append(subject);</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=193002&amp;action=edit"
           title="proposed fix"
           class=""
        >Attachment #193002</a> -
        Flags: superreview?(mscott) &rarr; superreview+</div></div></div><div class="change-set" id="c41"><div class="comment" data-id="2589554" data-no="41"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-41" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a169761841_27300"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-41"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-41" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-23 15:43 PDT" data-time="1124836994">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-41" data-comment-id="2589554">there's no guarantee that dups will come in next to each other, if you have list
servers munging the messages, or if you get a lot of meail, etc, and as you say,
the hash table entries are pretty small.

I think the empty strings will be &quot;&quot;, but I can try that.</pre></div><div class="change-set" id="c42"><div class="comment" data-id="2589580" data-no="42"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-42" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_93208" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/81927006e32b6874ba18489885babf50?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_93208" id="a169761841_27300"><a class="email disabled" href="/user_profile?user_id=93208" > <span class="fna">Scott MacGregor</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-42"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-42" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-23 16:04 PDT" data-time="1124838280">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-42" data-comment-id="2589580">should we add code that does nothing if either the message id or the subject is
empty? Maybe we should only check the cache if we have a valid message id AND
subject.
 </pre></div><div class="change-set" id="c43"><div class="comment" data-id="2589584" data-no="43"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-43" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a169761841_27300"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-43"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-43" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-23 16:09 PDT" data-time="1124838597">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-43" data-comment-id="2589584">or perhaps a valid message-id OR subject...but I think you're right to err on
the side of caution and check both.</pre></div><div class="change-set" id="c44"><div class="comment" data-id="2589768" data-no="44"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-44" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_422" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/b0599b755b2262d9a946be691666c2ca?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_422" id="a169761841_27300"><a class="email " href="/user_profile?user_id=422" > <span class="fna">Mike Shaver (:shaver -- probably not reading bugmail closely)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-44"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-44" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-23 19:41 PDT" data-time="1124851286">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-44" data-comment-id="2589768">I use formail on the server for doing duplicate detection, with a cache of 8192
bytes.  Does a pretty decent job for me, just wanted to share that datapoint. I
could mine my procmaillog for data since August 2002, if someone wanted me to
run some specific query over it.

Do we have to keep the message ID cache in memory?  We could allocate 64K for it
on disk, and virtually never miss a dup.</pre></div><div class="change-set" id="c45"><div class="comment" data-id="2589786" data-no="45"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-45" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a169761841_27300"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-45"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-45" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-23 20:11 PDT" data-time="1124853108">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-45" data-comment-id="2589786">What's it caching in those 8192 bytes? message-id+message key pairs? The
interesting data is what's the maximum delta in message arrival number between
two messages with the same message-id, but I can't imagine there's a good query
for that. Re spilling out to disk, I'm reluctant to add the code, and to add
another data file per server. But, a persistent store does solve the &quot;receive a
msg, shut down, start up again, receive a dup&quot; problem.  And it might make it
easier to deal with the cross-server problem, which we'd pretty much already
decided isn't really worth solving...

If we wanted, we could add a pref (all together, groan) to set the max cache
size.  But I'd want hard evidence that this approach wasn't solving the 99% case.</pre></div><div class="change-set" id="c46"><div class="comment" data-id="2589830" data-no="46"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-46" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_422" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/b0599b755b2262d9a946be691666c2ca?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_422" id="a169761841_27300"><a class="email " href="/user_profile?user_id=422" > <span class="fna">Mike Shaver (:shaver -- probably not reading bugmail closely)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-46"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-46" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-23 21:01 PDT" data-time="1124856077">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-46" data-comment-id="2589830">Just message IDs, 186 of them separated by NULs.  That system is tuned for
filtering mail as it's delivered, though, and not as it's fetched, so it tends
to need a smaller window.  A slider to go between

less disk space used -------------|--- better duplicate filtering

might not be bad, if 64K of per-profile dup caching is going to offend anyone. 
Given that training.dat can easily grow over a meg, it doesn't seem likely.</pre></div><div class="change-set" id="c47"><div class="comment" data-id="2595374" data-no="47"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-47" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a169761841_27300"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-47"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-47" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-30 07:39 PDT" data-time="1125412794">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-47" data-comment-id="2595374">fixed - we'll still need UI for turning this on, per server.</pre><div class="activity"><div class="change">Status: ASSIGNED &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="1999-07-08 08:44 PDT" data-time="931448642">21 years ago</span> &rarr; <span class="rel-time" title="2005-08-30 07:39 PDT" data-time="1125412794">15 years ago</span></div><div class="change">Resolution: --- &rarr; FIXED</div></div></div><div class="change-set" id="c48"><div class="comment" data-id="2609908" data-no="48"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-48" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a169761841_27300"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a169761841_27300"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-48"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-48" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-13 14:19 PDT" data-time="1126646344">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-195947"
         class="attachment patch"
         data-id="195947" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="diffs.txt">
      <meta itemprop="contentSize" content="1552">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=195947">
          <a class="link" href="attachment.cgi?id=195947&amp;action=diff">
        <span id="att-195947-description" itemprop="description">fix for problem with pop3 delete to trash dup action</span></a>
        — <a href="attachment.cgi?id=195947&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=9413&attachment=195947">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-48" data-comment-id="2609908">there was a problem with the pop3 delete to trash dup action - we need to set
m_curHdrOffset earlier, so I moved it from ApplyFilters to before we call
ApplyFilters, so that MoveIncorporatedMessage can use it from either
ApplyFilterHit or the dup handling code.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=195947&amp;action=edit"
           title="fix for problem with pop3 delete to trash dup action"
           class=""
        >Attachment #195947</a> -
        Flags: superreview?(mscott)</div></div></div><div class="change-set" id="a195256630_93208"><div class="change" id="aa195256630_93208">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_93208" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/81927006e32b6874ba18489885babf50?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_93208" id="a195256630_93208"><a class="email disabled" href="/user_profile?user_id=93208" > <span class="fna">Scott MacGregor</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a195256630_93208"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a195256630_93208">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a195256630_93208">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-13 20:19 PDT" data-time="1126667994">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=195947&amp;action=edit"
           title="fix for problem with pop3 delete to trash dup action"
           class=""
        >Attachment #195947</a> -
        Flags: superreview?(mscott) &rarr; superreview+</div></div></div><div class="change-set" id="c49"><div class="comment" data-id="2615364" data-no="49"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-49" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_97012" id="a195256630_93208"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_97012" id="a195256630_93208"><a class="email " href="/user_profile?user_id=97012" > <span class="fna">:aceman</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-49"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-49" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c49">Comment 49</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-19 05:08 PDT" data-time="1127131729">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-49">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-49" data-comment-id="2615364">So, now that this bug was fixed only with respect to 1 message got through
several mailinglists (the feature I probably won't use), maybe <a class="bz_bug_link
          bz_status_REOPENED"
   title="REOPENED - popstate.dat can't handle duplicate messages (with the same UID) with respect to the deleting messages on server"
   href="/show_bug.cgi?id=238365">Bug 238365</a> can be
used for the case of downloading the same messages (from the same server and
mailinglist), after a problematic download, handling also mozilla restarts.</pre></div><div class="change-set" id="c50"><div class="comment" data-id="2618058" data-no="50"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-50" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_93208" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/81927006e32b6874ba18489885babf50?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_93208" id="a195256630_93208"><a class="email disabled" href="/user_profile?user_id=93208" > <span class="fna">Scott MacGregor</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-50"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-50" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c50">Comment 50</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-21 14:23 PDT" data-time="1127337810">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-50">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-50" data-comment-id="2618058">Comment on <span class=""><a href="/attachment.cgi?id=193002" name="attach_193002" title="proposed fix">attachment 193002</a> <a href="/attachment.cgi?id=193002&amp;action=edit" title="proposed fix">[details]</a> <a href="/attachment.cgi?id=193002&amp;action=diff" title="proposed fix">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=9413&amp;attachment=193002'>[review]</a>
proposed fix

wew're going to put this on the branch for thunderbird 1.5 but leaving it
pref'ed OFF.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=193002&amp;action=edit"
           title="proposed fix"
           class=""
        >Attachment #193002</a> -
        Flags: approval1.8b5+</div></div></div><div class="change-set" id="c51"><div class="comment" data-id="2618061" data-no="51"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-51" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_93208" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/81927006e32b6874ba18489885babf50?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_93208" id="a195256630_93208"><a class="email disabled" href="/user_profile?user_id=93208" > <span class="fna">Scott MacGregor</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-51"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-51" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c51">Comment 51</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-21 14:24 PDT" data-time="1127337893">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-51">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-51" data-comment-id="2618061">Comment on <span class=""><a href="/attachment.cgi?id=195947" name="attach_195947" title="fix for problem with pop3 delete to trash dup action">attachment 195947</a> <a href="/attachment.cgi?id=195947&amp;action=edit" title="fix for problem with pop3 delete to trash dup action">[details]</a> <a href="/attachment.cgi?id=195947&amp;action=diff" title="fix for problem with pop3 delete to trash dup action">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=9413&amp;attachment=195947'>[review]</a>
fix for problem with pop3 delete to trash dup action

wew're going to put this on the branch for thunderbird 1.5 but leaving it
pref'ed OFF.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=195947&amp;action=edit"
           title="fix for problem with pop3 delete to trash dup action"
           class=""
        >Attachment #195947</a> -
        Flags: approval1.8b5+</div></div></div><div class="change-set" id="c52"><div class="comment" data-id="2622659" data-no="52"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-52" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_93208" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/81927006e32b6874ba18489885babf50?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_93208" id="a195256630_93208"><a class="email disabled" href="/user_profile?user_id=93208" > <span class="fna">Scott MacGregor</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-52"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-52" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c52">Comment 52</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-26 14:26 PDT" data-time="1127769965">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-52">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-52" data-comment-id="2622659">clearing some obsolete status and keywords.</pre><div class="activity"><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=helpwanted&amp;resolution=---">helpwanted</a></span></div><div class="change">Whiteboard: <span class="activity-deleted">WONTFIX? (see bugs 60876 and 87853)</span></div></div></div><div class="change-set" id="c53"><div class="comment" data-id="2622743" data-no="53"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-53" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_93208" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/81927006e32b6874ba18489885babf50?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_93208" id="a195256630_93208"><a class="email disabled" href="/user_profile?user_id=93208" > <span class="fna">Scott MacGregor</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-53"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-53" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c53">Comment 53</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-26 15:39 PDT" data-time="1127774342">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-53">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-53" data-comment-id="2622743">I've landed this on the 1.8 branch.</pre><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=fixed1.8&amp;resolution=---">fixed1.8</a></div></div></div><div class="change-set" id="c54"><div class="comment" data-id="2622880" data-no="54"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-54" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_25404" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/bad8bfda9664b5955c3632df2dafb194?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_25404" id="a195256630_93208"><a class="email " href="/user_profile?user_id=25404" > <span class="fna">Alexander Opitz</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-54"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-54" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c54">Comment 54</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-26 18:27 PDT" data-time="1127784446">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-54">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-54" data-comment-id="2622880">Since landing of the patch SeaMonkey Branch 1.8 boxes are burning.

c++ -o nsMsgIncomingServer.o -c  -D_IMPL_NS_MSG_BASE -DMOZILLA_INTERNAL_API
-DOSTYPE=\&quot;Linux2.6\&quot; -DOSARCH=\&quot;Linux\&quot; -DBUILD_ID=2005092701 
-I../../../dist/include/xpcom -I../../../dist/include/xpcom_obsolete
-I../../../dist/include/string -I../../../dist/include/msgbase
-I../../../dist/include/rdf -I../../../dist/include/necko
-I../../../dist/include/msgdb -I../../../dist/include/intl
-I../../../dist/include/mork -I../../../dist/include/mailnews
-I../../../dist/include/locale -I../../../dist/include/pref
-I../../../dist/include/rdfutil -I../../../dist/include/mime
-I../../../dist/include/caps -I../../../dist/include/msgcompose
-I../../../dist/include/addrbook -I../../../dist/include/docshell
-I../../../dist/include/uriloader -I../../../dist/include/appshell
-I../../../dist/include/msgimap -I../../../dist/include/msglocal
-I../../../dist/include/msgnews -I../../../dist/include/txmgr
-I../../../dist/include/uconv -I../../../dist/include/unicharutil
-I../../../dist/include/nkcache -I../../../dist/include/mimetype
-I../../../dist/include/windowwatcher -I../../../dist/include/msgbaseutil
-I../../../dist/include -I../../../dist/include/nspr   -DMNG_BUILD_MOZ_MNG 
-I/usr/X11R6/include   -fPIC  -I/usr/X11R6/include -fno-rtti -fno-exceptions
-Wall -Wconversion -Wpointer-arith -Wcast-align -Woverloaded-virtual -Wsynth
-Wno-ctor-dtor-privacy -Wno-non-virtual-dtor -Wno-long-long -pedantic
-fshort-wchar -pthread -pipe  -DNDEBUG -DTRIMMED -ffunction-sections -O2
-gstabs+  -I/usr/X11R6/include -DMOZILLA_CLIENT -include
../../../mozilla-config.h -Wp,-MD,.deps/nsMsgIncomingServer.pp
nsMsgIncomingServer.cpp
nsMsgIncomingServer.h: In constructor
‘nsMsgIncomingServer::nsMsgIncomingServer()’:
nsMsgIncomingServer.h:118: warning: ‘nsMsgIncomingServer::m_serverBusy’ will
be initialized after
nsMsgIncomingServer.h:112: warning:   ‘PRInt32
nsMsgIncomingServer::m_numMsgsDownloaded’
nsMsgIncomingServer.cpp:89: warning:   when initialized here
nsMsgIncomingServer.cpp: In member function ‘virtual nsresult
nsMsgIncomingServer::GetPasswordWithUI(const PRUnichar*, const PRUnichar*,
nsIMsgWindow*, PRBool*, char**)’:
nsMsgIncomingServer.cpp:889: warning: enumeral mismatch in conditional
expression: ‘nsIAuthPrompt::&lt;anonymous enum&gt;’ vs
‘nsIAuthPrompt::&lt;anonymous enum&gt;’
nsMsgIncomingServer.cpp: At global scope:
nsMsgIncomingServer.cpp:1756: error: extra ‘;’
{standard input}: Assembler messages:
{standard input}:1981: Error: Local symbol `.LTHUNK0' can't be equated to
undefined symbol `_ZN19nsMsgIncomingServer6AddRefEv'
{standard input}:1981: Error: Local symbol `.LTHUNK1' can't be equated to
undefined symbol `_ZN19nsMsgIncomingServer7ReleaseEv'
{standard input}:1981: Error: Local symbol `.LTHUNK2' can't be equated to
undefined symbol `_ZN19nsMsgIncomingServer14QueryInterfaceERK4nsIDPPv'
gmake[5]: *** [nsMsgIncomingServer.o] Fehler 1</pre></div><div class="change-set" id="c55"><div class="comment" data-id="2622932" data-no="55"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-55" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_93208" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/81927006e32b6874ba18489885babf50?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_93208" id="a195256630_93208"><a class="email disabled" href="/user_profile?user_id=93208" > <span class="fna">Scott MacGregor</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-55"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-55" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c55">Comment 55</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-26 19:36 PDT" data-time="1127788577">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-55">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-55" data-comment-id="2622932">I ported a build bustage fix from the trunk to the branch which hopefully fixes
that problem for you. </pre></div><div class="change-set" id="c56"><div class="comment" data-id="2623105" data-no="56"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-56" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_25404" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/bad8bfda9664b5955c3632df2dafb194?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_25404" id="a195256630_93208"><a class="email " href="/user_profile?user_id=25404" > <span class="fna">Alexander Opitz</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-56"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-56" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c56">Comment 56</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-27 00:54 PDT" data-time="1127807670">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-56">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-56" data-comment-id="2623105">Yes, both boxes building again.</pre></div><div class="change-set" id="c57"><div class="comment" data-id="2639429" data-no="57"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-57" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_141226" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/69cd8c4e3cef41521c7fc0afd3485ffd?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_141226" id="a195256630_93208"><a class="email " href="/user_profile?user_id=141226" > <span class="fna">Worcester12345</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-57"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-57" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c57">Comment 57</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-28 17:29 PDT" data-time="1127953742">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-57">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-57" data-comment-id="2639429">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Don't allow duplicate messages."
   href="/show_bug.cgi?id=9413#c1">comment #1</a>)
<span class="quote">&gt; I'm sorry, but there's not much we can do about this - it's fraught with peril
&gt; to start throwing away messages.</span >

Does this affect already delivered email, or does it just act on incoming? I
have a bunch of duplicates I'd like to at least flag from before this was
working. If I can provide more info to help, let me know.</pre></div><div class="change-set" id="c58"><div class="comment" data-id="2639657" data-no="58"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-58" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a195256630_93208"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-58"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-58" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c58">Comment 58</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-28 21:23 PDT" data-time="1127967818">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-58">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-58" data-comment-id="2639657">no, just new incoming mail in the same thunderbird session.</pre></div><div class="change-set" id="c59"><div class="comment" data-id="2639830" data-no="59"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-59" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_40471" id="a195256630_93208"><img src="https://secure.gravatar.com/avatar/2a84da606f5cd4d232ac83ba7c29b080?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_40471" id="a195256630_93208"><a class="email " href="/user_profile?user_id=40471" > <span class="fna">Wolfgang Rosenauer [:wolfiR]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-59"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-59" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c59">Comment 59</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-29 01:47 PDT" data-time="1127983676">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-59">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-59" data-comment-id="2639830">I still have build problems on 64bit platform (x86-64):

nsMsgIncomingServer.cpp: In static member function 'static PRBool
nsMsgIncomingServer::evictOldEntries(nsHashKey*, void*, void*)':
nsMsgIncomingServer.cpp:2529: error: cast from 'void*' to 'PRInt32' loses precision
nsMsgIncomingServer.cpp: In member function 'virtual nsresult
nsMsgIncomingServer::IsNewHdrDuplicate(nsIMsgDBHdr*, PRBool*)':
nsMsgIncomingServer.cpp:2548: error: cast from 'void*' to 'PRInt32' loses precision
</pre></div><div class="change-set" id="a196614413_20814"><div class="change" id="aa196614413_20814">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20814" id="a196614413_20814"><img src="https://secure.gravatar.com/avatar/26ffdec58b0712211fe3ae6aec2f617a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20814" id="a196614413_20814"><a class="email disabled" href="/user_profile?user_id=20814" > <span class="fna">Ilya Konstantinov</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a196614413_20814"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a196614413_20814">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a196614413_20814">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-09-29 13:29 PDT" data-time="1128025777">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Patch to bug 9413 breaks build on 64-bit archs"
   href="/show_bug.cgi?id=310495">310495</a></div></div></div><div class="change-set" id="c60"><div class="comment" data-id="2645738" data-no="60"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-60" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_42412" id="a196614413_20814"><img src="https://secure.gravatar.com/avatar/b5ca19c66ed4f33729aa48ce7b0c52b2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_42412" id="a196614413_20814"><a class="email disabled" href="/user_profile?user_id=42412" > <span class="fna">David Fraser</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-60"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-60" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c60">Comment 60</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-10-03 23:37 PDT" data-time="1128407820">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-60">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-60" data-comment-id="2645738">I have sometimes had a problem with messages coming in truncated due to a
dropped mail session. In that case this would still delete a new message I
presume even if it was the full message and the existing message was not
complete (particularly with attachments). Might be something to be aware of.</pre></div><div class="change-set" id="c61"><div class="comment" data-id="3075385" data-no="61"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-61" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4410" id="a196614413_20814"><img src="https://secure.gravatar.com/avatar/3ef34b760c21ba06cfeca469dde938fb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4410" id="a196614413_20814"><a class="email disabled" href="/user_profile?user_id=4410" > <span class="fna">David :Bienvenu</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-61"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-61" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#c61">Comment 61</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2007-01-04 10:12 PST" data-time="1167934341">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-61">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-61" data-comment-id="3075385">Here are the relevant prefs and their values:

// for the global default:
+pref(&quot;mail.server.default.dup_action&quot;, 0);

substitute &lt;serverXX&gt; for default if you want to change it on a per-server basis.
+
+  const long keepDups = 0;
+  const long deleteDups = 1;
+  const long moveDupsToTrash = 2;
+  const long markDupsRead = 3;
+
+  attribute long incomingDuplicateAction;
</pre></div><div class="change-set" id="a239540112_101158"><div class="change" id="aa239540112_101158">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_101158" id="a239540112_101158"><img src="https://secure.gravatar.com/avatar/18eb16a976feb4b40d839c5e9036bc3a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_101158" id="a239540112_101158"><a class="email " href="/user_profile?user_id=101158" > <span class="fna">Magnus Melin [:mkmelin]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a239540112_101158"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a239540112_101158">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a239540112_101158">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2007-02-08 08:17 PST" data-time="1170951476">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - want a remove dup mail feature"
   href="/show_bug.cgi?id=158032">158032</a></div></div></div><div class="change-set" id="a286092436_1"><div class="change" id="aa286092436_1">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1" id="a286092436_1"><img src="https://secure.gravatar.com/avatar/eaa3c40fff208819d0810fc338eea0aa?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1" id="a286092436_1"><a class="email " href="/user_profile?user_id=1" > <span class="fna">Nobody; OK to take it and work on it</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a286092436_1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a286092436_1">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a286092436_1">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2008-07-31 04:30 PDT" data-time="1217503800">12 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Product: Core &rarr; MailNews Core</div></div></div><div class="change-set" id="a540915203_217596"><div class="change" id="aa540915203_217596">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_217596" id="a540915203_217596"><img src="https://secure.gravatar.com/avatar/6ff982edca23dd6c6c10ad62dc1ef16e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_217596" id="a540915203_217596"><a class="email " href="/user_profile?user_id=217596" > <span class="fna">alta88</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a540915203_217596"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a540915203_217596">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a540915203_217596">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-08-27 12:36 PDT" data-time="1472326567">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - allow option to remove duplicates from RSS feed"
   href="/show_bug.cgi?id=298299">298299</a></div></div></div><div class="change-set" id="a638307345_28426"><div class="change" id="aa638307345_28426">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_28426" id="a638307345_28426"><img src="https://secure.gravatar.com/avatar/bd62ec7adf7f5dca66e885b09e7869fc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_28426" id="a638307345_28426"><a class="email " href="/user_profile?user_id=28426" > <span class="fna">gene smith</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a638307345_28426"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a638307345_28426">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=9413#a638307345_28426">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2019-09-28 17:58 PDT" data-time="1569718709">11 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">See Also:  &rarr; <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - Unread deleted mail can not be restored from the trash folder with mail.server.default.dup.action = 2 (move duplicated mails to trash)"
   href="/show_bug.cgi?id=618809">618809</a></div></div></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=9413&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div></div> 
</main> 
</div> 


</body>
</html>