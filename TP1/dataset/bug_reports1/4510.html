<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="4510 - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=4510">
<meta property="og:description"
      content="RESOLVED (fantasai.bugs) in Core - Layout: Tables. Last updated 2004-11-03.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="defect">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="P3">

    <meta name="viewport" content="width=1024">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20200805.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;},&quot;string&quot;:{&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;is_new&quot;:1,&quot;login&quot;:&quot;&quot;}}">
    <title>4510 - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=4510&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="/showdependencygraph.cgi?id=4510">

      <link rel="Show" title="Bug Activity"
            href="/show_activity.cgi?id=4510">

<link href="https://bugzilla.mozilla.org/static/v20200805.1/skins/yui.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/EditComments/web/styles/inline-editor.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css">



    
<script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/jquery-min.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/yui.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/global.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/util.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/dropdown.js"></script>

      <script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"flags\":{\"tracking\":{\"cf_status_firefox_esr78\":\"---\",\"cf_status_firefox81\":\"---\",\"cf_status_firefox82\":\"---\",\"cf_tracking_firefox_esr68\":\"---\",\"cf_status_thunderbird_esr68\":\"---\",\"cf_status_thunderbird_esr78\":\"---\",\"cf_status_firefox79\":\"---\",\"cf_status_firefox_esr68\":\"---\",\"cf_status_firefox80\":\"---\",\"cf_tracking_thunderbird_esr78\":\"---\",\"cf_tracking_thunderbird_esr68\":\"---\",\"cf_tracking_firefox_esr78\":\"---\",\"cf_tracking_firefox82\":\"---\",\"cf_tracking_firefox_relnote\":\"---\",\"cf_tracking_firefox81\":\"---\",\"cf_tracking_firefox80\":\"---\",\"cf_tracking_firefox79\":\"---\"},\"project\":{\"cf_a11y_review_project_flag\":\"---\",\"cf_tracking_firefox_sumo\":\"---\",\"cf_fission_milestone\":\"---\",\"cf_root_cause\":\"---\",\"cf_webcompat_priority\":\"---\"}},\"types\":[\"tracking\"],\"comments\":{\"cf_a11y_review_project_flag\":{\"requested\":\"Description:\\nPlease provide an explanation of the feature or change. Include a description of the user scenario in which it would be used and how the user would complete the task(s).\\nScreenshots and visual UI specs are welcome, but please include sufficient accompanying explanation so that blind members of the accessibility team are able to understand the feature\/change.\\n\\nHow do we test this?\\nIf there is an implementation to test, please provide instructions for testing it; e.g. setting preferences, other preparation, how to trigger the UI, etc.\\n\\nWhen will this ship?\\nTracking bug\/issue:\\nDesign documents (e.g. Product Requirements Document, UI spec):\\nEngineering lead:\\nProduct manager:\\n\\nAll user interface additions and changes must meet the Mozilla Accessibility Release Requirements:\\nhttps:\/\/wiki.mozilla.org\/Accessibility\/Requirements\\nPlease describe the accessibility requirements you considered and what steps you\'ve taken to address them:\\n\\nDescribe any areas of concern to which you want the accessibility team to give special attention:\"},\"cf_tracking_firefox_relnote\":{\"?\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox82\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_sumo\":{\"none-needed\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox79\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox81\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox80\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr78\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr68\":{\"?\":\"[Tracking Requested - why for this release]:\"}}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 4510;
  BUGZILLA.bug_title = '4510 - table, row, column, *-group backgrounds not working correctly (\x3ccol\x3e, \x3ccolgroup\x3e, table, style, background)';
  BUGZILLA.bug_summary = 'table, row, column, *-group backgrounds not working correctly (\x3ccol\x3e, \x3ccolgroup\x3e, table, style, background)';
  BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=4510';
  BUGZILLA.bug_keywords = 'css2, testcase',
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/comments.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/bugzilla-readable-status-min.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/field.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/comments.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/lib/prism.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/GoogleAnalytics/web/js/analytics.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/js/lib/md5.min.js"></script><script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/Review/web/js/badge.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=4510">
<link rel="shorturl" href="https://bugzilla.mozilla.org/4510"><meta name="google-analytics" content="UA-36116321-3" data-location="https://bugzilla.mozilla.org/bug/show-modal" data-title="4510 - table, row, column, *-group backgrounds not working correctly (&amp;lt;col&amp;gt;, &amp;lt;colgroup&amp;gt;, table, style, background)">
<script async src="https://www.google-analytics.com/analytics.js"></script><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="wrapper">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<header id="header" role="banner">
  <div class="inner">
    <h1 id="header-title" class="title"><a href="https://bugzilla.mozilla.org/home" title="Go to home page">Bugzilla</a></h1>
    <form role="search" id="header-search" class="quicksearch" action="/buglist.cgi" data-no-csrf>
      <section class="searchbox-outer dropdown" role="combobox" aria-expanded="false" aria-haspopup="listbox"
               aria-labelledby="header-search-label" aria-owns="header-search-dropdown">
        <h2 id="header-search-label">Quick Search</h2>
        <span class="icon" aria-hidden="true"></span>
        <input role="searchbox" id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" placeholder="Search Bugs"
               title="Enter a bug number or some search terms" aria-controls="header-search-dropdown"
               aria-label="Quick Search"><div id="header-search-dropdown" class="dropdown-content right" role="listbox" style="display: none;">
  <div id="header-search-dropdown-wrapper">
  </div>
</div>
      </section>
    </form>
    <nav id="header-nav">
      <ul class="links">
        <li class="link-browse">
          <a href="/describecomponents.cgi" title="Browse bugs by component">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Browse</span>
          </a>
        </li>
        <li class="link-search">
          <a href="/query.cgi?format=advanced" title="Search bugs using various criteria">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Advanced Search</span>
          </a>
        </li>
      </ul>
      <div class="dropdown">
        <button type="button" id="header-tools-menu-button" class="dropdown-button minor" title="More tools…"
                aria-label="More tools…" aria-expanded="false" aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a href="/report.cgi" role="menuitem" tabindex="-1">Reports</a>
          </li>
            <li role="separator"></li>
            <li role="presentation">
              <a href="https://bmo.readthedocs.io/en/latest/" role="menuitem" tabindex="-1">Documentation</a>
            </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links">
          <li id="moz_new_account_container_top"><a href="/createaccount.cgi">New Account</a></li><li id="mini_login_container_top">
  <a id="login_link_top" href="/show_bug.cgi?id=4510&amp;GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden"><span id="github_mini_login_top" class="mini_login_top">
    <form method="post" action="/github.cgi">
      <input type="hidden" name="github_secret" value="MqTXccxn2KtR34zyHxriEXWyTSOLOotrcooNpuQVRY1JIisgIiXGi3sti1xUikOpdyGL5gfRjVPAcPEmtEyiJr7icsz3cuZaJXlx6tKf1tf3DHHlWoGcKlu6hX8lnbwhQe93JsN4GrYeZorsgS7JwSOuvXR2F1xDdKYrulMAiGC5Ht2hBtPuWKhrVgNIi7q2HDyKqD6um0aaiCtCjYJffyEVcVI8G1GhzGD1XoaQ2nDlwaw0srO2Dp7LSc3sdYPx">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi?id=4510">
      <input type="image" src="/extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>

  <form action="/show_bug.cgi?id=4510" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top"
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
<li id="forgot_container_top">
  <a id="forgot_link_top" href="/show_bug.cgi?id=4510&amp;GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1598303556-t7qlkOvZhqQRz17LpnmGEIRZ-A2NX4Q0JzptkHlZ4dc">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul><div id="header-external-links" class="dropdown first">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor" title="Mozilla"
          aria-label="Mozilla" aria-expanded="false" aria-haspopup="true" aria-controls="header-external-menu">
    <img src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg" width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" style="display:none;">
    <li role="presentation">
      <a href="https://www.mozilla.org/" role="menuitem" tabindex="-1">Mozilla Home</a>
    </li>
    <li role="separator"></li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem" tabindex="-1">Privacy</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem" tabindex="-1">Cookies</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem" tabindex="-1">Legal</a>
    </li>
  </ul>
</div>
  </div>
</header> 


<main id="bugzilla-body" tabindex="-1">
<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary"
      title="Copy bug number and summary to your clipboard">Copy Summary</button>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/4510" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=4510" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent" id="field-status_summary"
>


  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=4510">Bug 4510</a>
      </span>
      <span>
        <span class="bug-time-label">Opened <span class="rel-time" title="1999-04-02 14:05 PST" data-time="923090711">22 years ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2004-03-08 23:33 PST" data-time="1078817610">17 years ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field indent edit-hide"
>


  
    <div class=" container">
      

      <h1 id="field-value-short_desc">table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-short_desc">
            table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (Core :: Layout: Tables, defect, P3)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core" id="product-help-link" class="help">Product:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">Core
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">Core</div>
            <div class="description">Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the <a href="https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox">Firefox</a> product. (<a href="https://wiki.mozilla.org/Modules/All#Core">More info</a>)</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=Core"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core&component=Layout%3A%20Tables#Layout%3A%20Tables" id="component-help-link" class="help">Component:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">Layout: Tables
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">Core :: Layout: Tables</div>
            <div class="description"><p>Issues with table layout and rendering.</p>
<p>Example bugs:</p>
<ul>
  <li>border-style: groove not applied for tables with border-collapse: collapse</li>
  <li>incorrect width for table cells with padding, box-sizing: border-box, and table-layout: fixed</li>
</ul>
<p>Specifications covered:</p>
<ul>
  <li>CSS 2.2 (§ Tables)</li>
</ul></div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;component=Layout%3A%20Tables&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=Core&amp;component=Layout%3A%20Tables&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=Core&amp;component=Layout%3A%20Tables"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core" data-component="Layout: Tables"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-version" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-version">
            Trunk

        </span>
    </div>

  
</div>

    <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>


  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>


  
    <div class="value">
        <span id="field-value-rep_platform">
            All

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>


  
    <div class="value">
        <span id="field-value-op_sys">
            All

        </span>
    </div>

  
</div><div class="field indent inline"
>


  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field contains-buttons" id="field-bug_type"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="defect">
        <span class="icon" aria-hidden="true"></span>defect</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-importance"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="importance-help-link" class="help">Priority:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-importance"><div class="field inline" id="field-priority"
>


  
    <div class="value">
        <span id="field-value-priority">P3
        </span>
    </div>

  
</div><div class="field inline" id="field-bug_severity"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_severity">
            normal

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_points" style="display:none"
>
    <div class="name">Points:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_points">
            ---

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (<span id="readable-bug-status" data-readable-bug-status="{&quot;cf_tracking_firefox80&quot;:&quot;---&quot;,&quot;cf_a11y_review_project_flag&quot;:&quot;---&quot;,&quot;cf_tracking_firefox82&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_relnote&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_sumo&quot;:&quot;---&quot;,&quot;cf_status_firefox_esr68&quot;:&quot;---&quot;,&quot;priority&quot;:&quot;P3&quot;,&quot;cf_status_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr68&quot;:&quot;---&quot;,&quot;keywords&quot;:[&quot;css2&quot;,&quot;testcase&quot;],&quot;cf_status_firefox81&quot;:&quot;---&quot;,&quot;cf_tracking_firefox79&quot;:&quot;---&quot;,&quot;cf_tracking_firefox81&quot;:&quot;---&quot;,&quot;target_milestone&quot;:&quot;---&quot;,&quot;cf_fission_milestone&quot;:&quot;---&quot;,&quot;status&quot;:&quot;RESOLVED&quot;,&quot;cf_tracking_firefox_esr78&quot;:&quot;---&quot;,&quot;cf_tracking_thunderbird_esr68&quot;:&quot;---&quot;,&quot;cf_status_firefox80&quot;:&quot;---&quot;,&quot;cf_tracking_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_root_cause&quot;:&quot;---&quot;,&quot;cf_webcompat_priority&quot;:&quot;---&quot;,&quot;id&quot;:4510,&quot;cf_status_firefox79&quot;:&quot;---&quot;,&quot;dupe_of&quot;:null,&quot;resolution&quot;:&quot;FIXED&quot;,&quot;cf_status_thunderbird_esr68&quot;:&quot;---&quot;,&quot;flags&quot;:[],&quot;cf_status_firefox82&quot;:&quot;---&quot;,&quot;cf_status_firefox_esr78&quot;:&quot;---&quot;}"></span>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-view">RESOLVED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>


  
    <div class="value">
        <span id="field-value-bug_status">
            RESOLVED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>


  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-target_milestone" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-target_milestone">
            ---

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_iteration" style="display:none"
>
    <div class="name">Iteration:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_iteration">
            ---

        </span>
    </div>

  
</div>


      <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Project Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <td class="tracking-flag-name">Webcompat Priority</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_webcompat_priority-dirty">
  <select id="cf_webcompat_priority" name="cf_webcompat_priority">
        <option value="---"
          id="v4274_cf_webcompat_priority" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Root Cause</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_root_cause-dirty">
  <select id="cf_root_cause" name="cf_root_cause">
        <option value="---"
          id="v4701_cf_root_cause" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">a11y-review</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_a11y_review_project_flag-dirty">
  <select id="cf_a11y_review_project_flag" name="cf_a11y_review_project_flag">
        <option value="---"
          id="v4876_cf_a11y_review_project_flag" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">user-doc-firefox</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_sumo-dirty">
  <select id="cf_tracking_firefox_sumo" name="cf_tracking_firefox_sumo">
        <option value="---"
          id="v4660_cf_tracking_firefox_sumo" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Fission Milestone</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_fission_milestone-dirty">
  <select id="cf_fission_milestone" name="cf_fission_milestone">
        <option value="---"
          id="v4222_cf_fission_milestone" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

      <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">relnote-firefox</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_relnote-dirty">
  <select id="cf_tracking_firefox_relnote" name="cf_tracking_firefox_relnote">
        <option value="---"
          id="v539_cf_tracking_firefox_relnote" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr68</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr68-dirty">
  <select id="cf_tracking_thunderbird_esr68" name="cf_tracking_thunderbird_esr68">
        <option value="---"
          id="v4353_cf_tracking_thunderbird_esr68" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr68-dirty">
  <select id="cf_status_thunderbird_esr68" name="cf_status_thunderbird_esr68">
        <option value="---"
          id="v4347_cf_status_thunderbird_esr68" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr78-dirty">
  <select id="cf_tracking_thunderbird_esr78" name="cf_tracking_thunderbird_esr78">
        <option value="---"
          id="v4823_cf_tracking_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr78-dirty">
  <select id="cf_status_thunderbird_esr78" name="cf_status_thunderbird_esr78">
        <option value="---"
          id="v4829_cf_status_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr68</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr68-dirty">
  <select id="cf_tracking_firefox_esr68" name="cf_tracking_firefox_esr68">
        <option value="---"
          id="v4365_cf_tracking_firefox_esr68" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr68-dirty">
  <select id="cf_status_firefox_esr68" name="cf_status_firefox_esr68">
        <option value="---"
          id="v4407_cf_status_firefox_esr68" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr78-dirty">
  <select id="cf_tracking_firefox_esr78" name="cf_tracking_firefox_esr78">
        <option value="---"
          id="v4808_cf_tracking_firefox_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr78-dirty">
  <select id="cf_status_firefox_esr78" name="cf_status_firefox_esr78">
        <option value="---"
          id="v4813_cf_status_firefox_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox79</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox79-dirty">
  <select id="cf_tracking_firefox79" name="cf_tracking_firefox79">
        <option value="---"
          id="v4791_cf_tracking_firefox79" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox79-dirty">
  <select id="cf_status_firefox79" name="cf_status_firefox79">
        <option value="---"
          id="v4796_cf_status_firefox79" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox80</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox80-dirty">
  <select id="cf_tracking_firefox80" name="cf_tracking_firefox80">
        <option value="---"
          id="v4850_cf_tracking_firefox80" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox80-dirty">
  <select id="cf_status_firefox80" name="cf_status_firefox80">
        <option value="---"
          id="v4855_cf_status_firefox80" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox81</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox81-dirty">
  <select id="cf_tracking_firefox81" name="cf_tracking_firefox81">
        <option value="---"
          id="v4883_cf_tracking_firefox81" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox81-dirty">
  <select id="cf_status_firefox81" name="cf_status_firefox81">
        <option value="---"
          id="v4888_cf_status_firefox81" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox82</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox82-dirty">
  <select id="cf_tracking_firefox82" name="cf_tracking_firefox82">
        <option value="---"
          id="v4915_cf_tracking_firefox82" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox82-dirty">
  <select id="cf_status_firefox82" name="cf_status_firefox82">
        <option value="---"
          id="v4920_cf_status_firefox82" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>

</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: dbaron, Assigned: fantasai.bugs)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_9018" ><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai.bugs</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-hide" id="field-qa_contact"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact"><div class="vcard vcard_4054" ><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=4054" > <span class="fna">ian</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_3881" ><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=3881" > <span class="fna">dbaron</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field" id="field-triage_owner"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-triage_owner">
            <div class="vcard vcard_621005" ><img src="https://secure.gravatar.com/avatar/1c99514bfc2388e0cd89d30fc9ff4c37?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=621005" > <span class="fna">svoisen</span></a>
</div>

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>


  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="57">57 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
          <h3 class="module-subtitle" id="module-references-subtitle">
            (<div class="link">
    <a href="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/" target="_blank"
      rel="noreferrer" title="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/"
      class="bug-url" data-safe="1">URL</a>
  </div>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug-list" id="field-dependson"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-dependson">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - Backgrounds for rows conflict with rowspanned cell backgrounds."
   href="/show_bug.cgi?id=68998">68998</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - css background image doesn't display correctly"
   href="/show_bug.cgi?id=91034">91034</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - opacity, fixed backgrounds on tables paint wrong"
   href="/show_bug.cgi?id=195291">195291</a>
      </div>

        </span>
    </div>

  
</div><div class="field bug-list" id="field-blocked"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-blocked">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED INCOMPLETE - html 4.0 compatibility tests"
   href="/show_bug.cgi?id=55623">55623</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [strict] column background + colspan problem"
   href="/show_bug.cgi?id=88260">88260</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - bgcolor of &lt;TR&gt; affect space setted by cellspacing parametr (standard mode)"
   href="/show_bug.cgi?id=116212">116212</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED INVALID - nsTableRowGroupFrame and nsTableRowFrame PushState too much"
   href="/show_bug.cgi?id=149378">149378</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - Transparent cells don't show row background"
   href="/show_bug.cgi?id=171523">171523</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - CSS ignored after non-supported style element used. Note: new since 1.1 release."
   href="/show_bug.cgi?id=191567">191567</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - td are not transparent when the table has a background attribute (no tbody in XHTML)"
   href="/show_bug.cgi?id=203166">203166</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - border-collapse with fixed background breaks block-level children"
   href="/show_bug.cgi?id=216167">216167</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - column layout in tables doesn't work propely"
   href="/show_bug.cgi?id=226426">226426</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table includes inline alternate stylesheets which cause the original style to not be applied"
   href="/show_bug.cgi?id=227031">227031</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Fixed background in table cell destroys cell layout completely"
   href="/show_bug.cgi?id=230133">230133</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - Empty page shown in Mozilla 1.6"
   href="/show_bug.cgi?id=232101">232101</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - In multiple table with the same CSS background style it does not work properly"
   href="/show_bug.cgi?id=232108">232108</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Remove table background quirk"
   href="/show_bug.cgi?id=237078">237078</a>
      </div>
      <div class="bug-list">
        <span class="bug-type-label iconic" title="enhancement"
              aria-label="enhancement" data-type="enhancement">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - :hover pseudo class does not affect table column elements"
   href="/show_bug.cgi?id=98694">98694</a>
      </div>

        </span>
    </div>

  
</div><div class="field" id="field-dependencytree"
>
    <div class="name">
    </div>


  
    <div class=" container">
        <span id="field-value-dependencytree">
        Dependency <a href="/showdependencytree.cgi?id=4510&amp;hide_resolved=1">tree</a>
        / <a href="/showdependencygraph.cgi?id=4510">graph</a>
        </span>
    </div>

  
</div>

    <div class="field bug-list edit-show" id="field-regresses" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-regressed_by" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    <div class="field bug-list"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates" id="-help-link" class="help">Duplicates:
        </a>
    </div>


  
    <div class="value">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - Blank table cells aren't rendered with the table row background color"
   href="/show_bug.cgi?id=48013">48013</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - TABLE BGCOLOR not correctly displaying within cellpadding/spacing"
   href="/show_bug.cgi?id=84986">84986</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Blank cells in table do not display correct background color"
   href="/show_bug.cgi?id=87232">87232</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - tr bgcolor covers vertical cellspacing and previous rowspan"
   href="/show_bug.cgi?id=113067">113067</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - CSS: background-image not applied correctly to &lt;table&gt;"
   href="/show_bug.cgi?id=119442">119442</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - Background color not rendered on COL or COLGROUP elements"
   href="/show_bug.cgi?id=134261">134261</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - css background assigned to a COL is not shown"
   href="/show_bug.cgi?id=137707">137707</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - table columns ignore CSS class from col tag in tables"
   href="/show_bug.cgi?id=137779">137779</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - BACKGROUND property for COL elements not being applied in Mozilla 1.0 rc1"
   href="/show_bug.cgi?id=140084">140084</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - background-color doesn't apply to col and in colgroup (table columns)"
   href="/show_bug.cgi?id=149008">149008</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - colgroup does not function"
   href="/show_bug.cgi?id=172824">172824</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Many table styles not functioning as expected"
   href="/show_bug.cgi?id=175075">175075</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - background-color is ignored for COL elements"
   href="/show_bug.cgi?id=179086">179086</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - mozilla does not seem to correctly style &lt;col&gt; tags in a table"
   href="/show_bug.cgi?id=180404">180404</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - no &quot;col&quot; and &quot;colgroup&quot; tag support"
   href="/show_bug.cgi?id=190455">190455</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - style atributes (colors and alignment) are ignored when added in a col tag."
   href="/show_bug.cgi?id=190942">190942</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - regress: colgroup / col has no support at all"
   href="/show_bug.cgi?id=196889">196889</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - styles applied to col or colspan ignored"
   href="/show_bug.cgi?id=214877">214877</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Unable to set background on col or colgroup elements with CSS"
   href="/show_bug.cgi?id=218541">218541</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - CSS not applied to table column"
   href="/show_bug.cgi?id=219404">219404</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - setting background color in style attribute of colgroup tag has no effect"
   href="/show_bug.cgi?id=221020">221020</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - table element inheritances do not work"
   href="/show_bug.cgi?id=224283">224283</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - support css in &lt;col&gt;&lt;colgroup&gt; tag"
   href="/show_bug.cgi?id=225780">225780</a>
      </div>

    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-bug_file_loc"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/" target="_blank"
      rel="noreferrer" title="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/"
      class="bug-url" data-safe="1">fantasai.tripod.com/www-style/2002/ta...</a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-see_also" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-see_also">
        ---
        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Keywords: css2, testcase, Whiteboard: [awd:tbl])
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-alias">
        ---
        </span>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=css2&amp;resolution=---">css2</a>, 
          <a href="/buglist.cgi?keywords=testcase&amp;resolution=---">testcase</a>
        </span>
    </div>

  
</div>

    <div class="field" id="field-status_whiteboard"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-status_whiteboard">[awd:tbl]
        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_qa_whiteboard" style="display:none"
>
    <div class="name">QA Whiteboard:
    </div>


  
    <div class="value">
        <span id="field-value-cf_qa_whiteboard">
        ---
        </span>
    </div>

  
</div>

    

    <div class="field edit-show" id="field-cf_has_regression_range" style="display:none"
>
    <div class="name">Has Regression Range:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_regression_range">
            ---

        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_has_str" style="display:none"
>
    <div class="name">Has STR:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_str">
            ---

        </span>
    </div>

  
</div>

    <div class="field" id="field-votes"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-votes">7
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_flags" style="display:none"
>
    <div class="name">Bug Flags:
    </div>


  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?" for="flag_type-930">behind-pref</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-930-dirty">
      <select id="flag_type-930" name="flag_type-930"
        title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?"
        class="bug-flag">
          <option value="X"></option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag tracking inclusion in the desktop Firefox product backlog." for="flag_type-846">firefox-backlog</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-846-dirty">
      <select id="flag_type-846" name="flag_type-846"
        title="Flag tracking inclusion in the desktop Firefox product backlog."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag_type-803">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-803-dirty">
      <select id="flag_type-803" name="flag_type-803"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in-qa-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-37">in-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-37-dirty">
      <select id="flag_type-37" name="flag_type-37"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually" for="flag_type-864">qe-verify</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-864-dirty">
      <select id="flag_type-864" name="flag_type-864"
        title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually"
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Signature:
    </div>


  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (4 files, 17 obsolete files)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=69072">temporary fix</a>
        </div>
        <div>
            <a href="#c35" class="attach-time activity-ref"><span class="rel-time" title="2002-02-12 11:17 PST" data-time="1013541420">19 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">9.79 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_3823" ><span class="fn">karnaze</span>
</div>:
              <a href="#c36"
                  class="flag-name-status rel-time-title activity-ref"
                  title="19 years ago"
              data-time="1014051364"
            >
              review+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_10025" ><span class="fn">attinasi</span>
</div>:
              <a href="#c38"
                  class="flag-name-status rel-time-title activity-ref"
                  title="19 years ago"
              data-time="1014155827"
            >
              superreview+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=69072&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=69072&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=69072">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=105030">preliminary work</a>
        </div>
        <div>
            <a href="#c64" class="attach-time activity-ref"><span class="rel-time" title="2002-11-03 13:27 PST" data-time="1036358865">18 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">14.45 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=105030&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=105030&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=105030">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=106551">patch</a>
        </div>
        <div>
            <a href="#c67" class="attach-time activity-ref"><span class="rel-time" title="2002-11-16 23:33 PST" data-time="1037518433">18 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">26.02 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=106551&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=106551&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=106551">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=125788">patch</a>
        </div>
        <div>
            <a href="#c79" class="attach-time activity-ref"><span class="rel-time" title="2003-06-16 20:31 PDT" data-time="1055820678">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">57.77 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=125788&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=125788&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=125788">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=125789">nsTableUnderlay.h</a>
        </div>
        <div>
            <a href="#c80" class="attach-time activity-ref"><span class="rel-time" title="2003-06-16 20:33 PDT" data-time="1055820797">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">4.26 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=125789&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=125790">nsTableUnderlay.cpp</a>
        </div>
        <div>
            <a href="#c81" class="attach-time activity-ref"><span class="rel-time" title="2003-06-16 20:35 PDT" data-time="1055820956">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">15.40 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=125790&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=125925">nsTableUnderlay.h (Now with More Comments)</a>
        </div>
        <div>
            <a href="#c82" class="attach-time activity-ref"><span class="rel-time" title="2003-06-18 11:12 PDT" data-time="1055959944">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">6.20 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=125925&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=125928">nsTableUnderlay.cpp (tweaked)</a>
        </div>
        <div>
            <a href="#c83" class="attach-time activity-ref"><span class="rel-time" title="2003-06-18 11:16 PDT" data-time="1055960173">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">15.03 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=125928&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=129063">Patch (untested)</a>
        </div>
        <div>
            <a href="#c91" class="attach-time activity-ref"><span class="rel-time" title="2003-08-02 04:20 PDT" data-time="1059823254">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">58.79 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=129063&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=129063&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=129063">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=129064">nsTableUnderlay.h (untested)</a>
        </div>
        <div>
            <a href="#c92" class="attach-time activity-ref"><span class="rel-time" title="2003-08-02 04:23 PDT" data-time="1059823395">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">6.32 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=129064&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=129065">nsTableUnderlay.cpp (untested)</a>
        </div>
        <div>
            <a href="#c93" class="attach-time activity-ref"><span class="rel-time" title="2003-08-02 04:25 PDT" data-time="1059823528">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">15.14 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=129065&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=129509"
              title="screenshot "
              class="lightbox">
              <img src="/extensions/BugModal/web/image.png" width="16" height="16">screenshot 
            </a>
        </div>
        <div>
            <a href="#c102" class="attach-time activity-ref"><span class="rel-time" title="2003-08-09 13:33 PDT" data-time="1060461201">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_17687" ><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div></span>
        </div>
        <div class="attach-info">20.69 KB,
          image/png        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=129509&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=129900"
              title="screenshot of painting inside the cellspacing"
              class="lightbox">
              <img src="/extensions/BugModal/web/image.png" width="16" height="16">screenshot of painting inside the cellspacing
            </a>
        </div>
        <div>
            <a href="#c106" class="attach-time activity-ref"><span class="rel-time" title="2003-08-16 01:18 PDT" data-time="1061021932">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_17687" ><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div></span>
        </div>
        <div class="attach-info">36.89 KB,
          image/png        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=129900&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=135353">patch</a>
        </div>
        <div>
            <a href="#c122" class="attach-time activity-ref"><span class="rel-time" title="2003-11-12 15:23 PST" data-time="1068679421">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">88.27 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=135353&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=135353&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=135353">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=135354">nsTableUnderlay.h</a>
        </div>
        <div>
            <a href="#c123" class="attach-time activity-ref"><span class="rel-time" title="2003-11-12 15:26 PST" data-time="1068679573">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">6.32 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=135354&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=135355">nsTableUnderlay.cpp</a>
        </div>
        <div>
            <a href="#c124" class="attach-time activity-ref"><span class="rel-time" title="2003-11-12 15:28 PST" data-time="1068679701">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">15.12 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=135355&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=140946">nsTablePainter.h (not quite done)</a>
        </div>
        <div>
            <a href="#c151" class="attach-time activity-ref"><span class="rel-time" title="2004-02-09 03:18 PST" data-time="1076325482">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">8.04 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=140946&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=140947">(not quite done)</a>
        </div>
        <div>
            <a href="#c152" class="attach-time activity-ref"><span class="rel-time" title="2004-02-09 03:25 PST" data-time="1076325919">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">19.83 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=140947&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=141121">patch</a>
        </div>
        <div>
            <a href="#c155" class="attach-time activity-ref"><span class="rel-time" title="2004-02-10 19:27 PST" data-time="1076470024">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">94.19 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bzbarsky</span>
</div>:
              <a href="#c159"
                  class="flag-name-status rel-time-title activity-ref"
                  title="17 years ago"
              data-time="1076470332"
            >
              superreview+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=141121&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=141121&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=141121">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=141851">patch</a>
        </div>
        <div>
            <a href="#c170" class="attach-time activity-ref"><span class="rel-time" title="2004-02-20 14:09 PST" data-time="1077314970">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">135.11 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_17687" ><span class="fn">bernd_mozilla</span>
</div>:
              <a href="#c176"
                  class="flag-name-status rel-time-title activity-ref"
                  title="17 years ago"
              data-time="1077315457"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=141851&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=141851&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=141851">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=142639">final patch (?)</a>
        </div>
        <div>
            <a href="#c177" class="attach-time activity-ref"><span class="rel-time" title="2004-02-29 14:46 PST" data-time="1078094815">17 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_9018" ><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div></span>
        </div>
        <div class="attach-info">135.62 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_3881" ><span class="fn">dbaron</span>
</div>:
              <a href="#c185"
                  class="flag-name-status rel-time-title activity-ref"
                  title="17 years ago"
              data-time="1078792622"
            >
              superreview+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=142639&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=142639&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=142639">Splinter Review</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
      <button type="button" id="attachments-obsolete-btn" class="secondary">Show Obsolete</button>
  </div>
  
</footer>
  </div>
</section>



<script nonce="kRFsVx7vMubtpb1DCl16FWDwCu1XU6oQfG4rAAhi9XYBthfW">
  init_module_visibility();
</script>



<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;80.0b8&quot;,&quot;FIREFOX_ESR&quot;:&quot;68.11.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;78.1.0esr&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;81.0a1&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2020-07-27&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2020-07-28&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2020-07-23&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;80.0b8&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;80.0b8&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;79.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2020-08-24&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2020-08-25&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2020-08-20&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="32339" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" ><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" ><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-04-02 14:05 PST" data-time="923090711">22 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-0" data-comment-id="32339">You have a number of serious problems with backgrounds on table elements (CSS2,
section 17.5.1: <a rel="nofollow" href="http://www.w3.org/TR/REC-CSS2/tables.html#table-layers">http://www.w3.org/TR/REC-CSS2/tables.html#table-layers</a> ).

My three tests:

<a rel="nofollow" href="http://www.fas.harvard.edu/~dbaron/csstest/sec170501">http://www.fas.harvard.edu/~dbaron/csstest/sec170501</a>
<a rel="nofollow" href="http://www.fas.harvard.edu/~dbaron/csstest/sec170501a">http://www.fas.harvard.edu/~dbaron/csstest/sec170501a</a>
<a rel="nofollow" href="http://www.fas.harvard.edu/~dbaron/csstest/sec170501b">http://www.fas.harvard.edu/~dbaron/csstest/sec170501b</a>

show the following problems:

1) Backgrounds on table-column and table-column-group elements don't work.

2) Transparency on table-cell elements causes the table-row and table-row-group
backgrounds to be ignored.  This is because of you current inherit hackery in
ua.css.  I assume if the tables were created in XML, the table-row and
table-row-group backgrounds wouldn't work either.

3) Backgrounds are not ignored (as they should be) on empty table-cell elements.

If you want table backgrounds to work correctly, you need to paint them in the 6
layers described in the spec (table, table-column-group, table-column,
table-row-group (or header or footer), table-row, table-cell) and not use the
inherit stuff in ua.css.</pre></div><div class="change-set" id="a843103_3823"><div class="change" id="aa843103_3823">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a843103_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3823" id="a843103_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a843103_3823"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a843103_3823">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a843103_3823">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-04-12 09:16 PDT" data-time="923933814">22 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Status: NEW &rarr; ASSIGNED</div><div class="change">Target Milestone: M5</div></div></div><div class="change-set" id="c1"><div class="comment" data-id="32340" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-1" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3853" id="a843103_3823"><img src="https://secure.gravatar.com/avatar/715f1344e52ba783e2f3d133a958bef4?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3853" id="a843103_3823"><a class="email disabled" href="/user_profile?user_id=3853" > <span class="fna">leger</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-04-13 09:10 PDT" data-time="924019859">22 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-1" data-comment-id="32340">chrisd, is this Linux specific?</pre></div><div class="change-set" id="a934770_3881"><div class="change" id="aa934770_3881">
    <table class="layout-table change-head reporter" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a934770_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a934770_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a934770_3881"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a934770_3881">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a934770_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-04-13 10:44 PDT" data-time="924025481">22 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">OS: Linux &rarr; All</div><div class="change">Hardware: PC &rarr; All</div></div></div><div class="change-set" id="c2"><div class="comment" data-id="32341" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-2" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a934770_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a934770_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-04-13 10:44 PDT" data-time="924025499">22 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-2" data-comment-id="32341">It's not Linux specific.  It's the same on Linux and Windows.  I just reported
it on Linux.  Changing OS and Platform to All.</pre></div><div class="change-set" id="a2156012_3823"><div class="change" id="aa2156012_3823">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a2156012_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3823" id="a2156012_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a2156012_3823"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a2156012_3823">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a2156012_3823">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-04-27 13:58 PDT" data-time="925246723">22 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Target Milestone: M5 &rarr; M6</div></div></div><div class="change-set" id="c3"><div class="comment" data-id="32342" data-no="3"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-3" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a2156012_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a2156012_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-3"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-3" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-04-27 13:58 PDT" data-time="925246739">22 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-3" data-comment-id="32342">Moving to M6.</pre></div><div class="change-set" id="c4"><div class="comment" data-id="32343" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-4" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a2156012_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a2156012_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-05-13 13:35 PDT" data-time="926627759">22 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-4" data-comment-id="32343">Moving to M8</pre></div><div class="change-set" id="c5"><div class="comment" data-id="32344" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-5" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a2156012_3823"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4054" id="a2156012_3823"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-05-18 07:14 PDT" data-time="927036899">22 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-5" data-comment-id="32344">See also <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - ua.css has strange rules for tables"
   href="/show_bug.cgi?id=3933">bug 3933</a>.</pre></div><div class="change-set" id="c6"><div class="comment" data-id="32345" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-6" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a2156012_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a2156012_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-05-18 08:38 PDT" data-time="927041939">22 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-6" data-comment-id="32345">ua.css, this bug, and and many other table style bugs will be easily fixed after
Peter adds a new style rule (in the code) which gets applied after the html
style sheet but before the css style sheets.</pre></div><div class="change-set" id="a5727613_3823"><div class="change" id="aa5727613_3823">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a5727613_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3823" id="a5727613_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a5727613_3823"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a5727613_3823">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a5727613_3823">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-06-07 22:05 PDT" data-time="928818324">22 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Status: ASSIGNED &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="1999-06-07 22:05 PDT" data-time="928818324">22 years ago</span></div><div class="change">Resolution: --- &rarr; FIXED</div></div></div><div class="change-set" id="c7"><div class="comment" data-id="32346" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-7" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a5727613_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a5727613_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-06-07 22:05 PDT" data-time="928818359">22 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-7" data-comment-id="32346">Fixed with latest checkin. Only works correctly in Standard Mode.</pre></div><div class="change-set" id="a6407707_4110"><div class="change" id="aa6407707_4110">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4110" id="a6407707_4110"><img src="https://secure.gravatar.com/avatar/a2ed12df8daafde5811afc0ad2515df6?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4110" id="a6407707_4110"><a class="email disabled" href="/user_profile?user_id=4110" > <span class="fna">Christine Hoffman</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a6407707_4110"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a6407707_4110">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a6407707_4110">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-06-15 19:00 PDT" data-time="929498418">22 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Status: RESOLVED &rarr; VERIFIED</div></div></div><div class="change-set" id="c8"><div class="comment" data-id="32347" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-8" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4110" id="a6407707_4110"><img src="https://secure.gravatar.com/avatar/a2ed12df8daafde5811afc0ad2515df6?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4110" id="a6407707_4110"><a class="email disabled" href="/user_profile?user_id=4110" > <span class="fna">Christine Hoffman</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-06-15 19:00 PDT" data-time="929498459">22 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-8" data-comment-id="32347">Using 6/14 Apprunner, colors display an indicated on test cases. Verifying bug
fixed.</pre></div><div class="change-set" id="c9"><div class="comment" data-id="343785" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-9" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11501" id="a6407707_4110"><img src="https://secure.gravatar.com/avatar/cc774e0e508fbe64fcf30f298c5b5184?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_11501" id="a6407707_4110"><a class="email disabled" href="/user_profile?user_id=11501" > <span class="fna">TAKAHASHI Makoto</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-06-27 23:44 PDT" data-time="962174679">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-9" data-comment-id="343785">Background attribute of &lt;tr&gt; does not inherit to
 &lt;td&gt;. (Build 2000062020 Windows 2000)


&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
&lt;HTML lang=ja&gt;
&lt;HEAD&gt;
   &lt;STYLE TYPE=&quot;text/css&quot;&gt;&lt;!--
tr     {background:  #80ffff;
        color:       #000000}
td     {background:  #000000;
        color:       #ffffff}
--&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY background=#ffffff&gt;
&lt;table&gt;
&lt;tr&gt;&lt;td&gt;a&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;c&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;a&lt;/td&gt;&lt;td&gt;b&lt;/td&gt;&lt;td&gt;c&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;

For HTML above, background color becomes #fffff of body.
This should be color of &lt;tr&gt; #80ffff.

 &gt;These &quot;empty&quot; cells are transparent, letting lower layers shine through.

(CSS2 17.5.1)
</pre></div><div class="change-set" id="c10"><div class="comment" data-id="347557" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-10" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a6407707_4110"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a6407707_4110"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-07-03 17:14 PDT" data-time="962669640">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-10" data-comment-id="347557">I'm reopening this bug, since I think this should not be only for standard mode. 
 Are there any pages that depend on table backgrounds not working?  We don't 
want quirks mode to be blatant emulation of Nav4 -- page authors hate Nav4.  We 
only want to emulate the quirks that pages depend on.

Also clearing M7 TM and removing peterl from cc: list, but adding Ian.</pre><div class="activity"><div class="change">Status: VERIFIED &rarr; REOPENED</div><div class="change">Resolution: FIXED &rarr; ---</div><div class="change">Target Milestone: M7 &rarr; ---</div></div></div><div class="change-set" id="c11"><div class="comment" data-id="347558" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-11" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a6407707_4110"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a6407707_4110"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-07-03 17:15 PDT" data-time="962669706">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-11" data-comment-id="347558">I think this should be fixed for beta3.  Assuming we decide to do it, it should 
be very easy to do.</pre><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=nsbeta3&amp;resolution=---">nsbeta3</a></div></div></div><div class="change-set" id="a39804219_3823"><div class="change" id="aa39804219_3823">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a39804219_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3823" id="a39804219_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a39804219_3823"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a39804219_3823">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a39804219_3823">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-07-06 07:48 PDT" data-time="962894930">20 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Status: REOPENED &rarr; ASSIGNED</div></div></div><div class="change-set" id="a40161520_3823"><div class="change" id="aa40161520_3823">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a40161520_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3823" id="a40161520_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a40161520_3823"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a40161520_3823">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a40161520_3823">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-07-10 11:03 PDT" data-time="963252231">20 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=testcase&amp;resolution=---">testcase</a></div></div></div><div class="change-set" id="c12"><div class="comment" data-id="368902" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-12" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3845" id="a40161520_3823"><img src="https://secure.gravatar.com/avatar/bd7bb48a43dd57576b0aa61861029c25?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3845" id="a40161520_3823"><a class="email disabled" href="/user_profile?user_id=3845" > <span class="fna">ekrock's old account (dead)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-07-25 12:14 PDT" data-time="964552474">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-12" data-comment-id="368902">One bug report == one issue is one of the golden rules of Bugzilla because it
enables independent tracking and prioritization of each issue. David, could you
please split this into separate bug reports, one per issue, because not all of
these issues are of equal priority. For example, we don't support styles at all
on columns or column groups (FUTUREd), so supporting backgrounds on them should
be FUTUREd as well. But you can make your case that the other bugs should be of
higher priority. Please justify to PDT user/developer impact, any blocking
effect on adoption within content, etc.</pre></div><div class="change-set" id="c13"><div class="comment" data-id="378179" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-13" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3524" id="a40161520_3823"><img src="https://secure.gravatar.com/avatar/1671b99a1b2155a4bd7614378cac4746?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3524" id="a40161520_3823"><a class="email disabled" href="/user_profile?user_id=3524" > <span class="fna">Chris Waterson</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-08-01 17:24 PDT" data-time="965175841">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-13" data-comment-id="378179">virtual attinasi</pre><div class="activity"><div class="change">Whiteboard: [nsbeta3-]</div></div></div><div class="change-set" id="a42151929_10025"><div class="change" id="aa42151929_10025">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10025" id="a42151929_10025"><img src="https://secure.gravatar.com/avatar/f5c12e742b2f1945e81e7eed6b93ba48?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_10025" id="a42151929_10025"><a class="email disabled" href="/user_profile?user_id=10025" > <span class="fna">Marc Attinasi</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a42151929_10025"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a42151929_10025">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a42151929_10025">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-08-02 11:57 PDT" data-time="965242640">20 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Target Milestone: --- &rarr; Future</div></div></div><div class="change-set" id="c14"><div class="comment" data-id="385625" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-14" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11007" id="a42151929_10025"><img src="https://secure.gravatar.com/avatar/b4610b92810b55bfee0be46cc2c11586?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_11007" id="a42151929_10025"><a class="email disabled" href="/user_profile?user_id=11007" > <span class="fna">Jeffrey Baker</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-08-08 10:16 PDT" data-time="965754985">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-14" data-comment-id="385625">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - Blank table cells aren't rendered with the table row background color"
   href="/show_bug.cgi?id=48013">Bug 48013</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c15"><div class="comment" data-id="389903" data-no="15"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-15" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17313" id="a42151929_10025"><img src="https://secure.gravatar.com/avatar/b8004ab84caf2d6c90432f6d3dfbe5e7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17313" id="a42151929_10025"><a class="email " href="/user_profile?user_id=17313" > <span class="fna">Devoti Paolo</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-15"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-15" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-08-10 16:29 PDT" data-time="965950178">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-15" data-comment-id="389903">see also <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED WORKSFORME - Transparent GIF as table backgrounds unpredictable"
   href="/show_bug.cgi?id=47563">bug 47563</a></pre></div><div class="change-set" id="c16"><div class="comment" data-id="508139" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-16" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a42151929_10025"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a42151929_10025"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-11-09 08:49 PST" data-time="973788598">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-16" data-comment-id="508139">See comment on <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - [DOCTYPE] Documents with unknown DOCTYPE should be displayed in strict mode"
   href="/show_bug.cgi?id=55264">bug 55264</a> for yet another reason why this should be fixed in
quirks mode too.

Regarding ekrock's comment above -- it *is* one issue.  It's just that when the
fix was checked in, it was for standard mode only (for no apparent reason).</pre><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=css2&amp;resolution=---">css2</a></div></div></div><div class="change-set" id="c17"><div class="comment" data-id="520008" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-17" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a42151929_10025"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a42151929_10025"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-11-24 20:44 PST" data-time="975127483">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-17" data-comment-id="520008">Nominating for mozilla 0.9 to get on people's radar.  This is a trivial fix, and
I don't see any reason not to make it.  We're better off avoiding
quirks/standard mode differences that we don't need.</pre><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=mozilla0.9&amp;resolution=---">mozilla0.9</a></div></div></div><div class="change-set" id="c18"><div class="comment" data-id="525984" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-18" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a42151929_10025"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a42151929_10025"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-12-03 20:10 PST" data-time="975903012">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-18" data-comment-id="525984">NavQuirks behavior should be kept for &lt;tr bgcolor=&quot;x&quot;&gt;, though, since all 
versions of MSIE also render it that way. (And Opera, too.)

Do you want CSS2 behavior for /CSS/-applied backgrounds on &lt;tr&gt;?</pre></div><div class="change-set" id="c19"><div class="comment" data-id="644811" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-19" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_26338" id="a42151929_10025"><img src="https://secure.gravatar.com/avatar/dac4652f4d2d2b1def27605ed6943adf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_26338" id="a42151929_10025"><a class="email disabled" href="/user_profile?user_id=26338" > <span class="fna">Amarendra Hanumanula</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-03-22 13:33 PST" data-time="985296797">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-19" data-comment-id="644811">QA contact update</pre><div class="activity"><div class="change">QA Contact: chrisd &rarr; amar</div></div></div><div class="change-set" id="a65139406_13548"><div class="change" id="aa65139406_13548">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_13548" id="a65139406_13548"><img src="https://secure.gravatar.com/avatar/9ca235474c2f65fb9c1fd42a2e2e5ef6?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_13548" id="a65139406_13548"><a class="email disabled" href="/user_profile?user_id=13548" > <span class="fna">Blake Ross</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a65139406_13548"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a65139406_13548">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a65139406_13548">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-04-25 13:21 PDT" data-time="988230117">20 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=nsbeta3&amp;resolution=---">nsbeta3</a></span></div></div></div><div class="change-set" id="a66824977_15223"><div class="change" id="aa66824977_15223">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_15223" id="a66824977_15223"><img src="https://secure.gravatar.com/avatar/e4a0566b254d665aa267b7874726fbbf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_15223" id="a66824977_15223"><a class="email " href="/user_profile?user_id=15223" > <span class="fna">timeless</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a66824977_15223"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a66824977_15223">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a66824977_15223">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-05-15 01:34 PDT" data-time="989915688">20 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=mozilla0.9&amp;resolution=---">mozilla0.9</a> &rarr; <a href="/buglist.cgi?keywords=mozilla0.9.2&amp;resolution=---">mozilla0.9.2</a>, 
          
            <a href="/buglist.cgi?keywords=mozilla1.0&amp;resolution=---">mozilla1.0</a></div><div class="change">Whiteboard: <span class="activity-deleted">[nsbeta3-]</span></div><div class="change">Target Milestone: Future &rarr; ---</div></div></div><div class="change-set" id="c20"><div class="comment" data-id="723076" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-20" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_15223" id="a66824977_15223"><img src="https://secure.gravatar.com/avatar/e4a0566b254d665aa267b7874726fbbf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_15223" id="a66824977_15223"><a class="email " href="/user_profile?user_id=15223" > <span class="fna">timeless</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-05-15 01:34 PDT" data-time="989915689">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-20" data-comment-id="723076">nomination of mozilla0.9 conflicts w/ target milestone of future. clobbering 
both and nsbeta3-.  Can we please try to get closure on this bug?</pre></div><div class="change-set" id="c21"><div class="comment" data-id="723164" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-21" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a66824977_15223"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a66824977_15223"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-05-15 03:58 PDT" data-time="989924307">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-21" data-comment-id="723164"><a rel="nofollow" href="http://bugzilla.mozilla.org/showattachment.cgi?attach_id=20181">http://bugzilla.mozilla.org/showattachment.cgi?attach_id=20181</a> [<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [QUIRKS] bgcolor does not fill entire table"
   href="/show_bug.cgi?id=46268">bug 46268</a>]
should fix this for everything except table rows (a necessary quirk).

</pre></div><div class="change-set" id="c22"><div class="comment" data-id="758948" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-22" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_23253" id="a66824977_15223"><img src="https://secure.gravatar.com/avatar/c81297e291717c15fe2070eff74f2aa9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_23253" id="a66824977_15223"><a class="email disabled" href="/user_profile?user_id=23253" > <span class="fna">Markus Hübner</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-06-05 08:30 PDT" data-time="991755038">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-22" data-comment-id="758948">what needs to be done on this one?! Hope to see this one fixed soon.</pre></div><div class="change-set" id="c23"><div class="comment" data-id="794460" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-23" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a66824977_15223"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a66824977_15223"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-06-25 08:55 PDT" data-time="993484506">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-23" data-comment-id="794460">copy from 46268:

Just a short quote from the CSS2 spec:

17.6.1 The separated borders model

In this model, each cell has an individual border. The 'border-spacing' property
specifies the distance between the borders of adjacent cells. 


*This space is filled with the background of the table element*.


 Rows, columns, row groups, and column groups cannot have borders (i.e., user
agents must ignore the border properties for those elements).

I think what IE is doing is just right, they inherit the color into the table
cell. I think we should do the same. This would require from fantasai's patch
only the nsTableFrame.cpp part in order to paint the cellspacing with the table
backgrounds color.

I have to admit that the CSS2 spec is not conflict free in this matter and as
one can see by the David's posting
<a rel="nofollow" href="http://lists.w3.org/Archives/Public/www-style/1999Jul/0083.html">http://lists.w3.org/Archives/Public/www-style/1999Jul/0083.html</a> and the answers,
the W3C is not able create a clear specification over two years
now. So it is hard to believe that this will change very soon.

The honest interpretation of the conflict is that for the collapsed border model
 as  default the space between cell's should be covered by table- , row- , col-
etc background, while for the separated border model it deviates from the
default model and only the table background is used for the space between the
cells. </pre></div><div class="change-set" id="c24"><div class="comment" data-id="800439" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-24" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a66824977_15223"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4054" id="a66824977_15223"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-06-27 18:18 PDT" data-time="993691099">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-24" data-comment-id="800439">The WG is looking at this. I hope to have an answer for you on Monday.</pre><div class="activity"><div class="change">Whiteboard: (WG bug 85)</div></div></div><div class="change-set" id="c25"><div class="comment" data-id="818703" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-25" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a66824977_15223"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a66824977_15223"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-07-09 23:58 PDT" data-time="994748309">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-25" data-comment-id="818703">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Blank cells in table do not display correct background color"
   href="/show_bug.cgi?id=87232">Bug 87232</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c26"><div class="comment" data-id="820578" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-26" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a66824977_15223"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a66824977_15223"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-07-10 18:55 PDT" data-time="994816530">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-26" data-comment-id="820578">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - TD BGCOLOR cells would not be visible unless I added a &amp;nobr;"
   href="/show_bug.cgi?id=90247">Bug 90247</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c27"><div class="comment" data-id="830792" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-27" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a66824977_15223"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a66824977_15223"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-07-18 09:25 PDT" data-time="995473558">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-27" data-comment-id="830792">We partly removed the table background quirks and now we have the regression
bugs, before going any further in this direction we should carefully analyze our
painting bugs because the majority of pages use still the quirk mode and
switching to the less tested strict mode can create a bunch of regressions.</pre><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - css background image doesn't display correctly"
   href="/show_bug.cgi?id=91034">91034</a></div></div></div><div class="change-set" id="a74190085_17687"><div class="change" id="aa74190085_17687">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a74190085_17687"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_17687" id="a74190085_17687"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a74190085_17687"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a74190085_17687">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a74190085_17687">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-08-08 07:26 PDT" data-time="997280796">19 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - Backgrounds for rows conflict with rowspanned cell backgrounds."
   href="/show_bug.cgi?id=68998">68998</a></div></div></div><div class="change-set" id="a81041873_11736"><div class="change" id="aa81041873_11736">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11736" id="a81041873_11736"><img src="https://secure.gravatar.com/avatar/32a21509006054af59a69f88dede243b?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_11736" id="a81041873_11736"><a class="email disabled" href="/user_profile?user_id=11736" > <span class="fna">anthonyd</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a81041873_11736"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a81041873_11736">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a81041873_11736">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-26 14:43 PDT" data-time="1004132584">19 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: (WG bug 85) &rarr; [awd:tbl](WG bug 85)</div></div></div><div class="change-set" id="a81046565_3823"><div class="change" id="aa81046565_3823">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a81046565_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3823" id="a81046565_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a81046565_3823"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a81046565_3823">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a81046565_3823">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-26 16:01 PDT" data-time="1004137276">19 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Target Milestone: --- &rarr; mozilla1.0</div></div></div><div class="change-set" id="a81297603_21767"><div class="change" id="aa81297603_21767">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_21767" id="a81297603_21767"><img src="https://secure.gravatar.com/avatar/e80d1e27f436dc474330ba28dcdb3f94?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_21767" id="a81297603_21767"><a class="email disabled" href="/user_profile?user_id=21767" > <span class="fna">Cormac F</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a81297603_21767"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a81297603_21767">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a81297603_21767">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-29 12:45 PST" data-time="1004388314">19 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED INCOMPLETE - html 4.0 compatibility tests"
   href="/show_bug.cgi?id=55623">55623</a></div></div></div><div class="change-set" id="c28"><div class="comment" data-id="1019187" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-28" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_8082" id="a81297603_21767"><img src="https://secure.gravatar.com/avatar/2bcfb7b733be0416533b55ec3eb3b757?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_8082" id="a81297603_21767"><a class="email disabled" href="/user_profile?user_id=8082" > <span class="fna">Christopher Hoess (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-11-10 15:50 PST" data-time="1005436258">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-28" data-comment-id="1019187">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - TABLE BGCOLOR not correctly displaying within cellpadding/spacing"
   href="/show_bug.cgi?id=84986">Bug 84986</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c29"><div class="comment" data-id="1020079" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-29" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a81297603_21767"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a81297603_21767"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-11-11 17:59 PST" data-time="1005530352">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-29" data-comment-id="1020079">CSS2 Errata [<a rel="nofollow" href="http://www.w3.org/Style/css2-updates/REC-CSS2-19980512-errata.html">http://www.w3.org/Style/css2-updates/REC-CSS2-19980512-errata.html</a>]
 |
 | [2001-08-27] At the end of the section add the following paragraph:
 |
 |   Note that if the table has 'border-collapse: separate', the background of
 |   the area given by the 'border-spacing' property is always the background
 |   of the table element. See 17.6.1&quot;
</pre></div><div class="change-set" id="c30"><div class="comment" data-id="1051875" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-30" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a81297603_21767"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a81297603_21767"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-12-01 17:21 PST" data-time="1007256060">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-30" data-comment-id="1051875">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - tr bgcolor covers vertical cellspacing and previous rowspan"
   href="/show_bug.cgi?id=113067">Bug 113067</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c31"><div class="comment" data-id="1107780" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-31" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a81297603_21767"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a81297603_21767"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-11 11:09 PST" data-time="1010776150">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-31" data-comment-id="1107780">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - CSS: background-image not applied correctly to &lt;table&gt;"
   href="/show_bug.cgi?id=119442">Bug 119442</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c32"><div class="comment" data-id="1120396" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-32" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a81297603_21767"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a81297603_21767"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-18 08:42 PST" data-time="1011372125">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-32" data-comment-id="1120396">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - CSS: background-image not applied correctly to &lt;table&gt;"
   href="/show_bug.cgi?id=119442">Bug 119442</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="a89069846_4833"><div class="change" id="aa89069846_4833">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4833" id="a89069846_4833"><img src="https://secure.gravatar.com/avatar/7cb8e6f84fe6d38db515e33c1aa1b3a0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4833" id="a89069846_4833"><a class="email disabled" href="/user_profile?user_id=4833" > <span class="fna">basic</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a89069846_4833"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a89069846_4833">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a89069846_4833">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-27 11:42 PST" data-time="1012160557">19 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=mozilla0.9.9&amp;resolution=---">mozilla0.9.9</a></div></div></div><div class="change-set" id="c33"><div class="comment" data-id="1133523" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-33" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a89069846_4833"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a89069846_4833"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-27 12:08 PST" data-time="1012162131">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-33" data-comment-id="1133523">We could easily make the strict mode finally compliant to the spec (errata), aka
not drawing the cellspacing background, by switching it to the quirks mode
rendering. Oh man I love that, sorry David and Hixie if you cant share my joy.</pre></div><div class="change-set" id="c34"><div class="comment" data-id="1135916" data-no="34"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-34" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a89069846_4833"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a89069846_4833"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-28 18:49 PST" data-time="1012272578">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-34" data-comment-id="1135916">I second a switch to Quirks rendering for Standard mode. It's almost identical 
to IE and Opera. It won't break pages. Right now, our rendering is incorrect per 
CSS2, and I think it's pointless to keep it that way. As for making our 
rendering standards-compliant, the CSS2 spec is too ambiguous about how one 
would handle, for example

  TR {background: url(starburst.gif) no-repeat;}

IMO, Quirks is good enough for 1.0, it's easy to change, and it's better than 
what we have now. At the very least, we shouldn't introduce yet another 
incorrect rendering for page authors to handle.</pre></div><div class="change-set" id="c35"><div class="comment" data-id="1162814" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-35" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a89069846_4833"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a89069846_4833"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-12 11:17 PST" data-time="1013541420">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-69072"
         class="attachment patch"
         data-id="69072" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="patch4.out">
      <meta itemprop="contentSize" content="10030">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=69072">
          <a class="link" href="attachment.cgi?id=69072&amp;action=diff">
        <span id="att-69072-description" itemprop="description">temporary fix</span></a>
        — <a href="attachment.cgi?id=69072&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=69072">Splinter Review</a>
      </div>
    </div></div><div class="change-set" id="c36"><div class="comment" data-id="1174258" data-no="36"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-36" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a89069846_4833"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a89069846_4833"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-36"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-36" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-18 08:56 PST" data-time="1014051364">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-36" data-comment-id="1174258">Comment on <span class=""><a href="/attachment.cgi?id=69072" name="attach_69072" title="temporary fix">attachment 69072</a> <a href="/attachment.cgi?id=69072&amp;action=edit" title="temporary fix">[details]</a> <a href="/attachment.cgi?id=69072&amp;action=diff" title="temporary fix">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=69072'>[review]</a>
temporary fix

r=karnaze. fantasia, please run enough visual tests to convince yourself the
patch is ok.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=69072&amp;action=edit"
           title="temporary fix"
           class=""
        >Attachment #69072</a> -
        Flags: review+</div></div></div><div class="change-set" id="c37"><div class="comment" data-id="1175367" data-no="37"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-37" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a89069846_4833"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a89069846_4833"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-18 15:49 PST" data-time="1014076142">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-37" data-comment-id="1175367">I looked at the testcase in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [QUIRKS] bgcolor does not fill entire table"
   href="/show_bug.cgi?id=46268">bug 46268</a>, all three of dbaron's table background 
tests, and a testcase with image backgrounds. We render incorrectly per spec, of 
course, but aside from the column backgrounds, we're consistent with IE5.</pre></div><div class="change-set" id="c38"><div class="comment" data-id="1177609" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-38" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10025" id="a89069846_4833"><img src="https://secure.gravatar.com/avatar/f5c12e742b2f1945e81e7eed6b93ba48?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10025" id="a89069846_4833"><a class="email disabled" href="/user_profile?user_id=10025" > <span class="fna">Marc Attinasi</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-19 13:57 PST" data-time="1014155827">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-38" data-comment-id="1177609">Comment on <span class=""><a href="/attachment.cgi?id=69072" name="attach_69072" title="temporary fix">attachment 69072</a> <a href="/attachment.cgi?id=69072&amp;action=edit" title="temporary fix">[details]</a> <a href="/attachment.cgi?id=69072&amp;action=diff" title="temporary fix">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=69072'>[review]</a>
temporary fix

sr=attinasi (egg-shields up)</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=69072&amp;action=edit"
           title="temporary fix"
           class=""
        >Attachment #69072</a> -
        Flags: superreview+</div></div></div><div class="change-set" id="c39"><div class="comment" data-id="1177971" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-39" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3831" id="a89069846_4833"><img src="https://secure.gravatar.com/avatar/2f25e2d6516cae2b2f9d804a0d2f7b07?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3831" id="a89069846_4833"><a class="email disabled" href="/user_profile?user_id=3831" > <span class="fna">Kevin McCluskey (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-19 16:14 PST" data-time="1014164052">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-39" data-comment-id="1177971">Marking nsbeta1+</pre><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=nsbeta1%2B&amp;resolution=---">nsbeta1+</a></div></div></div><div class="change-set" id="a91073462_3831"><div class="change" id="aa91073462_3831">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3831" id="a91073462_3831"><img src="https://secure.gravatar.com/avatar/2f25e2d6516cae2b2f9d804a0d2f7b07?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3831" id="a91073462_3831"><a class="email disabled" href="/user_profile?user_id=3831" > <span class="fna">Kevin McCluskey (gone)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a91073462_3831"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a91073462_3831">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a91073462_3831">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-19 16:16 PST" data-time="1014164173">19 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - bgcolor of &lt;TR&gt; affect space setted by cellspacing parametr (standard mode)"
   href="/show_bug.cgi?id=116212">116212</a></div></div></div><div class="change-set" id="c40"><div class="comment" data-id="1178610" data-no="40"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-40" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a91073462_3831"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a91073462_3831"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-40"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-40" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-19 22:40 PST" data-time="1014187240">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-40" data-comment-id="1178610">a=roc+moz</pre></div><div class="change-set" id="c41"><div class="comment" data-id="1181443" data-no="41"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-41" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a91073462_3831"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a91073462_3831"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-41"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-41" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-21 01:02 PST" data-time="1014282122">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-41" data-comment-id="1181443">fix checked in</pre></div><div class="change-set" id="c42"><div class="comment" data-id="1181778" data-no="42"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-42" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a91073462_3831"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a91073462_3831"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-42"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-42" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-21 07:28 PST" data-time="1014305335">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-42" data-comment-id="1181778">-&gt;fantasai</pre><div class="activity"><div class="change">Assignee: karnaze &rarr; fantasai</div><div class="change">Status: ASSIGNED &rarr; NEW</div></div></div><div class="change-set" id="c43"><div class="comment" data-id="1181779" data-no="43"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-43" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a91073462_3831"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a91073462_3831"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-43"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-43" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-21 07:29 PST" data-time="1014305363">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-43" data-comment-id="1181779">fixed</pre><div class="activity"><div class="change">Status: NEW &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="1999-06-07 22:05 PDT" data-time="928818324">22 years ago</span> &rarr; <span class="rel-time" title="2002-02-21 07:29 PST" data-time="1014305363">19 years ago</span></div><div class="change">Resolution: --- &rarr; FIXED</div></div></div><div class="change-set" id="a91223901_14701"><div class="change" id="aa91223901_14701">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_14701" id="a91223901_14701"><img src="https://secure.gravatar.com/avatar/60e8d4680b2951023e8396b48b3daff7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_14701" id="a91223901_14701"><a class="email disabled" href="/user_profile?user_id=14701" > <span class="fna">Christopher Blizzard (:blizzard)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a91223901_14701"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a91223901_14701">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a91223901_14701">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-21 10:03 PST" data-time="1014314612">19 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=mozilla0.9.9&amp;resolution=---">mozilla0.9.9</a> &rarr; <a href="/buglist.cgi?keywords=mozilla0.9.9%2B&amp;resolution=---">mozilla0.9.9+</a></div></div></div><div class="change-set" id="c44"><div class="comment" data-id="1182661" data-no="44"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-44" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a91223901_14701"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a91223901_14701"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-44"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-44" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-21 13:53 PST" data-time="1014328387">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-44" data-comment-id="1182661">This bug isn't actually fixed yet. Reopening and moving to future.</pre><div class="activity"><div class="change">Status: RESOLVED &rarr; REOPENED</div><div class="change">Resolution: FIXED &rarr; ---</div><div class="change">Target Milestone: mozilla1.0 &rarr; Future</div></div></div><div class="change-set" id="a91237955_9018"><div class="change" id="aa91237955_9018">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_9018" id="a91237955_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a91237955_9018"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a91237955_9018">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a91237955_9018">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-21 13:57 PST" data-time="1014328666">19 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Status: REOPENED &rarr; ASSIGNED</div></div></div><div class="change-set" id="c45"><div class="comment" data-id="1183211" data-no="45"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-45" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a91237955_9018"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-45"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-45" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-21 17:06 PST" data-time="1014340002">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-45" data-comment-id="1183211">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - bgcolor of &lt;TR&gt; affect space setted by cellspacing parametr (standard mode)"
   href="/show_bug.cgi?id=116212">Bug 116212</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c46"><div class="comment" data-id="1250556" data-no="46"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-46" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a91237955_9018"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-46"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-46" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-03-29 12:46 PST" data-time="1017434811">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-46" data-comment-id="1250556">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - Background color not rendered on COL or COLGROUP elements"
   href="/show_bug.cgi?id=134261">Bug 134261</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c47"><div class="comment" data-id="1284472" data-no="47"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-47" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a91237955_9018"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-47"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-47" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-04-16 13:12 PDT" data-time="1018987964">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-47" data-comment-id="1284472">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - css background assigned to a COL is not shown"
   href="/show_bug.cgi?id=137707">Bug 137707</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c48"><div class="comment" data-id="1284862" data-no="48"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-48" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a91237955_9018"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a91237955_9018"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-48"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-48" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-04-16 15:32 PDT" data-time="1018996373">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-48" data-comment-id="1284862">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - table columns ignore CSS class from col tag in tables"
   href="/show_bug.cgi?id=137779">Bug 137779</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c49"><div class="comment" data-id="1299673" data-no="49"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-49" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_50070" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/90547e44fc91b3fcf7d8874c5c5b9886?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_50070" id="a91237955_9018"><a class="email disabled" href="/user_profile?user_id=50070" > <span class="fna">charles allen</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-49"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-49" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c49">Comment 49</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-04-23 08:43 PDT" data-time="1019576582">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-49">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-49" data-comment-id="1299673">Even if you don't solve this bug for every case, could you at least be as
standards compliant as IE5 and paint background colors for colgroup and col like
IE5 does?  I'm trying to classify data using foreground colors for rows and
background colors for columns.  

BTW:  There's a lot of discussion here about CSS2 being ambiguous.  But I think
this bug would be a bug for HTML4/CSS1 as well as HTML4/CSS2.  I think that
would make Netscape 4.79's behaviour a bug and why carry that into Mozilla 1?  I
don't think CSS2 is very ambiguous regarding table backgrounds. </pre></div><div class="change-set" id="c50"><div class="comment" data-id="1301430" data-no="50"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-50" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a91237955_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-50"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-50" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c50">Comment 50</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-04-23 20:54 PDT" data-time="1019620453">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-50">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-50" data-comment-id="1301430"><span class="quote">&gt; Even if you don't solve this bug for every case, could you at least be as
&gt; standards compliant as IE5 and paint background colors for colgroup and col
&gt; like IE5 does?</span >

Then we would be condoning and spreading IE5's incorrect behavior. IMO, IE5 is 
not any more standards compliant than we are here. Even if you interpreted 
according to the scant information in CSS1, background is applied to the element 
it is specified on, not on a collection of associated elements as IE5 does.

<span class="quote">&gt; I think this bug would be a bug for HTML4/CSS1 as well as HTML4/CSS2. </span >

CSS1 does not bother to specify anything about table rendering; intra-table 
elements' behavior is effectively outside the scope of that specification.</pre></div><div class="change-set" id="c51"><div class="comment" data-id="1302650" data-no="51"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-51" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_50070" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/90547e44fc91b3fcf7d8874c5c5b9886?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_50070" id="a91237955_9018"><a class="email disabled" href="/user_profile?user_id=50070" > <span class="fna">charles allen</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-51"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-51" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c51">Comment 51</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-04-24 11:22 PDT" data-time="1019672570">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-51">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-51" data-comment-id="1302650">It's not a CSS problem, it's an HTML4 problem.

First, I am not implying that IE is a better browser overall.  I appreciate the
efforts of mozilla.org to supply a W3C standards-based browser and I'm just
trying to help the process.

<span class="quote">&gt;CSS1 does not bother to specify anything about table rendering; </span >

No, but HTML4 DOES specify how &lt;col/&gt; and &lt;colgroup&gt; should behave.  
Strictly speaking, Navigator4 and Mozilla1RC1 do not conform to HTML4 (and
therefore XHTML 1.0 I think) in regards to &lt;col/&gt; or &lt;colgroup&gt;.  Neither one
correctly displays the sample table in the HTML4.01 spec, and there isn't a
single STYLE attribute in that sample.  

My opinions:

As I see it there are three separate issues which may all be one bug or 3 bugs:
1: Mozilla doesn't attempt to paint the background of &lt;COL&gt; or &lt;COLGROUP&gt;
2: Mozilla doesn't properly apply HTML4 attributes to &lt;COL&gt; or &lt;COLGROUP&gt;
3: Mozilla doesn't inherit HTML4 attributes (including STYLE) from &lt;COL&gt; or
&lt;COLGROUP&gt; to &lt;TH&gt; or &lt;TD&gt;

Items 2 and 3 are clearly addressed in the W3C HTML4.01 specification.  
Item 1 is clearly addressed in the W3C CSS2 specification.

<span class="quote">&gt;IMO, IE5 is not any more standards compliant than we are here.</span >

Yes, it is in this case.  IE5 attempts to do all 3 things I listed above.  It
correctly shows the sample table from the HTML 4.01 spec.  It may not do them
perfectly but IMO half a glass is better than an empty glass.

<span class="quote">&gt;Even if you interpreted according to the scant information in CSS1, 
&gt;background is applied to the element it is specified on, 
&gt;not on a collection of associated elements as IE5 does.</span >

OK, so IE5 doesn't paint the &lt;col/&gt; background directly.  It allows &lt;td&gt; to
inherit the background properties from &lt;col/&gt;.  Yes, this is inconsistent with
CSS2.  And the background property is prohibited from being inherited in
HTML4.01.  But I suggest that since IE5 doesn't apply the background property
directly to &lt;col/&gt; it is reasonable to allow it to be inherited by an element
that it can apply to.  Therefore I think it is one reasonable implementation of
HTML4/CSS1.  If you disagree, so be it.  But tell me how to apply a background
or a foreground style to a &lt;col&gt;?  

<span class="quote">&gt;CSS1 does not bother to specify anything about table rendering; 
&gt;intra-table elements' behavior is effectively outside the scope 
&gt;of that specification.</span >

Correct.  It is established first in HTML 4.01 and refined in CSS2, and Mozilla
is out of compliance with both of them in regards to &lt;col/&gt;.  IE seems to at
least comply with HTML4.01 in this instance.

Good Luck!</pre></div><div class="change-set" id="c52"><div class="comment" data-id="1305490" data-no="52"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-52" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a91237955_9018"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a91237955_9018"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-52"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-52" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c52">Comment 52</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-04-25 13:46 PDT" data-time="1019767601">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-52">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-52" data-comment-id="1305490">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - BACKGROUND property for COL elements not being applied in Mozilla 1.0 rc1"
   href="/show_bug.cgi?id=140084">Bug 140084</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c53"><div class="comment" data-id="1307709" data-no="53"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-53" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_50070" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/90547e44fc91b3fcf7d8874c5c5b9886?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_50070" id="a91237955_9018"><a class="email disabled" href="/user_profile?user_id=50070" > <span class="fna">charles allen</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-53"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-53" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c53">Comment 53</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-04-26 09:51 PDT" data-time="1019839882">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-53">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-53" data-comment-id="1307709">Ok, I discovered <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - implement inheritance of alignment attributes from columns (align, valign, char, charoff, (lang, dir)?)"
   href="/show_bug.cgi?id=915">bug 915</a> which covers issues #2 and #3 for HTML attributs. 
Sorry about venting that here.  Issue #1 remains part of this bug.</pre></div><div class="change-set" id="c54"><div class="comment" data-id="1336612" data-no="54"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-54" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a91237955_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-54"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-54" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c54">Comment 54</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-05-11 18:51 PDT" data-time="1021168284">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-54">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-54" data-comment-id="1336612"><a rel="nofollow" href="http://lists.w3.org/Archives/Public/www-style/2002May/0077.html">http://lists.w3.org/Archives/Public/www-style/2002May/0077.html</a>


<span class="quote">&gt; Item 1 is clearly addressed in the W3C CSS2 specification.</span >

It is not clearly adressed in the W3C CSS2 specification, and that is exactly 
the reason this bug is Futured--until it /is/ clearly addressed.</pre></div><div class="change-set" id="c55"><div class="comment" data-id="1342098" data-no="55"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-55" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_50070" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/90547e44fc91b3fcf7d8874c5c5b9886?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_50070" id="a91237955_9018"><a class="email disabled" href="/user_profile?user_id=50070" > <span class="fna">charles allen</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-55"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-55" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c55">Comment 55</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-05-14 15:00 PDT" data-time="1021413619">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-55">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-55" data-comment-id="1342098">Nice, clear description of the problems.    

The collapsed border table model is much simpler, is the default behavior of
many browsers, and is (I guess) more commonly used than the separated borders model.
Therefore it seems to me that fixing the column backgrounds would be simple
enough and important enough to do for the collapsed borders model regardless of
the status of the separated borders model.

The background-color property doesn't have any of the the patterning issues that
you have illustrated in your description.  Therefore it seems that implementing
the background-color property for both table models would be simple enough and
important enough to do regardless of the status of the other background properties.

Regarding spanning cells, I think that if cell R1C2 spans across R2C2 then cell
R2C2 does not exist.  The row background for R2 should be transparent for where
R2C2 would be.  The row or column background for R1C2 would fill the entire R1C2
cell. 

BTW: I don't think I would often use backgrounds on both columns and rows in the
same table.  I think most people would be satisfied if column backgrounds worked
as long as there were no row backgrounds to conflict with.

You said: &quot;In describing the effects of the background properties, however, the
spec is very ambiguous, making it impossible to write a defensibly correct
implementation.&quot;

No wonder moz 1.0 has taken so long.  ;)  Just kidding.  I would say: &quot;In
describing the effects of the background properties, however, the spec is
somewhat ambiguous, making it possible to write multiple defensibly correct
implementations.&quot;

In short, something is better than nothing.

Again, Thank You!</pre></div><div class="change-set" id="c56"><div class="comment" data-id="1342274" data-no="56"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-56" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a91237955_9018"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-56"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-56" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c56">Comment 56</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-05-14 15:49 PDT" data-time="1021416579">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-56">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-56" data-comment-id="1342274">The separated borders model is the default in all browsers I know of, and I
don't know of any &quot;real&quot; pages that use the collapsed borders model.

There is still a major ambiguity with 'background-color' -- whether or not to
break at the cell spacing.</pre></div><div class="change-set" id="c57"><div class="comment" data-id="1344470" data-no="57"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-57" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a91237955_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-57"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-57" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c57">Comment 57</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-05-15 14:20 PDT" data-time="1021497610">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-57">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-57" data-comment-id="1344470">charles allen wrote:
<span class="quote">&gt; In short, something is better than nothing.</span >

from a conversation I had with Chris Karnaze - 
   : we're more likely to have pages break if we enable those backgrounds than
     if we disable them (since IE also applies color and we don't)
   : Imagine a table with a colored column background. In IE, the background and
     the color that goes with it both get applied. 
   : In Mozilla, currently, neither get applied.
   : So there's no contrast problems.
   : If, however, we apply the background and not the color, we might wind up
     with navy text on a forest green background or something like that.

In my mind, we should either be compatible with other browsers or undisputably 
correct in our deviations. Anything we change now would be neither.

<span class="quote">&gt; I would say: &quot;In describing the effects </span >

Yes, I probably should have written it that way.

dbaron wrote:
<span class="quote">&gt; There is still a major ambiguity with 'background-color' -- whether or not to
&gt; break at the cell spacing.</span >

I thought the Errata cleared that up?
</pre></div><div class="change-set" id="c58"><div class="comment" data-id="1367092" data-no="58"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-58" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_50070" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/90547e44fc91b3fcf7d8874c5c5b9886?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_50070" id="a91237955_9018"><a class="email disabled" href="/user_profile?user_id=50070" > <span class="fna">charles allen</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-58"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-58" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c58">Comment 58</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-05-28 20:41 PDT" data-time="1022643698">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-58">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-58" data-comment-id="1367092">quote:
   : we're more likely to have pages break if we enable those backgrounds than
     if we disable them (since IE also applies color and we don't)
   : Imagine a table with a colored column background. In IE, the background and
     the color that goes with it both get applied. 
   : In Mozilla, currently, neither get applied.
   : So there's no contrast problems.

Not always true.  I have a table where I'm assigning background colors to
columns, and foreground colors to rows.  This is clearly legal in CSS2.  In IE,
both get assigned and I have no problem.  In Mozilla, only the foreground colors
are assigned.  If I did not carefully choose my table background color, I would
have contrast problems in Mozilla, but not IE.

Why not draw background colors for columns the same way quirks mode draws them
for rows?  This would be extending quirks mode to columns rather than inventing
a new method.  AFIK this is also the same way IE draws column background colors
so you are still not inventing a new method.  This would make you more
compatible with other browsers, AND more compatible with CSS2 at the same time!
 A win/win if you ask me.

BTW, you are correct that most browsers use separate border model.  I didn't
believe you, so I proved it to myself.  :)  However CSS2 specifies the collapsed
borders model should be the default.  Therefore I would expect it to be default
in a CSS2 spec browser.  Again, the collapsed borders model is much simpler and
I think would be easier to fix.  You should fix it and maybe make it the
default.  Then I would care less about the broken separated borders model.</pre></div><div class="change-set" id="c59"><div class="comment" data-id="1367115" data-no="59"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-59" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a91237955_9018"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-59"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-59" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c59">Comment 59</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-05-28 20:53 PDT" data-time="1022644401">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-59">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-59" data-comment-id="1367115"><span class="quote">&gt; However CSS2 specifies the collapsed borders model should be the default.</span >

See <a rel="nofollow" href="http://www.w3.org/Style/css2-updates/REC-CSS2-19980512-errata.html#s-17-6">http://www.w3.org/Style/css2-updates/REC-CSS2-19980512-errata.html#s-17-6</a></pre></div><div class="change-set" id="c60"><div class="comment" data-id="1378872" data-no="60"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-60" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_14916" id="a91237955_9018"><img src="https://secure.gravatar.com/avatar/0cc577f1dcda041c03bd94c795f919b3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_14916" id="a91237955_9018"><a class="email disabled" href="/user_profile?user_id=14916" > <span class="fna">James Lariviere</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-60"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-60" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c60">Comment 60</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-06-04 11:30 PDT" data-time="1023215404">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-60">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-60" data-comment-id="1378872">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - background-color doesn't apply to col and in colgroup (table columns)"
   href="/show_bug.cgi?id=149008">Bug 149008</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="a103583371_3881"><div class="change" id="aa103583371_3881">
    <table class="layout-table change-head reporter" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a103583371_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a103583371_3881"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a103583371_3881">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a103583371_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-07-14 12:14 PDT" data-time="1026674082">18 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - :hover pseudo class does not affect table column elements"
   href="/show_bug.cgi?id=98694">98694</a></div></div></div><div class="change-set" id="c61"><div class="comment" data-id="1576744" data-no="61"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-61" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a103583371_3881"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-61"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-61" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c61">Comment 61</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-10-06 19:18 PDT" data-time="1033957087">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-61">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-61" data-comment-id="1576744">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - colgroup does not function"
   href="/show_bug.cgi?id=172824">Bug 172824</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c62"><div class="comment" data-id="1594010" data-no="62"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-62" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a103583371_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a103583371_3881"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-62"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-62" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c62">Comment 62</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-10-17 17:36 PDT" data-time="1034901369">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-62">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-62" data-comment-id="1594010">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Many table styles not functioning as expected"
   href="/show_bug.cgi?id=175075">Bug 175075</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c63"><div class="comment" data-id="1618702" data-no="63"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-63" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a103583371_3881"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-63"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-63" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c63">Comment 63</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-03 13:06 PST" data-time="1036357591">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-63">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-63" data-comment-id="1618702">Test suite: <a rel="nofollow" href="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/">http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/</a>
It's a work in progress; only part A has been written.</pre><div class="activity"><div class="change">URL: <a href="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/" target="_blank" rel="noreferrer"
           class="bug-url" data-safe="1"
        >http://fantasai.tripod.com/www-style/...</a></div></div></div><div class="change-set" id="c64"><div class="comment" data-id="1618720" data-no="64"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-64" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a103583371_3881"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-64"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-64" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c64">Comment 64</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-03 13:27 PST" data-time="1036358865">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-64">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-105030"
         class="attachment patch obsolete"
         data-id="105030" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="patch.out">
      <meta itemprop="contentSize" content="14797">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=105030">
          <a class="link" href="attachment.cgi?id=105030&amp;action=diff">
        <span id="att-105030-description" itemprop="description">preliminary work</span></a> (obsolete)
        — <a href="attachment.cgi?id=105030&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=105030">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-64" data-comment-id="1618720">So you can see where I'm going with this. Mozilla with the patch passes Part A
of the test suite. I still have to run it through as yet unwritten tests for
exact image position wrt borders, empty cells, etc. Also, the code needs
polish. Of course, I'm not submitting for review yet, but if anyone notices
problems with the overall algorithm, it would help to know sooner rather than
later.

Many thanks to bz for answering silly questions to which any amateur programmer
would know the answers. He's saved me hours of frustration.</pre></div><div class="change-set" id="c65"><div class="comment" data-id="1626572" data-no="65"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-65" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a103583371_3881"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-65"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-65" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c65">Comment 65</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-08 08:24 PST" data-time="1036772691">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-65">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-65" data-comment-id="1626572">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - background-color is ignored for COL elements"
   href="/show_bug.cgi?id=179086">Bug 179086</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c66"><div class="comment" data-id="1637763" data-no="66"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-66" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a103583371_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-66"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-66" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c66">Comment 66</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-15 18:18 PST" data-time="1037413086">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-66">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-66" data-comment-id="1637763">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - mozilla does not seem to correctly style &lt;col&gt; tags in a table"
   href="/show_bug.cgi?id=180404">Bug 180404</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c67"><div class="comment" data-id="1638806" data-no="67"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-67" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a103583371_3881"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-67"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-67" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c67">Comment 67</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-16 23:33 PST" data-time="1037518433">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-67">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-106551"
         class="attachment patch obsolete"
         data-id="106551" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="4510.patch">
      <meta itemprop="contentSize" content="26641">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=106551">
          <a class="link" href="attachment.cgi?id=106551&amp;action=diff">
        <span id="att-106551-description" itemprop="description">patch</span></a> (obsolete)
        — <a href="attachment.cgi?id=106551&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=106551">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-67" data-comment-id="1638806">Not up for checkin just yet. Got some conceptual issues with borders. But the
code is more-or-less in its final form.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=105030&amp;action=edit"
           title="preliminary work"
           class=""
        >Attachment #105030</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c68"><div class="comment" data-id="1648433" data-no="68"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-68" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a103583371_3881"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-68"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-68" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c68">Comment 68</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-23 08:42 PST" data-time="1038069740">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-68">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-68" data-comment-id="1648433">My first impression of the patch is somehow ambivalent. Probably I am only dumb.

&#64;&#64; -140,8 +140,9 &#64;&#64;
                               const nsRect&amp; aBorderArea,
                               const nsStyleBorder&amp; aBorder,
                               const nsStylePadding&amp; aPadding,
-                              nscoord aDX,
-                              nscoord aDY,
+                              nscoord aDX = 0,
+                              nscoord aDY = 0,
+                              const nsRect* aClipRect = nsnull,
                               PRBool aUsePrintSettings=PR_FALSE);
 
why we need this aDX = 0 , aDY = 0 ?

+class ColumnBGData;
+
+struct ColGroupBGData { ....

do we really need these classes, I would love to see them going away. A malloc
inside a paint routine seems to me like a potential performance hit. If we
really need those can't we compute them during the reflow? If we can compute
them during reflow, why dont we change the existing frame structures.

ColumnBGData::~ColumnBGData()
+{
+  ColGroupBGData* lastColGroup = nsnull;
+  for (PRInt32 i = 0; i &lt; mNumCols; i++) {
+    if (mCols[i].mColGroup != lastColGroup) {
+      lastColGroup = mCols[i].mColGroup;
+      delete mCols[i].mColGroup;
+    }
+    mCols[i].mColGroup = nsnull;
+  }
+  delete [] mCols;
+}

isnt +  delete [] mCols; enough?

 if (bgData.Ok() &amp;&amp; bgData.ColGroup(colIndex)-&gt;Ok()) {
+              nsCSSRendering::PaintBackgroundWithSC(aPresContext,
aRenderingContext,
+                bgData.ColGroup(colIndex)-&gt;mFrame, aDirtyRect,
+                bgData.ColGroup(colIndex)-&gt;mRect,
*bgData.ColGroup(colIndex)-&gt;mBackground,
+                zeroBorder, zeroPadding, 0, 0, &amp;cellRect, PR_FALSE);
+            }
+            //Paint row group background
+            if (rgBG) {
+              nsCSSRendering::PaintBackgroundWithSC(aPresContext,
aRenderingContext,
+                this, aDirtyRect, rgRect, *rgBG, zeroBorder, zeroPadding, 0, 0,
+                &amp;cellRect, PR_FALSE);
+            }
+            //Paint column background
+            if (bgData.Ok() &amp;&amp; bgData.Col(colIndex)-&gt;Ok()) {
+              nsCSSRendering::PaintBackgroundWithSC(aPresContext,
aRenderingContext,
+                bgData.Col(colIndex)-&gt;mFrame, aDirtyRect,
bgData.Col(colIndex)-&gt;mRect,
+                *bgData.Col(colIndex)-&gt;mBackground, zeroBorder, zeroPadding, 0, 0,
+                &amp;cellRect, PR_FALSE);
+            }

why do we paint first the colgroup then the row group then the col, I thought
the spec requires  colgroup col rowgroup

+    nscoord cellSpacingX = table-&gt;GetCellSpacingX();
 
-    x = borderPadding.left;
+    x = borderPadding.left + cellSpacingX;
     y = borderPadding.top;
 
     availSize.width  = aAvailWidth;
     if (NS_UNCONSTRAINEDSIZE != availSize.width) {
-      availSize.width -= borderPadding.left + borderPadding.right;
+      availSize.width -= borderPadding.left + borderPadding.right + (2 *
cellSpacingX);
     
This is pure horror for me, this must be wrong. The patch alters the
nsTableReflowState. Before we reflow all the children.

Probably there should be some comments on those critical places why it does not
affect reflow.

</pre></div><div class="change-set" id="c69"><div class="comment" data-id="1655616" data-no="69"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-69" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a103583371_3881"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-69"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-69" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c69">Comment 69</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-28 23:25 PST" data-time="1038554734">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-69">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-69" data-comment-id="1655616"><span class="quote">&gt; My first impression of the patch is somehow ambivalent. Probably I am only
&gt; dumb.</span >

Probably you're not asking the right questions. What are you ambivalent toward?
What bothers you about it? What would you have prefered?

<span class="quote">&gt; why we need this aDX = 0 , aDY = 0 ?</span >

The arguments don't seem to be used anywhere in the function, and IIRC every
function call I've run across (I had to run a search modify all calls passing in
the aUsePrintSettings arg) passes in zero. So, I think we should eliminate the
arguments. I'm defaulting them to zero for now so most calls won't have to pass
those zeros in, and I'll file a bug on taking them out later.

<span class="quote">&gt; do we really need these classes, I would love to see them going away. A malloc
&gt; inside a paint routine seems to me like a potential performance hit.</span >

I originally put them in to avoid a performance hit. This is also why all the
painting is done in nsTableRowGroupFrame::Paint rather than in the frames'
respective classes; there is no need to iterate over all the cells in the table
once for the column groups, once more for the columns, another time for the row
groups, yet another time for the rows, and once again for the cells themselves.
Alternatively the cells could paint everything by calling into parents, but I
don't think this is any better than what I'm doing right now. (That method would
involve more complicated mRect adjustments.)

The paint function is iterating over all the cells in the row group, which in
most cases means all of the cells in the table. Instead of recalculating all the
column style and frame info for every cell, I'm calculating everything once and
storing the info in an array. The storage doesn't cost very much in terms of
memory because its created and destroyed in one function call, existing for a
very short amount of time. However, it's possible that the time cost in
allocating and deallocating the memory might outweigh the savings from storing
the calculated values. I don't know what the performance cost is for that. If
you think that it's better to call the table frame's GetColFrame and get the
background, mRect, and the colgroup frame (and it's background and mRect) for
each cell, I can change it.

<span class="quote">&gt; If we really need those can't we compute them during the reflow?</span >

We could, but they don't seem important enough to take up space when we're not
painting.

<span class="quote">&gt; isnt +  delete [] mCols; enough?</span >

No, because each ColBGData holds a pointer to its parent ColGroupBGData. Suppose
I have a colgroup with two columns. If I delete the first ColBGData, it will
delete its ColGroupBGData. When I delete the second ColBGData, it will call
delete on its pointer to that same ColGroupBGData. Except it's already been
deleted, and the space might have been allocated to something else.

<span class="quote">&gt; why do we paint first the colgroup then the row group then the col, I thought
&gt; the spec requires  colgroup col rowgroup</span >

Yes, you're right. I'll fix that, along with the MOZ_COUNT_CTOR and GetStyleData
stuff you mentioned on IRC.

<span class="quote">&gt; This is pure horror for me, this must be wrong. The patch alters the
&gt; nsTableReflowState. Before we reflow all the children.</span >

nsTableReflowState is already altered before the children are reflowed by
subtracting the border...

<span class="quote">&gt; Probably there should be some comments on those critical places why it does not
&gt; affect reflow.</span >

Actually, it does affect reflow. But the end result should be the same as
before. CellspacingX is subtracted out of the width, but it's also no longer
added to x before reflowing the first cell.

I will run the layout regression tests, and that should point out any major
miscalculation errors.

btw, if you could answer the few questions I've commented in, that would be helpful.</pre></div><div class="change-set" id="c70"><div class="comment" data-id="1721310" data-no="70"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-70" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a103583371_3881"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-70"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-70" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c70">Comment 70</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-01-24 04:55 PST" data-time="1043412958">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-70">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-70" data-comment-id="1721310">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - no &quot;col&quot; and &quot;colgroup&quot; tag support"
   href="/show_bug.cgi?id=190455">Bug 190455</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c71"><div class="comment" data-id="1725599" data-no="71"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-71" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_15223" id="a103583371_3881"><img src="https://secure.gravatar.com/avatar/e4a0566b254d665aa267b7874726fbbf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_15223" id="a103583371_3881"><a class="email " href="/user_profile?user_id=15223" > <span class="fna">timeless</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-71"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-71" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c71">Comment 71</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-01-28 09:24 PST" data-time="1043774669">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-71">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-71" data-comment-id="1725599">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - style atributes (colors and alignment) are ignored when added in a col tag."
   href="/show_bug.cgi?id=190942">Bug 190942</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="a123288654_9018"><div class="change" id="aa123288654_9018">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a123288654_9018"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a123288654_9018">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a123288654_9018">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-02-27 12:56 PST" data-time="1046379365">18 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - opacity, fixed backgrounds on tables paint wrong"
   href="/show_bug.cgi?id=195291">195291</a></div></div></div><div class="change-set" id="c72"><div class="comment" data-id="1775166" data-no="72"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-72" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a123288654_9018"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a123288654_9018"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-72"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-72" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c72">Comment 72</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-03-11 09:53 PST" data-time="1047405209">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-72">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-72" data-comment-id="1775166">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - regress: colgroup / col has no support at all"
   href="/show_bug.cgi?id=196889">Bug 196889</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c73"><div class="comment" data-id="1821513" data-no="73"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-73" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4885" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/33dbb8763576bf798858eff6abb36d2c?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4885" id="a123288654_9018"><a class="email " href="/user_profile?user_id=4885" > <span class="fna">Jerry Baker</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-73"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-73" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c73">Comment 73</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-04-18 14:01 PDT" data-time="1050699718">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-73">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-73" data-comment-id="1821513">Removing mozilla0.9.9+, mozilla1.0, and nsbeta+ keywords as they are all
obsolete by many moons.</pre><div class="activity"><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=mozilla0.9.9%2B&amp;resolution=---">mozilla0.9.9+</a>, 
          
            <a href="/buglist.cgi?keywords=mozilla1.0&amp;resolution=---">mozilla1.0</a>, 
          
            <a href="/buglist.cgi?keywords=nsbeta1%2B&amp;resolution=---">nsbeta1+</a></span></div></div></div><div class="change-set" id="c74"><div class="comment" data-id="1821989" data-no="74"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-74" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_23253" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/c81297e291717c15fe2070eff74f2aa9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_23253" id="a123288654_9018"><a class="email disabled" href="/user_profile?user_id=23253" > <span class="fna">Markus Hübner</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-74"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-74" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c74">Comment 74</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-04-19 06:02 PDT" data-time="1050757347">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-74">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-74" data-comment-id="1821989">Please never again remove keywords you don't know about!
</pre><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=mozilla0.9.9%2B&amp;resolution=---">mozilla0.9.9+</a>, 
          
            <a href="/buglist.cgi?keywords=nsbeta1%2B&amp;resolution=---">nsbeta1+</a></div></div></div><div class="change-set" id="c75"><div class="comment" data-id="1822044" data-no="75"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-75" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4885" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/33dbb8763576bf798858eff6abb36d2c?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4885" id="a123288654_9018"><a class="email " href="/user_profile?user_id=4885" > <span class="fna">Jerry Baker</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-75"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-75" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c75">Comment 75</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-04-19 08:30 PDT" data-time="1050766229">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-75">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-75" data-comment-id="1822044">If the keywords do not have the meaning that the &quot;Keywords&quot; page has, then
perhaps someone needs to update that page eh???</pre></div><div class="change-set" id="c76"><div class="comment" data-id="1822050" data-no="76"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-76" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4885" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/33dbb8763576bf798858eff6abb36d2c?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4885" id="a123288654_9018"><a class="email " href="/user_profile?user_id=4885" > <span class="fna">Jerry Baker</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-76"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-76" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c76">Comment 76</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-04-19 08:39 PDT" data-time="1050766787">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-76">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-76" data-comment-id="1822050">Could you possibly explain for the other 30-some people who are watching this
bug, what does mozilla0.9.9+ mean if it does not mean, &quot;<a href="mailto:drivers&#64;mozilla.org">drivers&#64;mozilla.org</a>
would like to see these bugs checked in during the [0.9.9] milestone freeze or
branch period&quot;? And, what is the meaning of an nsbeta1+ keyword placed there
many versions ago?

Thank you.</pre></div><div class="change-set" id="c77"><div class="comment" data-id="1822133" data-no="77"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-77" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-77"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-77" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c77">Comment 77</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-04-19 11:16 PDT" data-time="1050776192">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-77">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-77" data-comment-id="1822133">There was a &quot;temporary fix&quot; for this bug that was checked in a while ago to make
us, if not correct, at least compatible with the other incorrect rendering engines
out there. I believe the keywords apply to that. This bug was then marked FIXED,
but I reopened it because it isn't really fixed.</pre></div><div class="change-set" id="c78"><div class="comment" data-id="1885284" data-no="78"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-78" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-78"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-78" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c78">Comment 78</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-16 20:28 PDT" data-time="1055820520">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-78">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-78" data-comment-id="1885284">roc, views are seriously broken on tables. I did the best I could, given that
they don't paint properly. Relevant testcases are:
<a rel="nofollow" href="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/layers-opacity.html">http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/layers-opacity.html</a>
<a rel="nofollow" href="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/fixed-bg.html">http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/fixed-bg.html</a>
That's not a background issue, though; content is also missing.</pre><div class="activity"><div class="change">Target Milestone: Future &rarr; mozilla1.5alpha</div></div></div><div class="change-set" id="c79"><div class="comment" data-id="1885286" data-no="79"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-79" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-79"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-79" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c79">Comment 79</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-16 20:31 PDT" data-time="1055820678">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-79">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-125788"
         class="attachment patch obsolete"
         data-id="125788" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="4510.patch">
      <meta itemprop="contentSize" content="59153">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=125788">
          <a class="link" href="attachment.cgi?id=125788&amp;action=diff">
        <span id="att-125788-description" itemprop="description">patch</span></a> (obsolete)
        — <a href="attachment.cgi?id=125788&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=125788">Splinter Review</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=106551&amp;action=edit"
           title="patch"
           class=""
        >Attachment #106551</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c80"><div class="comment" data-id="1885288" data-no="80"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-80" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-80"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-80" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c80">Comment 80</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-16 20:33 PDT" data-time="1055820797">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-80">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-125789"
         class="attachment obsolete"
         data-id="125789" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="nsTableUnderlay.h">
      <meta itemprop="contentSize" content="4363">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=125789" itemprop="contentUrl">
        <span id="att-125789-description" itemprop="description">nsTableUnderlay.h</span></a> (obsolete)
        — <a href="attachment.cgi?id=125789&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="c81"><div class="comment" data-id="1885289" data-no="81"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-81" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-81"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-81" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c81">Comment 81</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-16 20:35 PDT" data-time="1055820956">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-81">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-125790"
         class="attachment obsolete"
         data-id="125790" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="nsTableUnderlay.cpp">
      <meta itemprop="contentSize" content="15770">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=125790" itemprop="contentUrl">
        <span id="att-125790-description" itemprop="description">nsTableUnderlay.cpp</span></a> (obsolete)
        — <a href="attachment.cgi?id=125790&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-81" data-comment-id="1885289">ok, Bernd. Fire away!

(There are a few things I wasn't sure of; these are marked with XXX.)</pre></div><div class="change-set" id="c82"><div class="comment" data-id="1886789" data-no="82"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-82" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-82"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-82" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c82">Comment 82</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-18 11:12 PDT" data-time="1055959944">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-82">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-125925"
         class="attachment obsolete"
         data-id="125925" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="nsTableUnderlay.h">
      <meta itemprop="contentSize" content="6348">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=125925" itemprop="contentUrl">
        <span id="att-125925-description" itemprop="description">nsTableUnderlay.h (Now with More Comments)</span></a> (obsolete)
        — <a href="attachment.cgi?id=125925&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=125789&amp;action=edit"
           title="nsTableUnderlay.h"
           class=""
        >Attachment #125789</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c83"><div class="comment" data-id="1886800" data-no="83"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-83" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-83"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-83" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c83">Comment 83</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-18 11:16 PDT" data-time="1055960173">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-83">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-125928"
         class="attachment obsolete"
         data-id="125928" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="nsTableUnderlay.cpp">
      <meta itemprop="contentSize" content="15392">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=125928" itemprop="contentUrl">
        <span id="att-125928-description" itemprop="description">nsTableUnderlay.cpp (tweaked)</span></a> (obsolete)
        — <a href="attachment.cgi?id=125928&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=125790&amp;action=edit"
           title="nsTableUnderlay.cpp"
           class=""
        >Attachment #125790</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c84"><div class="comment" data-id="1887442" data-no="84"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-84" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-84"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-84" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c84">Comment 84</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-18 23:06 PDT" data-time="1056002762">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-84">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-84" data-comment-id="1887442">Ok, so. Explanations:

<span class="quote">&gt; what will the patch do and what not</span >

The patch will fix every standards-mode table background issue I
know about except fixed backgrounds on columns/colgroups. Those
are broken...

Actually, now that I think about it, I might be able to make that
work, too. I'll give it a try. The backgrounds are painting--just
not properly.

So, fixed issues include:
 - positioning and tiling of background images
 - painting area (no cellspacing)
 - layering
 - views unwittingly giving cells wrong paint flags (<a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - CSS ignored after non-supported style element used. Note: new since 1.1 release."
   href="/show_bug.cgi?id=191567">bug 191567</a>)

<span class="quote">&gt; which frames will change their size,</span >

Rows, row groups, columns, and colgroups will no longer include
outer cellspacing in their dimensions.

<span class="quote">&gt; why did you implemented it the way you have choosen.</span >

I implemented it this way because it seemed more efficient to
cache calculated data and make one pass through the table than
to have each cell calculate its own set of background data for
its row/rowgroup/column/colgroup. Implementing it as a separate
class makes it
  a) easier to understand
  b) easy to deal with views
  c) easy to reduce background painting to a single pass once
     the responsibility for painting borders is moved to the
     cells

<span class="quote">&gt; what tests has the already patch seen </span >

The patch passes all the tests at
  <a rel="nofollow" href="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests">http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests</a>
with one problem: As aforementioned, views don't paint tables
properly so some cells are incompletely painted in the fixed
background and opacity tests. I also ran them in quirks mode;
I haven't broken anything. Although, I could also fix the way
&lt;table&gt; backgrounds leak in quirks border-collapse...

<span class="quote">&gt; risks </span >

Risk of pages breaking is pretty low; the tests I ran are quite
comprehensive.
Risk of crashes/leaks/other-stupid-mistakes is.. pretty high.
I'm a very inexperienced programmer; I wouldn't even rank myself
as high as amateur. In addition, I build on Linux, but that's all
I use it for, so the patched build hasn't seen extensive use.


I'm going to give Bugzilla a break and put up the code at
<a rel="nofollow" href="http://fantasai.tripod.com/Mozilla/bugs/4510">http://fantasai.tripod.com/Mozilla/bugs/4510</a>
I'll attach the final versions for archiving when we're done.

dbaron -- you might want to check, at some point, to make sure
my interpretation is ok. After this goes in would probably be
easiest, since then you can grab a build and look at the test
cases.
</pre></div><div class="change-set" id="c85"><div class="comment" data-id="1887453" data-no="85"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-85" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-85"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-85" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c85">Comment 85</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-18 23:45 PDT" data-time="1056005110">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-85">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-85" data-comment-id="1887453"><span class="quote">&gt; Actually, now that I think about it, I might be able to make [fixed bg on cols]
&gt; work, too.</span >

Looks like I can do that without much trouble. However, it means I have to cheat
a little; I'd have to ignore the bounds of the dirtyRect and paint the whole
column/columngroup. Do you want me to do this or should I add
col, colgroup {
  background-attachment: scroll !important;
}
to html.css instead?</pre></div><div class="change-set" id="c86"><div class="comment" data-id="1891704" data-no="86"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-86" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a123288654_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a123288654_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-86"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-86" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c86">Comment 86</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-23 21:17 PDT" data-time="1056428236">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-86">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-86" data-comment-id="1891704">fixed background leak in quirks
testcase:
<a rel="nofollow" href="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/border-table-quirks.html">http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/border-table-quirks.html</a></pre></div><div class="change-set" id="a133342677_9018"><div class="change" id="aa133342677_9018">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133342677_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_9018" id="a133342677_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a133342677_9018"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a133342677_9018">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a133342677_9018">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-23 22:43 PDT" data-time="1056433388">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Target Milestone: mozilla1.5alpha &rarr; mozilla1.5beta</div></div></div><div class="change-set" id="a133855087_20209"><div class="change" id="aa133855087_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a133855087_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a133855087_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a133855087_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a133855087_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a133855087_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-29 21:03 PDT" data-time="1056945798">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - td are not transparent when the table has a background attribute (no tbody in XHTML)"
   href="/show_bug.cgi?id=203166">203166</a></div></div></div><div class="change-set" id="c87"><div class="comment" data-id="1898486" data-no="87"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-87" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a133855087_20209"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-87"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-87" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c87">Comment 87</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-07-01 23:30 PDT" data-time="1057127444">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-87">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-87" data-comment-id="1898486">After reading the patch a first time ( 3hours) I believe the code will do the
job, however I am still concerned about the performance hit, why do we compute
for the whole table and not for the damage area, couldnt we do something similar
(call) as below
<a rel="nofollow" href="http://lxr.mozilla.org/seamonkey/source/layout/html/table/src/nsTableFrame.cpp#6632">http://lxr.mozilla.org/seamonkey/source/layout/html/table/src/nsTableFrame.cpp#6632</a>
(oh, I thought I converted that into a function a long time ago). and even reuse
the damageArea afterwards for BC painting.

I will run the paint code after my vacation...
</pre></div><div class="change-set" id="c88"><div class="comment" data-id="1901517" data-no="88"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-88" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a133855087_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-88"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-88" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c88">Comment 88</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-07-06 01:09 PDT" data-time="1057478982">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-88">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-88" data-comment-id="1901517"><span class="quote">&gt; why do we compute for the whole table and not for the damage area, couldnt we... </span >

Added coordinate checks to the loop.
If you want, I can make the intersect check in PaintCell into a separate inline
function and call the rest of the paint code conditionally based on its return
value.
</pre></div><div class="change-set" id="c89"><div class="comment" data-id="1923584" data-no="89"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-89" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a133855087_20209"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-89"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-89" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c89">Comment 89</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-07-31 13:33 PDT" data-time="1059683585">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-89">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-89" data-comment-id="1923584">The patch doesnt compile. 

While the GetView deCOM is easy, GetContinuousLeftBCBorderWidth is used in
nsTableUnderlay.cpp but not defined in nsTableFrame.h 
I think the patch needs to be updated to the tip, sorry for beeing so lame that
the patch started to bitrot.</pre></div><div class="change-set" id="c90"><div class="comment" data-id="1923610" data-no="90"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-90" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a133855087_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-90"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-90" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c90">Comment 90</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-07-31 14:02 PDT" data-time="1059685378">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-90">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-90" data-comment-id="1923610"><span class="quote">&gt; The patch doesnt compile.</span >

Not surprising. It's based on the May 28th source.

<span class="quote">&gt; I think the patch needs to be updated to the tip</span >

I'm trying. :) Mozilla's compiling right now. If I'm lucky, I'll get a working
Windows binary and I can start applying the patch. If not.. I guess I'll try to
imitate the Windows-Linux build environment I had on my old computer. Pulling
the source is working now that I've reinstalled cygwin, and given that, I should
be able to get it to work.

<span class="quote">&gt; sorry for being so lame that the patch started to bitrot.</span >

It's ok. I just hope I'll be able to finish this before I leave this weekend...</pre></div><div class="change-set" id="c91"><div class="comment" data-id="1925018" data-no="91"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-91" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a133855087_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-91"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-91" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c91">Comment 91</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-02 04:20 PDT" data-time="1059823254">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-91">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-129063"
         class="attachment patch obsolete"
         data-id="129063" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="4510.patch">
      <meta itemprop="contentSize" content="60206">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=129063">
          <a class="link" href="attachment.cgi?id=129063&amp;action=diff">
        <span id="att-129063-description" itemprop="description">Patch (untested)</span></a> (obsolete)
        — <a href="attachment.cgi?id=129063&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=129063">Splinter Review</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=125788&amp;action=edit"
           title="patch"
           class=""
        >Attachment #125788</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c92"><div class="comment" data-id="1925019" data-no="92"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-92" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a133855087_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-92"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-92" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c92">Comment 92</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-02 04:23 PDT" data-time="1059823395">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-92">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-129064"
         class="attachment obsolete"
         data-id="129064" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="nsTableUnderlay.h">
      <meta itemprop="contentSize" content="6474">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=129064" itemprop="contentUrl">
        <span id="att-129064-description" itemprop="description">nsTableUnderlay.h (untested)</span></a> (obsolete)
        — <a href="attachment.cgi?id=129064&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=125925&amp;action=edit"
           title="nsTableUnderlay.h (Now with More Comments)"
           class=""
        >Attachment #125925</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c93"><div class="comment" data-id="1925022" data-no="93"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-93" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a133855087_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-93"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-93" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c93">Comment 93</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-02 04:25 PDT" data-time="1059823528">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-93">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-129065"
         class="attachment obsolete"
         data-id="129065" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="nsTableUnderlay.cpp">
      <meta itemprop="contentSize" content="15500">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=129065" itemprop="contentUrl">
        <span id="att-129065-description" itemprop="description">nsTableUnderlay.cpp (untested)</span></a> (obsolete)
        — <a href="attachment.cgi?id=129065&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=125928&amp;action=edit"
           title="nsTableUnderlay.cpp (tweaked)"
           class=""
        >Attachment #125928</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c94"><div class="comment" data-id="1925026" data-no="94"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-94" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a133855087_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-94"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-94" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c94">Comment 94</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-02 04:29 PDT" data-time="1059823799">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-94">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-94" data-comment-id="1925026">It compiles under mingw. More than that, I cannot say; I wasn't able to get a
working binary to test with under either Windows or Linux. If you can send me a
drop-in replacement of Gecko that I can use with a nightly, I'll test it...</pre></div><div class="change-set" id="c95"><div class="comment" data-id="1925167" data-no="95"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-95" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a133855087_20209"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-95"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-95" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c95">Comment 95</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-02 11:25 PDT" data-time="1059848721">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-95">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-95" data-comment-id="1925167">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - styles applied to col or colspan ignored"
   href="/show_bug.cgi?id=214877">Bug 214877</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c96"><div class="comment" data-id="1925290" data-no="96"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-96" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_106967" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/12625d789e470c5b65bc8df4004100c3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_106967" id="a133855087_20209"><a class="email " href="/user_profile?user_id=106967" > <span class="fna">Alastair Campbell</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-96"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-96" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c96">Comment 96</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-02 17:22 PDT" data-time="1059870120">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-96">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-96" data-comment-id="1925290">Apologies for duplicating this bug, I hadn't found it from a few searches.

However, could someone say what is happening or going to happen?  I got a bit
lost when people started using the code ;)

My basic question is: Will front end web developers be able to style with col?

Thanks :)  
I do try and persuade everyone to use Moz, which is becoming easier when they
realise they don't have to get all those ad-programs installed whilst browsing.</pre></div><div class="change-set" id="c97"><div class="comment" data-id="1925298" data-no="97"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-97" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a133855087_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-97"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-97" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c97">Comment 97</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-02 18:30 PDT" data-time="1059874225">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-97">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-97" data-comment-id="1925298"><span class="quote">&gt; Will front end web developers be able to style with col?</span >

Yes, but see <a rel="nofollow" href="http://www.w3.org/TR/REC-CSS2/tables.html#q4">http://www.w3.org/TR/REC-CSS2/tables.html#q4</a>

This bug will fix background rendering on columns in Standards layout mode.
</pre></div><div class="change-set" id="c98"><div class="comment" data-id="1925697" data-no="98"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-98" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_106967" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/12625d789e470c5b65bc8df4004100c3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_106967" id="a133855087_20209"><a class="email " href="/user_profile?user_id=106967" > <span class="fna">Alastair Campbell</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-98"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-98" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c98">Comment 98</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-03 09:30 PDT" data-time="1059928257">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-98">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-98" data-comment-id="1925697"><span class="quote">&gt; This bug will fix background rendering on columns in Standards layout mode.</span >

That's great, I now have a related question about horizontal alignment, that you
might refer me to another bug for..

Moz seems to ignore horizontal alignment set by the width attribute of col, and
any CSS alignment class set on the col. E.g:
<a rel="nofollow" href="http://www.ukwindsurfing.com/results/2003/rankings_rb.asp">http://www.ukwindsurfing.com/results/2003/rankings_rb.asp</a>

The CSS section refered to (<a rel="nofollow" href="http://www.w3.org/TR/REC-CSS2/tables.html#q4">http://www.w3.org/TR/REC-CSS2/tables.html#q4</a>)
doesn't cover aligment - fair enough. But it doesn't give any control available
for controling columns without using classes set on each cell. In the example
above, the names are left aligned, and points are supposed to be right aligned.

The alignment attribute of col is in the XHTML DTD
(<a rel="nofollow" href="http://www.w3.org/TR/xhtml1/dtds.html#dtdentry_xhtml1-strict.dtd_col">http://www.w3.org/TR/xhtml1/dtds.html#dtdentry_xhtml1-strict.dtd_col</a>), has this
been intentionally left out, or would this be a separate bug?

Cheers, I hope I'm being useful, I've been using (&amp; relying on) Moz since
version 1, but I'm new to the world of bugzilla. :)

-Alastair</pre></div><div class="change-set" id="c99"><div class="comment" data-id="1925722" data-no="99"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-99" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a133855087_20209"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-99"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-99" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c99">Comment 99</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-03 10:28 PDT" data-time="1059931687">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-99">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-99" data-comment-id="1925722"><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c98">Comment 98</a> is about <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WONTFIX - implement inheritance of alignment attributes from columns (align, valign, char, charoff, (lang, dir)?)"
   href="/show_bug.cgi?id=915">bug 915</a>, not this bug.  It's generally harmful to add
unrelated comments to bugs, especially long comments, since they make the real
issues in the bug harder to find.</pre></div><div class="change-set" id="c100"><div class="comment" data-id="1925724" data-no="100"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-100" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a133855087_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-100"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-100" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c100">Comment 100</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-03 10:30 PDT" data-time="1059931808">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-100">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-100" data-comment-id="1925724">Turning this over to Bernd for review/checkin/etc.
The two new files should be MPLed, of course.
And please look over <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c85">comment 85</a>.</pre></div><div class="change-set" id="c101"><div class="comment" data-id="1931006" data-no="101"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-101" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a133855087_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-101"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-101" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c101">Comment 101</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-08 13:10 PDT" data-time="1060373414">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-101">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-101" data-comment-id="1931006">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=129063" name="attach_129063" title="Patch (untested)">attachment 129063</a> <a href="/attachment.cgi?id=129063&amp;action=edit" title="Patch (untested)">[details]</a> <a href="/attachment.cgi?id=129063&amp;action=diff" title="Patch (untested)">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=129063'>[review]</a>
Patch (untested)

*pokes Bernd* Bernd, will _you_ set the new target milestone? Obviously my
guesses are way off.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=129063&amp;action=edit"
           title="Patch (untested)"
           class=""
        >Attachment #129063</a> -
        Flags: superreview?(bz-vacation)</div><div class="change">
        <a href="/attachment.cgi?id=129063&amp;action=edit"
           title="Patch (untested)"
           class=""
        >Attachment #129063</a> -
        Flags: review?(bernd_mozilla)</div></div></div><div class="change-set" id="c102"><div class="comment" data-id="1931774" data-no="102"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-102" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a133855087_20209"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-102"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-102" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c102">Comment 102</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-09 13:33 PDT" data-time="1060461201">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-102">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-129509"
         class="attachment"
         data-id="129509" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="border_table_cell.png">
      <meta itemprop="contentSize" content="21184">
      <meta itemprop="encodingFormat" content="image/png">
      <div class="label">
        Attached image
          <a class="link lightbox" href="attachment.cgi?id=129509" itemprop="contentUrl">
        <span id="att-129509-description" itemprop="description">screenshot </span></a>
        — <a href="attachment.cgi?id=129509&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-102" data-comment-id="1931774">the patch fails when a rowspan in the border collapsed table is scrolled into
the visible area.
furthermore the patch does not compile as 
-  PRInt32 numCols = GetColCount();
the numCols are used later in an assertion and the Makefile.in part of the
patch  is missing. There are some whitespace errors in the patch
<a rel="nofollow" href="http://www.johnkeiser.com/cgi-bin/jst-review-cgi.pl?patch_file=&amp;patch_url=http%3A%2F%2Fbugzilla.mozilla.org%2Fattachment.cgi%3Fid%3D129063%26action%3Dview&amp;patch_text=&amp;reason_type=%21&amp;reason_type=A&amp;reason_type=B&amp;reason_type=E&amp;reason_type=F&amp;reason_type=L&amp;reason_type=N&amp;reason_type=O&amp;reason_type=P&amp;reason_type=Q&amp;reason_type=R&amp;reason_type=S&amp;reason_type=W&amp;reason_type=X&amp;reason_type=%7B">http://www.johnkeiser.com/cgi-bin/jst-review-cgi.pl?patch_file=&amp;patch_url=http%3A%2F%2Fbugzilla.mozilla.org%2Fattachment.cgi%3Fid%3D129063%26action%3Dview&amp;patch_text=&amp;reason_type=%21&amp;reason_type=A&amp;reason_type=B&amp;reason_type=E&amp;reason_type=F&amp;reason_type=L&amp;reason_type=N&amp;reason_type=O&amp;reason_type=P&amp;reason_type=Q&amp;reason_type=R&amp;reason_type=S&amp;reason_type=W&amp;reason_type=X&amp;reason_type=%7B</a></pre></div><div class="change-set" id="c103"><div class="comment" data-id="1933537" data-no="103"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-103" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a133855087_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a133855087_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-103"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-103" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c103">Comment 103</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-11 20:54 PDT" data-time="1060660480">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-103">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-103" data-comment-id="1933537">I've not digested all the changes yet, so a lot of these comments are
non-substantive.  I've also read only part of the patch.  So take these comments
with a boulder of salt...

Please use more context and use the -p option to diff (-p -u8 is a
good way to diff....).  That makes patches a lot more readable.

<span class="quote">&gt;Index: mozilla/content/shared/src/nsStyleStruct.cpp
&gt;+#ifdef DEBUG
&gt;+    if (mBorderStyle[NS_SIDE_TOP] &amp; BORDER_COLOR_SPECIAL) {
&gt;+      NS_WARNING(&quot;Clearing special border because BORDER_COLOR_DEFINED is not</span >
set&quot;);
<span class="quote">&gt;+    }
&gt;+#endif</span >

Are there good reasons not to make that an assertion?  Are there ever cases
where it could happen that are technically correct?  Same for the other sides.

<span class="quote">&gt;Index: mozilla/layout/html/style/src/nsCSSRendering.h</span >

<span class="quote">&gt;-                                    PRBool aUsePrintSettings=PR_FALSE);
&gt;+                                    PRBool aUsePrintSettings=PR_FALSE,</span >

Toss in spaces around the '=' sign, please?

<span class="quote">&gt;Index: mozilla/layout/html/document/src/quirk.css</span >

<span class="quote">&gt;+/* make sure backgrounds are inherited in tables  -- see <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510">bug 4510</a>*/
&gt;+td, th, tr {
&gt;+  background: inherit;
&gt;+}</span >

Do we really want this quirk?  What purpose does it serve?  In particular, what
would &quot;tr&quot; inherit from (that only comes into play on quirks-mode pages that
are setting backgrounds on &lt;tbody&gt; elements; I suspect we want to follow IE
there, and I doubt that IE has that quirk, but I could be wrong (no way I can
test)).

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableFrame.h</span >

<span class="quote">&gt;+  /** Get left continuous border width
&gt;+   */
&gt;+  nscoord GetContinuousLeftBCBorderWidth(float  aPixelsToTwips,
&gt;+                                         PRBool aGetInner) const;
&gt;+</span >

What does that mean, exactly?  A clearer explanation is in order here.  That
is, what is a &quot;left continuous border&quot;?  What does aGetInner do?

<span class="quote">&gt;-    unsigned : 19;                     // unused
&gt;+    unsigned mLeftContBCBorder:8;
&gt;+    unsigned : 11;                     // unused</span >

I think I'd be happier if this struct were using PRUint32, so you knew you
actually _did_ have 32 bits to work with, but that can be a separate patch....

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableFrame.cpp</span >

<span class="quote">&gt;-    x = borderPadding.left;
&gt;+    x = borderPadding.left + cellSpacingX;
&gt;     y = borderPadding.top;</span >

Why the asymmetry here?  Comment it, if there is a good reason.

<span class="quote">&gt;-      availSize.width -= borderPadding.left + borderPadding.right;
&gt;+      availSize.width -= borderPadding.left + borderPadding.right
&gt;+                         + (2 * cellSpacingX);</span >

Comment why you have to subtract off the cellspacing?  Same for the Y
direction?  Or perhaps comment where availSize is declared and say what size it
actually reflects?
</pre></div><div class="change-set" id="c104"><div class="comment" data-id="1934162" data-no="104"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-104" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a133855087_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a133855087_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-104"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-104" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c104">Comment 104</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-12 15:11 PDT" data-time="1060726311">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-104">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-104" data-comment-id="1934162"><span class="quote">&gt; the patch fails when a rowspan in the border collapsed
&gt; table is scrolled into the visible area.</span >

Made some changes. See if that works.

<span class="quote">&gt; the numCols are used later in an assertion</span >

Removed change. I think the compiler was complaining that the
variable wasn't used -- the assertion doesn't appear in
optimized builds, I assume. So therefore, the variable and
function call aren't, either. Should I put an #ifdef DEBUG on
it?

<span class="quote">&gt; and the Makefile.in part of the patch is missing</span >

Ok, fixed.

<span class="quote">&gt; -p -u8 is a good way to diff</span >

It shall be done. *updates diff4510 script to do that*

<span class="quote">&gt; Are there good reasons not to make that an assertion?  Are
&gt; there ever cases where it could happen that are technically
&gt; correct?</span >

I can't think of any. I guess you want me to switch it over?

<span class="quote">&gt; Toss in spaces around the '=' sign, please?</span >

Done.

<span class="quote">&gt; Do we really want this quirk? What purpose does it serve? </span >

I've wondered about that myself. I think it's only useful for
pages that use &quot;background: transparent&quot; on cells to make the
table background shine through.

<span class="quote">&gt; In particular, what would &amp;quot;tr&amp;quot; inherit from... </span >

table row group, of course.

<span class="quote">&gt; I doubt that IE has that quirk, but I could be wrong</span >

IE does indeed have that quirk. (I think we're to be the only
layout engine that actually layers table backgrounds--although
I wouldn't be too surprised if Tasman's team did something like
that.)

<span class="quote">&gt; &gt;+  /** Get left continuous border width
&gt; What does that mean, exactly?  A clearer explanation is in
&gt; order here.</span >

Yes, you're quite right about that. I need to spec out the interaction
of table backgrounds with table borders.

<span class="quote">&gt; That is, what is a &amp;quot;left continuous border&amp;quot;? What does aGetInner do?</span >

Commented in. Implementation moved inline into nsTableFrame.h

<span class="quote">&gt; I think I'd be happier if this struct were using PRUint32</span >

Changed.

<span class="quote">&gt; Why the asymmetry here? Comment it, if there is a good reason.</span >

What asymmetry? Between x and y? The cellspacing gets added to the y
coordinate during reflow; it's a running count and cellspacing gets
added before the child height in the loops. Comment added, anyway.

<span class="quote">&gt; Comment why you have to subtract off the cellspacing? </span >

availSize.width reflects the width available for the children. In
tables this means subracting out the cellspacing on the sides as well
as the border. (Before this change, cellspacing in the X direction was
treated as a shift in the table cell position within the row.)

(Updated patch is at <a rel="nofollow" href="http://fantasai.tripod.com/Mozilla/bugs/4510">http://fantasai.tripod.com/Mozilla/bugs/4510</a> ;
 No guarantee that it'll compile.)</pre></div><div class="change-set" id="a137829621_20209"><div class="change" id="aa137829621_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a137829621_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a137829621_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a137829621_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a137829621_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a137829621_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-14 21:05 PDT" data-time="1060920332">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - border-collapse with fixed background breaks block-level children"
   href="/show_bug.cgi?id=216167">216167</a></div></div></div><div class="change-set" id="c105"><div class="comment" data-id="1936903" data-no="105"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-105" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a137829621_20209"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-105"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-105" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c105">Comment 105</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-16 01:15 PDT" data-time="1061021724">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-105">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-105" data-comment-id="1936903"><span class="quote">&gt; No guarantee that it'll compile.</span >
isnt that an euphimism for just the opposite. :-)
the patch at <a rel="nofollow" href="http://fantasai.tripod.com/Mozilla/bugs/4510/patch.txt">http://fantasai.tripod.com/Mozilla/bugs/4510/patch.txt</a>
does not compile as a)

#define GET_TWIPS_TO_PIXELS(presContext,var) \
   float var; \
   (presContext)-&gt;GetScaledPixelsToTwips(&amp;var); \
+
   var = 1.0f / var;
the additional line is not nessary.

(while you are on it, please remove the unessary blank lines from nsTableFrame.h)

In content/shared the assertion requires an argument what to test for.
I would rewrite that section with out the debug defines and loop over the four
sides.

<span class="quote">&gt;   for (PRUint8 Side = NS_SIDE_TOP; Side &lt;= NS_SIDE_LEFT; Side++) {
&gt;     if (!(mBorderStyle[Side] &amp; BORDER_COLOR_DEFINED)) {
&gt;       NS_ASSERTION(!(mBorderStyle[Side] &amp; BORDER_COLOR_SPECIAL),
&gt;                          &quot;Clearing special border because BORDER_COLOR_DEFINED</span >
is not set&quot;);
<span class="quote">&gt;       SetBorderToForeground(Side);
&gt;       }</span >
While this are peanuts, 
the patch draws into the cellspacing in separate mode when the table is not
completely inside the  window (see screenshot)</pre></div><div class="change-set" id="c106"><div class="comment" data-id="1936905" data-no="106"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-106" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a137829621_20209"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-106"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-106" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c106">Comment 106</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-16 01:18 PDT" data-time="1061021932">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-106">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-129900"
         class="attachment"
         data-id="129900" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="separate_bug4510.png">
      <meta itemprop="contentSize" content="37780">
      <meta itemprop="encodingFormat" content="image/png">
      <div class="label">
        Attached image
          <a class="link lightbox" href="attachment.cgi?id=129900" itemprop="contentUrl">
        <span id="att-129900-description" itemprop="description">screenshot of painting inside the cellspacing</span></a>
        — <a href="attachment.cgi?id=129900&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="c107"><div class="comment" data-id="1937743" data-no="107"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-107" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a137829621_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-107"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-107" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c107">Comment 107</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-17 14:11 PDT" data-time="1061154690">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-107">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-107" data-comment-id="1937743"><span class="quote">&gt; painting inside the cellspacing</span >

I've never seen /that/ before. Is it a regression from the previous patch?

<span class="quote">&gt; unnecessary blank lines</span >

Stupid text editor. I'll fix that, don't worry. :)</pre></div><div class="change-set" id="c108"><div class="comment" data-id="1938458" data-no="108"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-108" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a137829621_20209"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-108"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-108" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c108">Comment 108</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-18 10:59 PDT" data-time="1061229569">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-108">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-108" data-comment-id="1938458">this is not a regression it has been like this with <span class="bz_obsolete"><a href="/attachment.cgi?id=129063" name="attach_129063" title="Patch (untested)">attachment 129063</a> <a href="/attachment.cgi?id=129063&amp;action=edit" title="Patch (untested)">[details]</a> <a href="/attachment.cgi?id=129063&amp;action=diff" title="Patch (untested)">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=129063'>[review]</a>, the trick
is the small window</pre></div><div class="change-set" id="c109"><div class="comment" data-id="1952193" data-no="109"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-109" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a137829621_20209"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-109"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-109" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c109">Comment 109</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-06 22:05 PDT" data-time="1062911100">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-109">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-109" data-comment-id="1952193">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Unable to set background on col or colgroup elements with CSS"
   href="/show_bug.cgi?id=218541">Bug 218541</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c110"><div class="comment" data-id="1959124" data-no="110"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-110" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a137829621_20209"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-110"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-110" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c110">Comment 110</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-16 14:03 PDT" data-time="1063746187">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-110">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-110" data-comment-id="1959124">Resummarizing to what I think this bug currently covers.  If I'm wrong, please
resummarize again.</pre><div class="activity"><div class="change">Summary: table element backgrounds not working correctly &rarr; table row, column, *-group backgrounds not shown</div></div></div><div class="change-set" id="c111"><div class="comment" data-id="1959126" data-no="111"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-111" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a137829621_20209"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-111"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-111" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c111">Comment 111</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-16 14:03 PDT" data-time="1063746208">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-111">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-111" data-comment-id="1959126">*** <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED DUPLICATE - CSS not applied to table column"
   href="/show_bug.cgi?id=219404">Bug 219404</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c112"><div class="comment" data-id="1959896" data-no="112"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-112" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a137829621_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-112"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-112" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c112">Comment 112</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-17 14:46 PDT" data-time="1063835195">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-112">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-112" data-comment-id="1959896">We're fixing a bit more than that here. Things covered include:
  - paint table column/colgroup backgrounds
  - layer backgrounds properly
  - set up image positioning &amp; repeating bounds correctly
  - cleaning up &lt;table&gt; background boundaries in Quirks (might as well)

I really ought to finish this off. If I don't post a (hopefully finalized)
patch by Monday, someone should send me a nice flame or something for being
so annoyingly slow... ~_~</pre><div class="activity"><div class="change">Summary: table row, column, *-group backgrounds not shown &rarr; table, row, column, *-group backgrounds not working correctly</div></div></div><div class="change-set" id="c113"><div class="comment" data-id="1970016" data-no="113"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-113" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a137829621_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-113"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-113" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c113">Comment 113</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-30 20:02 PDT" data-time="1064977332">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-113">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-113" data-comment-id="1970016">Patch updated. And it does compile. However, I don't know if it /works/ since I
still get linking errors...</pre></div><div class="change-set" id="c114"><div class="comment" data-id="1971044" data-no="114"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-114" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a137829621_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a137829621_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-114"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-114" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c114">Comment 114</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-10-02 09:22 PDT" data-time="1065111748">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-114">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-114" data-comment-id="1971044">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - setting background color in style attribute of colgroup tag has no effect"
   href="/show_bug.cgi?id=221020">Bug 221020</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c115"><div class="comment" data-id="1971047" data-no="115"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-115" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a137829621_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a137829621_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-115"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-115" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c115">Comment 115</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-10-02 09:27 PDT" data-time="1065112058">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-115">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-115" data-comment-id="1971047">Re <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c104">comment 104</a>:

<span class="quote">&gt; I can't think of any. I guess you want me to switch it over?</span >

Yes, please.

<span class="quote">&gt; IE does indeed have that quirk</span >

OK.  Then it's ok to keep it as a quirk, I guess...

If you have an updated patch and are having trouble getting it to link, feel
free to mail it to me and I'll look..</pre></div><div class="change-set" id="c116"><div class="comment" data-id="1971332" data-no="116"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-116" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a137829621_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-116"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-116" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c116">Comment 116</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-10-02 17:25 PDT" data-time="1065140711">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-116">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-116" data-comment-id="1971332">I've put the files up at
  <a rel="nofollow" href="http://fantasai.tripod.com/Mozilla/bugs/4510/">http://fantasai.tripod.com/Mozilla/bugs/4510/</a>

I'll attach them for flagging once Bernd gives his ok, but attaching three files
every time I adjust whitespace would probably strain the CC list overmuch...</pre></div><div class="change-set" id="c117"><div class="comment" data-id="1971439" data-no="117"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-117" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a137829621_20209"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-117"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-117" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c117">Comment 117</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-10-02 22:22 PDT" data-time="1065158578">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-117">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-117" data-comment-id="1971439">I cant apply the patch:
patch: **** malformed patch at line 790: +nsTableRowGroupFrame::GetContinuousBCB
orderWidth(float     aPixelsToTwips,

could you please create a patch with only diff -u, do you manually edit the
patch files ?</pre></div><div class="change-set" id="c118"><div class="comment" data-id="1972048" data-no="118"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-118" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a137829621_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a137829621_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-118"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-118" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c118">Comment 118</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-10-03 18:22 PDT" data-time="1065230565">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-118">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-118" data-comment-id="1972048">I'm patching with diff -p -u8. No, I didn't edit the patch by hand. I just reran
cvs diff and uploaded the result. I checked it, too, by running it in reverse
and then normally. Is it still causing problems?</pre></div><div class="change-set" id="a143993690_4054"><div class="change" id="aa143993690_4054">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a143993690_4054"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4054" id="a143993690_4054"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a143993690_4054"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a143993690_4054">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a143993690_4054">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-10-25 05:20 PDT" data-time="1067084401">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">QA Contact: amar &rarr; ian</div><div class="change">Whiteboard: [awd:tbl](WG bug 85) &rarr; [awd:tbl]</div></div></div><div class="change-set" id="c119"><div class="comment" data-id="1994225" data-no="119"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-119" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5168" id="a143993690_4054"><img src="https://secure.gravatar.com/avatar/04f630b96bdc20c8df8b8ab26a3a302e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5168" id="a143993690_4054"><a class="email " href="/user_profile?user_id=5168" > <span class="fna">Mats Palmgren (:mats)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-119"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-119" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c119">Comment 119</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-10-31 04:49 PST" data-time="1067604588">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-119">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-119" data-comment-id="1994225">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - table element inheritances do not work"
   href="/show_bug.cgi?id=224283">Bug 224283</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c120"><div class="comment" data-id="1997082" data-no="120"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-120" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a143993690_4054"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a143993690_4054"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-120"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-120" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c120">Comment 120</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-04 06:42 PST" data-time="1067956929">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-120">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-120" data-comment-id="1997082">patch updated; fixed nsStyleStruct assertions.
The border-collapse assertions still go off when I build without the patch, so I
don't think I'm causing the problem. Also, it's in a function I don't call..</pre></div><div class="change-set" id="a145259070_79525"><div class="change" id="aa145259070_79525">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_79525" id="a145259070_79525"><img src="https://secure.gravatar.com/avatar/ab99eb9138ff73f50fb636bd1dd768ec?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_79525" id="a145259070_79525"><a class="email disabled" href="/user_profile?user_id=79525" > <span class="fna">Peter Kroll</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a145259070_79525"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a145259070_79525">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a145259070_79525">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-08 19:49 PST" data-time="1068349781">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: blocking1.6b+</div></div></div><div class="change-set" id="a145270953_17687"><div class="change" id="aa145270953_17687">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a145270953_17687"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_17687" id="a145270953_17687"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a145270953_17687"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a145270953_17687">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a145270953_17687">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-08 23:07 PST" data-time="1068361664">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: <span class="activity-deleted">blocking1.6b+</span></div></div></div><div class="change-set" id="c121"><div class="comment" data-id="2003681" data-no="121"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-121" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a145270953_17687"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a145270953_17687"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-121"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-121" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c121">Comment 121</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-12 11:58 PST" data-time="1068667125">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-121">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-121" data-comment-id="2003681">I tested the patch at <a rel="nofollow" href="http://fantasai.tripod.com/Mozilla/bugs/4510/">http://fantasai.tripod.com/Mozilla/bugs/4510/</a> . It looks
good to me. And it is so much better what mozilla does currently. Thanks a lot.
Attach it to the bug. You should ask bz, roc and dbaron as the module owner to
look carefully at this. I think, I looked pretty hostile at the patch but this
can't be a substitute for a review.</pre></div><div class="change-set" id="c122"><div class="comment" data-id="2003831" data-no="122"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-122" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a145270953_17687"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a145270953_17687"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-122"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-122" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c122">Comment 122</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-12 15:23 PST" data-time="1068679421">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-122">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-135353"
         class="attachment patch obsolete"
         data-id="135353" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="patch.txt">
      <meta itemprop="contentSize" content="90384">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=135353">
          <a class="link" href="attachment.cgi?id=135353&amp;action=diff">
        <span id="att-135353-description" itemprop="description">patch</span></a> (obsolete)
        — <a href="attachment.cgi?id=135353&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=135353">Splinter Review</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=129063&amp;action=edit"
           title="Patch (untested)"
           class=""
        >Attachment #129063</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c123"><div class="comment" data-id="2003832" data-no="123"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-123" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a145270953_17687"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a145270953_17687"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-123"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-123" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c123">Comment 123</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-12 15:26 PST" data-time="1068679573">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-123">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-135354"
         class="attachment obsolete"
         data-id="135354" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="nsTableUnderlay.h">
      <meta itemprop="contentSize" content="6474">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=135354" itemprop="contentUrl">
        <span id="att-135354-description" itemprop="description">nsTableUnderlay.h</span></a> (obsolete)
        — <a href="attachment.cgi?id=135354&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=129064&amp;action=edit"
           title="nsTableUnderlay.h (untested)"
           class=""
        >Attachment #129064</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c124"><div class="comment" data-id="2003836" data-no="124"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-124" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a145270953_17687"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a145270953_17687"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-124"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-124" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c124">Comment 124</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-12 15:28 PST" data-time="1068679701">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-124">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-135355"
         class="attachment obsolete"
         data-id="135355" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="nsTableUnderlay.cpp">
      <meta itemprop="contentSize" content="15488">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=135355" itemprop="contentUrl">
        <span id="att-135355-description" itemprop="description">nsTableUnderlay.cpp</span></a> (obsolete)
        — <a href="attachment.cgi?id=135355&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="a145588992_9018"><div class="change" id="aa145588992_9018">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a145588992_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_9018" id="a145588992_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a145588992_9018"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a145588992_9018">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a145588992_9018">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-12 15:28 PST" data-time="1068679703">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=129065&amp;action=edit"
           title="nsTableUnderlay.cpp (untested)"
           class=""
        >Attachment #129065</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a145589440_9018"><div class="change" id="aa145589440_9018">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a145589440_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_9018" id="a145589440_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a145589440_9018"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a145589440_9018">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a145589440_9018">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-12 15:35 PST" data-time="1068680151">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=135353&amp;action=edit"
           title="patch"
           class=""
        >Attachment #135353</a> -
        Flags: superreview?(bz-vacation)</div><div class="change">
        <a href="/attachment.cgi?id=135353&amp;action=edit"
           title="patch"
           class=""
        >Attachment #135353</a> -
        Flags: review?(dbaron)</div></div></div><div class="change-set" id="a145628251_17687"><div class="change" id="aa145628251_17687">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a145628251_17687"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_17687" id="a145628251_17687"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a145628251_17687"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a145628251_17687">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a145628251_17687">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-13 02:22 PST" data-time="1068718962">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=129063&amp;action=edit"
           title="Patch (untested)"
           class=""
        >Attachment #129063</a> -
        Flags: <span class="activity-deleted">superreview?(bz-vacation)</span></div><div class="change">
        <a href="/attachment.cgi?id=129063&amp;action=edit"
           title="Patch (untested)"
           class=""
        >Attachment #129063</a> -
        Flags: <span class="activity-deleted">review?(bernd_mozilla)</span></div></div></div><div class="change-set" id="c125"><div class="comment" data-id="2006051" data-no="125"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-125" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a145628251_17687"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4054" id="a145628251_17687"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-125"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-125" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c125">Comment 125</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-15 04:41 PST" data-time="1068900112">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-125">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-125" data-comment-id="2006051">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - support css in &lt;col&gt;&lt;colgroup&gt; tag"
   href="/show_bug.cgi?id=225780">Bug 225780</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="a145809482_4054"><div class="change" id="aa145809482_4054">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a145809482_4054"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4054" id="a145809482_4054"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a145809482_4054"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a145809482_4054">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a145809482_4054">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-15 04:43 PST" data-time="1068900193">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: table, row, column, *-group backgrounds not working correctly &rarr; table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)</div></div></div><div class="change-set" id="c126"><div class="comment" data-id="2007848" data-no="126"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-126" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a145809482_4054"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a145809482_4054"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-126"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-126" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c126">Comment 126</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-17 08:37 PST" data-time="1069087047">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-126">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-126" data-comment-id="2007848">So... is this going to get reviewed in time for 1.6beta or should I set the
target to January (1.7alpha)?</pre></div><div class="change-set" id="c127"><div class="comment" data-id="2007874" data-no="127"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-127" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a145809482_4054"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a145809482_4054"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-127"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-127" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c127">Comment 127</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-17 08:58 PST" data-time="1069088327">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-127">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-127" data-comment-id="2007874">fantasai, I definitely won't get to it in time for beta (in the next 40 hours,
basically).  I'm sorry I dropped the ball on this so badly.  :(

On the other hand, I feel that this is alpha material in any case.  And I will
make sure that I've done a review well before 1.7a opens so you can land as soon
as it does...</pre></div><div class="change-set" id="c128"><div class="comment" data-id="2007980" data-no="128"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-128" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a145809482_4054"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a145809482_4054"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-128"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-128" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c128">Comment 128</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-17 11:04 PST" data-time="1069095871">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-128">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-128" data-comment-id="2007980"><span class="quote">&gt; I'm sorry I dropped the ball on this so badly.  :(</span >

Eh, don't worry too much about it. I doubt dbaron or roc would've found time,
either. And I've taken out several months myself, what with not being able to
build for so long...

<span class="quote">&gt; On the other hand, I feel that this is alpha material in any case.</span >

Yeah, I'd prefer to have it checked in during an alpha cycle, too. :)</pre></div><div class="change-set" id="a146329580_119963"><div class="change" id="aa146329580_119963">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_119963" id="a146329580_119963"><img src="https://secure.gravatar.com/avatar/8b2c62220b58f2fb1ba43feed367cde6?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_119963" id="a146329580_119963"><a class="email disabled" href="/user_profile?user_id=119963" > <span class="fna">Bruno Basilio</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a146329580_119963"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a146329580_119963">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a146329580_119963">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-21 05:11 PST" data-time="1069420291">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - column layout in tables doesn't work propely"
   href="/show_bug.cgi?id=226426">226426</a></div></div></div><div class="change-set" id="a147290405_20209"><div class="change" id="aa147290405_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a147290405_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a147290405_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a147290405_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a147290405_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a147290405_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-02 08:05 PST" data-time="1070381116">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table includes inline alternate stylesheets which cause the original style to not be applied"
   href="/show_bug.cgi?id=227031">227031</a></div></div></div><div class="change-set" id="a147519062_20209"><div class="change" id="aa147519062_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a147519062_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a147519062_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a147519062_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a147519062_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a147519062_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-04 23:36 PST" data-time="1070609773">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED INVALID - nsTableRowGroupFrame and nsTableRowFrame PushState too much"
   href="/show_bug.cgi?id=149378">149378</a></div></div></div><div class="change-set" id="a148850180_102998"><div class="change" id="aa148850180_102998">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_102998" id="a148850180_102998"><img src="https://secure.gravatar.com/avatar/09bb44ac3625a121017cd98d0a7dc52c?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_102998" id="a148850180_102998"><a class="email " href="/user_profile?user_id=102998" > <span class="fna">Anne (:annevk)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a148850180_102998"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a148850180_102998">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a148850180_102998">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-20 09:21 PST" data-time="1071940891">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Target Milestone: mozilla1.5beta &rarr; ---</div></div></div><div class="change-set" id="c129"><div class="comment" data-id="2034560" data-no="129"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-129" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-129"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-129" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c129">Comment 129</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-25 14:31 PST" data-time="1072391479">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-129">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-129" data-comment-id="2034560">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=135354" name="attach_135354" title="nsTableUnderlay.h">attachment 135354</a> <a href="/attachment.cgi?id=135354&amp;action=edit" title="nsTableUnderlay.h">[details]</a></span>
nsTableUnderlay.h

Why &quot;nsTableUnderlay&quot;?	Wouldn't &quot;nsTableBackgroundPainter&quot; be a better
reflection of what's going on?

You need a license comment here.

<span class="quote">&gt;#define BC_BORDER_TOP_HALF_COORD(p2t,px)    NSToCoordRound((px - px / 2) * p2t )</span >

You need parens around &quot;px&quot; in that expression, both places (consider what
happens if I pass &quot;2-1&quot; as &quot;px&quot;.

Same for all the other macros here.

<span class="quote">&gt;   * User is expected to loop through elements to be
&gt;   * painted &lt;em&gt;in layout order&lt;/em&gt; (row groups must
&gt;   * be ordered properly), using Load/Unload functions</span >

Perhaps you should clearly document which functions need to be called in which
order to paint a cell or whatever objects this paints?	An example would
probably not hurt either....

<span class="quote">&gt;   * TableBackgroundPainter will handle position
&gt;   * translations</span >

Meaning into the child's coordinate space?  If so, I think it would be better
to say that clearly.

<span class="quote">&gt;    TableBackgroundPainter(nsIPresContext*      aPresContext,
&gt;                           nsIRenderingContext&amp; aRenderingContext,</span >

Why isn't that a pointer?  References to interfaces like that make me queasy.

<span class="quote">&gt;      * &#64;param aDeflate        - adjustment for frame's rect</span >

That's not helpful.  Explain why one would want to pass this and what it does.

<span class="quote">&gt;      * &#64;param aSkipSelf   - pass this cell; i.e. paint only underlying layers</span >

Why would one use this?

I would rather you avoided params with default values; people will have a
tendency to assume the default value is the correct one.  It's better to make
them explicit  so they have to think about how they are calling the function.

<span class="quote">&gt;    struct TableBackgroundData {
&gt;      /** Data is valid */
&gt;      PRBool Ok() const { return (PRBool)mBackground; }</span >

Maybe call this IsOK() ?

<span class="quote">&gt;      /** Destructor; must call Clear first, however */</span >

Why?  If this class always has a frame, it can get the prescontext off the
frame.	So there is no need to pass a prescontext to it, and hence no need for
Clear() that I see.  Unless mFrame can be null?

<span class="quote">&gt;      /** Calculate and set data values to represent aFrame */
&gt;      void Set(nsIPresContext*      aPresContext,
&gt;               nsIRenderingContext&amp; aRenderingContext,
&gt;               nsIFrame*            aFrame);</span >

Does aFrame have to be non-null?  Is aPresContext really needed here?  Could
you use a pointer to the nsIRenderingContext instead?

<span class="quote">&gt;    nsIRenderingContext&amp; mRenderingContext;</span >

And here.</pre></div><div class="change-set" id="c130"><div class="comment" data-id="2034563" data-no="130"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-130" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-130"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-130" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c130">Comment 130</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-25 14:33 PST" data-time="1072391616">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-130">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-130" data-comment-id="2034563">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=135354" name="attach_135354" title="nsTableUnderlay.h">attachment 135354</a> <a href="/attachment.cgi?id=135354&amp;action=edit" title="nsTableUnderlay.h">[details]</a></span>
nsTableUnderlay.h

<span class="quote">&gt;      PRBool Ok() const { return (PRBool)mBackground; }</span >

Also, that's not cool in general -- casting a pointer to PRBool does not do
what you really want it to.  Use &quot;return !!mBackground;&quot; instead, I would say.</pre></div><div class="change-set" id="c131"><div class="comment" data-id="2034579" data-no="131"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-131" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1214" id="a148850180_102998"><img src="https://secure.gravatar.com/avatar/c936d5fc7ef09504480b9d8aafb7e8a0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_1214" id="a148850180_102998"><a class="email " href="/user_profile?user_id=1214" > <span class="fna">Brendan Eich [:brendan]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-131"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-131" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c131">Comment 131</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-25 15:32 PST" data-time="1072395155">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-131">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-131" data-comment-id="2034579"><span class="quote">&gt;      PRBool Ok() const { return (PRBool)mBackground; }</span >

is uncool as bz said, because it generated random non-zero results on 32-bit
systems, and where pointers may be 64 bits but int is 32, it may even generate 0
(PR_FALSE) for a non-null pointer.

The !!p trick looks odd enough to people that I've always gone for an explicit
null comparison, e.g.:

<span class="quote">&gt;      PRBool Ok() const { return mBackground != nsnull; }</span >

Note no need for (PRBool) casting.

/be</pre></div><div class="change-set" id="c132"><div class="comment" data-id="2034583" data-no="132"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-132" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-132"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-132" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c132">Comment 132</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-25 15:51 PST" data-time="1072396276">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-132">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-132" data-comment-id="2034583">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=135355" name="attach_135355" title="nsTableUnderlay.cpp">attachment 135355</a> <a href="/attachment.cgi?id=135355&amp;action=edit" title="nsTableUnderlay.cpp">[details]</a></span>
nsTableUnderlay.cpp

Need a license.

<span class="quote">&gt;TableBackgroundPainter::TableBackgroundData::Clear(nsIPresContext* aPresContext)</span >

Like I said, just get the prescontext off mFrame and be done with it.

<span class="quote">&gt;  mBorder = nsnull;
&gt;  mBackground = nsnull;
&gt;  mFrame = nsnull;
&gt;  mBorderIsSynth = PR_FALSE;</span >

Do you really need to reset all these?

<span class="quote">&gt;  //XXXfr should aRenderingContext be removed from IVFP's param list?</span >

Probably.  File a bug on that, cc me and roc and dbaron.  We probably want to
deCOMtaminate that method at the same time too.

<span class="quote">&gt;inline PRBool
&gt;TableBackgroundPainter::TableBackgroundData::ShouldSetBCBorder()</span >

Any reason not to just inline this into the header?

<span class="quote">&gt;TableBackgroundPainter::TableBackgroundData::SetBCBorder(nsMargin&amp; aBorder,
&gt;  NS_PRECONDITION(aPainter, &quot;null frame&quot;);</span >

Change the text to make sense?

<span class="quote">&gt;  nsStyleBorder* styleBorder = new (aPainter-&gt;mPresContext) nsStyleBorder;
&gt;  if (!styleBorder) return NS_ERROR_OUT_OF_MEMORY;
&gt;  *styleBorder = aPainter-&gt;mZeroBorder;</span >

Wouldn't 

  nsStyleBorder* styleBorder = 
     new (aPainter-&gt;mPresContext) nsStyleBorder(aPainter-&gt;mZeroBorder);
  if (!styleBorder) return NS_ERROR_OUT_OF_MEMORY;

be better?

<span class="quote">&gt;TableBackgroundPainter::TableBackgroundPainter(nsIPresContext*      aPresContext,</span >

This could use a constructor counter.

<span class="quote">&gt;TableBackgroundPainter::Init(nsTableFrame*        aTableFrame,
&gt;      NS_ASSERTION(colGroupList.FirstChild(), &quot;table should have at least one colgroup&quot;);</span >

Are you sure?  What if I'm in XHTML and I just have an &lt;html:table&gt; with
nothing inside?  Will this assert trigger?  What will mNumCols be?

Perhaps it would be better to bail early or skip stuff if mNumCols is 0, then
assert if mNumCols &gt; 0 and there is no first child?

<span class="quote">&gt;      for (nsTableColGroupFrame* cgFrame = (nsTableColGroupFrame*)colGroupList.FirstChild();
&gt;           cgFrame; cgFrame = (nsTableColGroupFrame*)cgFrame-&gt;GetNextSibling()) {</span >

It's not immediately clear to me what this code is attempting to do.  A comment
would help a lot here.	I assume that you're storing the colgroup info for each
col or something?

In any case, comments about you're doing this here (and comments in the header
when you declare these data structs explaining what they are used for) would be
most helpful.

<span class="quote">&gt;          nsresult rv = cgData-&gt;SetBCBorder(border, this);
&gt;          if (NS_FAILED(rv)) return rv;</span >

Doesn't that return leak cgData?

<span class="quote">&gt;          mCols[colIndex].mCol.mRect.MoveBy(cgData-&gt;mRect.x, cgData-&gt;mRect.y);</span >

So mCols[colIndex].mCol.mRect is the rect of the col in the coord system of the
table?	If so, why?  Also, this needs to be documented somewhere (eg the
header, either where you declare the ColData type or where you declare mCols or
whatever you deem appropriate).

In fact, it would be good to document the coord systems for all the various
members that end up having an nsRect as part of them.

<span class="quote">&gt;          mCols[colIndex].mColGroup = cgData;</span >

So the idea is that cgData is allocated in Init() and deallocated in the
destructor of this class?  That is, the mCols elements have pointers to it, but
do not own it?	If so, document that clearly here and perhaps where mCols is
declared....

<span class="quote">&gt;              nsresult rv = mCols[colIndex].mCol.SetBCBorder(border, this);
&gt;              if (NS_FAILED(rv)) return rv;</span >

Document that this does NOT leak cgData, since there is now a pointer to it in
mCols[colIndex].

I have to admit that I'm not sure quite what's going on with the BC left border
(in particular, why you reset to lastLeftBorder every time in the inner loop. 
Please document that.

<span class="quote">&gt;TableBackgroundPainter::PaintTable(nsTableFrame*         aTableFrame,</span >

More BC magic... why exactly do we only sometimes need to set the bcborder? 
The ShouldSetBCBorder impl should probably document why it uses the criterion
it uses.

<span class="quote">&gt;TableBackgroundPainter::TranslateColumns(nscoord aX,
&gt;                                         nscoord aY)</span >

This method needs some documentation in the header.

<span class="quote">&gt;  if (eOrigin_TableRowGroup != mOrigin) {</span >

It helps to comment which coord space you are transforming to before doing the
coord transformations... you're transforming into the row group coord space
here, right?

<span class="quote">&gt;    mRenderingContext.Translate(mRowGroup.mRect.x, mRowGroup.mRect.y);
&gt;    mDirtyRect.MoveBy(-mRowGroup.mRect.x, -mRowGroup.mRect.y);
&gt;    if (mCols) {
&gt;      TranslateColumns(-mRowGroup.mRect.x, -mRowGroup.mRect.y);</span >

When you translate back in UnloadRowGroup(), you use
mRowGroup.mFrame-&gt;GetRect() as the rect.. are you guaranteed that the x,y
coords of that are the same as the x,y coords of mRowGroup.mRect at this point?
 If so, assert that here, please.

<span class="quote">&gt;TableBackgroundPainter::LoadRow(nsTableRowFrame* aFrame)
&gt;  //else: No translation necessary since we're using row group's coord system</span >

Erk.  First I hear of that, and I read the header.  That needs to be VERY
clearly documented somewhere.....

I'm not very knowledgeable about BC code, so I can't tell whether what you're
doing here with BC is right... if bernd is OK with it, I'm OK with it.

<span class="quote">&gt;TableBackgroundPainter::PaintCell(nsTableCellFrame* aCell,</span >

<span class="quote">&gt;  nsRect cellRect;
&gt;  cellRect = aCell-&gt;GetRect();</span >

Why two lines?	Just put that on one line, please.

<span class="quote">&gt;  //Paint cell background in border-collapse unless told not to.</span >

Why only in border-collapse?  Please document that somewhere....

I'm wondering about the Pass* functions.... if I decide to call PassRow(), I
need to make sure I don't LoadRow() that row, right?  Because it looks like if
I load a row and then call PassRow() on it, the row's background will be
painted.

Could we add some debug-only code that asserts that LoadRow() is not called
while another row is already loaded, and similarly for row groups, etc?</pre></div><div class="change-set" id="c133"><div class="comment" data-id="2034587" data-no="133"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-133" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-133"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-133" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c133">Comment 133</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-25 16:02 PST" data-time="1072396947">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-133">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-133" data-comment-id="2034587">By the way, I just realized that you have some places where you call Clear()
when you don't want to call the destructor.  So it's OK to keep Clear(), but the
destructor can call it, which would allow callers who plan to just destroy to
not bother with having to call Clear().</pre></div><div class="change-set" id="c134"><div class="comment" data-id="2034589" data-no="134"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-134" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-134"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-134" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c134">Comment 134</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-25 16:08 PST" data-time="1072397299">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-134">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-134" data-comment-id="2034589">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=135354" name="attach_135354" title="nsTableUnderlay.h">attachment 135354</a> <a href="/attachment.cgi?id=135354&amp;action=edit" title="nsTableUnderlay.h">[details]</a></span>
nsTableUnderlay.h

One more thing.  The various members here need documenting....	It's not clear
what role mOrigin plays, what mCols is used for, what mRow and mRowGroup are
used for, what mZeroBorder and mZeroPadding are supposed to do, etc.</pre></div><div class="change-set" id="c135"><div class="comment" data-id="2034595" data-no="135"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-135" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-135"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-135" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c135">Comment 135</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-25 16:24 PST" data-time="1072398281">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-135">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-135" data-comment-id="2034595">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=135353" name="attach_135353" title="patch">attachment 135353</a> <a href="/attachment.cgi?id=135353&amp;action=edit" title="patch">[details]</a> <a href="/attachment.cgi?id=135353&amp;action=diff" title="patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=135353'>[review]</a>
patch

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableFrame.h</span >

<span class="quote">&gt;+  /** Get width of table + colgroup + col collapse: elements that
&gt;+   *  continue along the length of the whole left side.
&gt;+   *  &#64;param aPixelsToTwips - conversion factor
&gt;+   *  &#64;param aGetInner - get only inner half of border width
&gt;+   */</span >

It's not clear to me what this does, still... This is getting the width of
_which_ border?  The left one?	The left border of what element?  Why
&quot;continuous&quot;?

This would benefit greatly from an example, I think.

<span class="quote">&gt;+    PRUint32 mLeftContBCBorder:8;</span >

Comment that this, like other BC code, rather arbitrarily limits the widths of
BC borders?

That said, why is this 8 bits?	I thought BC borders were currently limited to
6 bits?

I've gotten up to the beginning of nsTableFrame::Paint() for now; more later.</pre></div><div class="change-set" id="c136"><div class="comment" data-id="2034698" data-no="136"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-136" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a148850180_102998"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a148850180_102998"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-136"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-136" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c136">Comment 136</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-26 01:38 PST" data-time="1072431505">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-136">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-136" data-comment-id="2034698"><span class="quote">&gt; Why isn't that a pointer?  References to interfaces like that make me queasy.</span >
...
<span class="quote">&gt; Could you use a pointer to the nsIRenderingContext instead?</span >

Because everything else refers to it that way and I'm copying them. Would you
rather have a pointer?

<span class="quote">&gt; Why? If this class always has a frame, it can get the prescontext off the</span >
frame.

I didn't think of that..

If it's in the frame, then why is it being passed around the paint functions?

<span class="quote">&gt; Unless mFrame can be null?</span >

hm.. Don't think it would have a generated borderstyle if it did.

<span class="quote">&gt; Any reason not to just inline this into the header?</span >

I wanted to keep all the implementation logic in one file.
(It's not just returning a value; it's making a judgement.)

<span class="quote">&gt;&gt;+  /** Get width of table + colgroup + col collapse: elements that
&gt;&gt;+   *  continue along the length of the whole left side.
&gt;&gt;+   *  &#64;param aPixelsToTwips - conversion factor
&gt;&gt;+   *  &#64;param aGetInner - get only inner half of border width
&gt;&gt;+   */</span >
&gt;
<span class="quote">&gt;It's not clear to me what this does, still... This is getting the width of
&gt;_which_ border?  The left one?	The left border of what element?  Why
&gt;&quot;continuous&quot;?</span >

The left table border (nsTABLEFrame::GetContinuousLEFTBCBorder)--which is also
the leftmost column's left border, which is also the leftmost colgroup's left
border. It is taking the width of the &quot;table + colgroup + col collapse&quot; -- i.e.
the border's width before it collapses with the rowgroups/rows/cells. Continuous
because the table/colgroup/col elements necessarily extend across the entire
length of the table from top to bottom. (Rowgroup/row/cell borders do not: there
can be multiple rowgroup/row/cell borders along this edge of the table.)

<span class="quote">&gt; I thought BC borders were currently limited to 6 bits?</span >

<a rel="nofollow" href="http://lxr.mozilla.org/seamonkey/source/layout/html/table/src/nsTableCellFrame.h#483">http://lxr.mozilla.org/seamonkey/source/layout/html/table/src/nsTableCellFrame.h#483</a>

Thanks for all the comments, bz. I'll deal with the rest of them as I fix the
problems they point out. :)</pre></div><div class="change-set" id="c137"><div class="comment" data-id="2034888" data-no="137"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-137" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-137"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-137" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c137">Comment 137</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-26 13:11 PST" data-time="1072473086">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-137">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-137" data-comment-id="2034888"><span class="quote">&gt; Because everything else refers to it that way and I'm copying them.</span >

In that case, I guess keep it as-is (if you're getting passed
nsIRenderingContext&amp; yourself in the paint code; I've not looked at that yet).

<span class="quote">&gt; The left table border (nsTABLEFrame::GetContinuousLEFTBCBorder</span >

Put all this in the relevant comments in the patch, please.  ;)</pre></div><div class="change-set" id="c138"><div class="comment" data-id="2034970" data-no="138"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-138" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-138"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-138" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c138">Comment 138</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-26 16:55 PST" data-time="1072486509">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-138">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-138" data-comment-id="2034970">I almost forgot... The reason the prescontext is passed around and all that is
that there didn't use to be an accessor for it off the frame.  But there is one
now, and we're slowly moving to eliminating prescontexts from all sorts of
function signatures.</pre></div><div class="change-set" id="c139"><div class="comment" data-id="2035058" data-no="139"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-139" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a148850180_102998"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a148850180_102998"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-139"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-139" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c139">Comment 139</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-26 22:18 PST" data-time="1072505883">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-139">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-139" data-comment-id="2035058"><span class="quote">&gt; Why &quot;nsTableUnderlay&quot;? Wouldn't &quot;nsTableBackgroundPainter&quot; be a better
&gt; reflection of what's going on?</span >

*thinks back* I put that there because the header includes border-related things
as well. Suppose you explain why <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED INVALID - nsTableRowGroupFrame and nsTableRowFrame PushState too much"
   href="/show_bug.cgi?id=149378">bug 149378</a> is blocked by this. Should I change
it to nsTablePainter?

(In terms of things in the distant-and-likely-nonexistant-future, I've also
contemplated a redesign of BC handling that would find the caching features of
the painter most useful. ^^)</pre></div><div class="change-set" id="c140"><div class="comment" data-id="2035061" data-no="140"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-140" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-140"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-140" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c140">Comment 140</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-26 22:29 PST" data-time="1072506599">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-140">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-140" data-comment-id="2035061"><span class="quote">&gt; Suppose you explain why <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED INVALID - nsTableRowGroupFrame and nsTableRowFrame PushState too much"
   href="/show_bug.cgi?id=149378">bug 149378</a> is blocked by this.</span >

Because the measurements there should be redone once this patch goes in, since
it will significantly change the control flow of table painting.

<span class="quote">&gt; Should I change it to nsTablePainter?</span >

That may be a better description of what it does, yes.</pre></div><div class="change-set" id="c141"><div class="comment" data-id="2035685" data-no="141"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-141" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-141"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-141" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c141">Comment 141</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-28 12:26 PST" data-time="1072643179">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-141">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-141" data-comment-id="2035685">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=135353" name="attach_135353" title="patch">attachment 135353</a> <a href="/attachment.cgi?id=135353&amp;action=edit" title="patch">[details]</a> <a href="/attachment.cgi?id=135353&amp;action=diff" title="patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=135353'>[review]</a>
patch

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableFrame.cpp
&gt; nsTableFrame::Paint(nsIPresContext*      aPresContext,
&gt;+      if (eCompatibility_NavQuirks != mode) {</span >

You need a comment right before this check explaining why the check is made
(that is, what the behavior difference should be between the modes, and why
this behavior difference is desired).  It looks like we're just doing our old
painting in quirks mode and CSS2 painting in standards mode; is there a good
reason for this quirk?

<span class="quote">&gt;+        rv = painter.PaintTable(this, (nsTableRowGroupFrame*)rowGroups.ElementAt(0),
&gt;+                                (nsTableRowGroupFrame*)rowGroups.ElementAt(numRowGroups-1));</span >

What if numRowGroups is 0?  Eg. an XHTML &lt;table&gt; with no &lt;tbody&gt; and no rows...

<span class="quote">&gt; +          if (rg-&gt;GetView()) {</span >

GetView() is slow.  This is why we have HasView().

<span class="quote">&gt; +              if (row-&gt;GetView()) {</span >

Same.

<span class="quote">&gt;+              else if (aDirtyRect.YMost() &gt; rgRect.y + rect.y) {</span >

Why that test instead of an Intersects() test (with an appropriately translated
rect)?	Won't this trigger painting of rows/cells that come completely before
the dirty rect?

Also, why &quot;&gt;&quot; instead of &quot;&gt;=&quot;?

<span class="quote">&gt;+                  rv = painter.PaintCell(cell, (PRBool)cell-&gt;GetView());</span >

HasView()

<span class="quote">&gt; +          OrderRowGroups(rowGroups, numRowGroups);
&gt; +          rv = painter.PaintTable(this, (nsTableRowGroupFrame*)rowGroups.ElementAt(0),
&gt; +                                  (nsTableRowGroupFrame*)rowGroups.ElementAt(numRowGroups-1),</span >

Again, what if numRowGroups == 0?

<span class="quote">&gt;+nsTableFrame::SetColumnDimensions(nsIPresContext* aPresContext,</span >

Comment clearly in here why the cellSpacingY affects all these heights, please.
 Also comment why cellspacing affects origins.

<span class="quote">&gt;+    if (colGroupWidth) {
&gt;+      colGroupWidth -= cellSpacingX;
&gt;+    }</span >

Comment that you are doing this to cancel out the extra cellSpacingX we counted
for the last column?

<span class="quote">&gt;&#64;&#64; -5740,16 +5816,17 &#64;&#64; nsTableFrame::CalcBCBorders(nsIPresConte</span >

<span class="quote">&gt;+        CalcDominateBorder(this, cgFrame, colFrame, nsnull, nsnull,
&gt;+                           nsnull, PR_TRUE, NS_SIDE_RIGHT, PR_TRUE, t2p, //XXXfr why true?</span >

You added this code... why did you use true?  Add a clearer XXX comment if
needed.

<span class="quote">&gt;&#64;&#64; -5878,16 +5992,28 &#64;&#64; nsTableFrame::CalcBCBorders(nsIPresConte</span >

<span class="quote">&gt;+                           nsnull, PR_TRUE, NS_SIDE_RIGHT, PR_TRUE, t2p, //XXXfr why true?</span >

Same.

<span class="quote">&gt;+                           nsnull, PR_TRUE, NS_SIDE_RIGHT, PR_TRUE, t2p, //XXXfr why true?</span >

Same.

I got up to the &quot;&#64;&#64; -6087,26 +6228,46 &#64;&#64;
nsTableFrame::CalcBCBorders(nsIPresConte&quot; part.  More later.</pre></div><div class="change-set" id="c142"><div class="comment" data-id="2035891" data-no="142"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-142" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-142"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-142" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c142">Comment 142</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-28 21:54 PST" data-time="1072677250">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-142">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-142" data-comment-id="2035891">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=135353" name="attach_135353" title="patch">attachment 135353</a> <a href="/attachment.cgi?id=135353&amp;action=edit" title="patch">[details]</a> <a href="/attachment.cgi?id=135353&amp;action=diff" title="patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=135353'>[review]</a>
patch

I'm not sure I can usefully review your CalcDominateBorder calls, btw... if you
could have bernd look them over, that would be great.


<span class="quote">&gt;&#64;&#64; -6087,26 +6228,46 &#64;&#64; nsTableFrame::CalcBCBorders(nsIPresConte
&gt;+      if (!gotRowBorder &amp;&amp; 1 == info.rowSpan) {
&gt;+        //get continuous row/row group border</span >

This could use a nice long comment explaining _why_ you're doing this, not just
what you're doing.  It's not obvious to me what &quot;gotRowBorder&quot; means at this
point, what info.rowSpan really means, and why you care about this particular
condition.

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableRowGroupFrame.h</span >

<span class="quote">&gt;+  // border widths in pixels in the collapsing border model
&gt;+  unsigned mRightContBorderWidth:8;
&gt;+  unsigned mBottomContBorderWidth:8;
&gt;+  unsigned mLeftContBorderWidth:8;</span >

Any reason not to just make these PRUint8?

Also, I assume we have very few frames of this type around?  Otherwise adding
members to them is not so great...  If this is something that will be used only
rarely, perhaps it could be stored as a property of the frame.	If it's
something that needs to be accessed often, I guess we need to byte the bullet
and just store this?

<span class="quote">&gt;+inline nscoord
&gt;+nsTableRowGroupFrame::GetContinuousBCBorderWidth(float     aPixelsToTwips,</span >

Is there a good reason to inline this?	It seems like a nontrivial bit of code,
especially if it's called often.

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableRowGroupFrame.cpp</span >

<span class="quote">&gt;+  if (NS_FRAME_PAINT_LAYER_BACKGROUND == aWhichLayer &amp;&amp;
&gt;+      !(aFlags &amp; (NS_PAINT_FLAG_TABLE_BG_PAINT | NS_PAINT_FLAG_TABLE_CELL_BG_PASS))) {</span >

This could use a comment explaining what exactly this check means (as far as I
can tell, &quot;Paint() called directly because we have a view&quot; or something like
that.

<span class="quote">&gt;+        if (row-&gt;GetView()) {</span >

HasView()

<span class="quote">&gt;+        else if (aDirtyRect.YMost() &gt; rect.y){</span >

Again, why this check as opposed to an intersects check?

<span class="quote">&gt;+            rv = painter.PaintCell(cell, (PRBool)cell-&gt;GetView());</span >

HasView()

This whole chunk of code duplicates code in the inner parts of the loops in
nsTableFrame.  Is there really no way to push this code down into the painter? 
It could decide whether to run the outer part of the loop based on what the
origin is or something...  In fact, here you would just call PaintRowGroup() on
the painter, and the loop over the rows logic (as well as checking for views)
could live in the PaintRowGroup() method, no?

I suppose you're trying to have the painter present a more flexible interface,
but do we really envision using the extra flexibility?	Would there ever be a
case when one _would_ want to paint kids with views in this sort of situation?

<span class="quote">&gt;+void nsTableRowGroupFrame::SetContinuousBCBorderWidth(PRUint8 aForSide,</span >

Will this never get called with NS_SIDE_RIGHT?	If so, add a debug-only case
with an NS_ERROR to that effect.

Also, as written this will trigger unhandled value warnings; you may want to
add an empty &quot;default&quot; to this switch (and add a return to the third case!).

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableRowFrame.h</span >

<span class="quote">&gt;+  unsigned mRightContBorderWidth:8;
&gt;+  unsigned mTopContBorderWidth:8;
&gt;+  unsigned mLeftContBorderWidth:8;</span >

This is increasing the size of nsTableRowFrame, and I _know_ we have lots of
those.... is there really no way not to store this state?  Perhaps we should
have a BC-only class for this like we do for table cells?

<span class="quote">&gt;+inline void
&gt;+nsTableRowFrame::GetContinuousBCBorderWidth(float     aPixelsToTwips,</span >

<span class="quote">&gt;+inline nscoord nsTableRowFrame::GetOuterTopContBCBorderWidth(float aPixelsToTwips)</span >

Again, why inline the first of these?

Is there any reason these are two separate functions for table rows but
combined into a single function for table row groups?  It would be better to be
consistent, imo.

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableRowFrame.cpp
&gt;+  if (NS_FRAME_PAINT_LAYER_BACKGROUND == aWhichLayer &amp;&amp;
&gt;+      !(aFlags &amp; (NS_PAINT_FLAG_TABLE_BG_PAINT | </span >
NS_PAINT_FLAG_TABLE_CELL_BG_PASS))) {

Same comment as for nsTableRowGroupFrame

<span class="quote">&gt;+        rv = painter.PaintCell(cell, (PRBool)cell-&gt;GetView());</span >

HasView().

Once again, this would be better in the painter, imo...

<span class="quote">&gt;+void nsTableRowFrame::SetContinuousBCBorderWidth(PRUint8 aForSide,</span >

Same comments as for table row groups.

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableColGroupFrame.h</span >

<span class="quote">&gt;+  PRUint32 mTopContBorderWidth:8;
&gt;+  PRUint32 mBottomContBorderWidth:8;</span >

PRUint8.

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableColGroupFrame.cpp</span >

<span class="quote">&gt;+void nsTableColGroupFrame::SetContinuousBCBorderWidth(PRUint8 aForSide,</span >

Similar comments as for row groups.

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableColFrame.h</span >

<span class="quote">&gt;+  // border width in pixels
&gt;+  PRUint32 mLeftBorderWidth:  8;
&gt;+  PRUint32 mRightBorderWidth: 8;
&gt;+  PRUint32 mTopContBorderWidth:8;
&gt;+  PRUint32 mRightContBorderWidth:8;
&gt;+  PRUint32 mBottomContBorderWidth:8;</span >

PRUint8.  I guess we don't have as many colframes as rowframes in really big
tables, so this may be OK....

<span class="quote">&gt;+inline nscoord
&gt;+nsTableColFrame::GetContinuousBCBorderWidth(float     aPixelsToTwips,
&gt;+                                            nsMargin&amp; aBorder)</span >

Again, I don't think this should be inlined.

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableColFrame.cpp</span >

<span class="quote">&gt;+void nsTableColFrame::SetContinuousBCBorderWidth(PRUint8 aForSide,
&gt;+                                                 nscoord aPixelValue)</span >

Same comments as for row groups, etc.

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableCellFrame.cpp
&gt;-  	        nsILookAndFeel* look = nsnull;</span >

Hey, if you're touching this code anyway, make the thing an nsCOMPtr, eh?

<span class="quote">&gt;&#64;&#64; -417,17 +418,17 &#64;&#64; nsTableCellFrame::Paint(nsIPresContext* 
&gt;-  PRBool paintChildren   = PR_TRUE;
&gt;+  PRBool paintChildren = PR_TRUE;</span >

Why make changes like that?  Just muddles up the CVS history....

<span class="quote">&gt;&#64;&#64; -435,17 +436,17 &#64;&#64; nsTableCellFrame::Paint(nsIPresContext* </span >

<span class="quote">&gt;-  
&gt;+</span >

Same.

<span class="quote">&gt;&#64;&#64; -1363,18 +1364,19 &#64;&#64; nsBCTableCellFrame::PaintUnderlay(nsIPre</span >

<span class="quote">&gt;+  if (aVisibleBackground &amp;&amp;
&gt;+      (!(aFlags &amp; NS_PAINT_FLAG_TABLE_BG_PAINT) ||
&gt;+        (aFlags &amp; NS_PAINT_FLAG_TABLE_CELL_BG_PASS))) {</span >

Again, need a comment as to what that conditional actually means...

<span class="quote">&gt;&#64;&#64; -1389,11 +1391,11 &#64;&#64; nsBCTableCellFrame::PaintUnderlay(nsIPre
&gt;+  aFlags &amp;= ~ (NS_PAINT_FLAG_TABLE_CELL_BG_PASS | NS_PAINT_FLAG_TABLE_BG_PAINT);</span >

Why do table cells need to reset this flag?  It's not clear what that will do,
just by looking at this code.  Comment, please.</pre></div><div class="change-set" id="c143"><div class="comment" data-id="2035892" data-no="143"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-143" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-143"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-143" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c143">Comment 143</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-28 21:55 PST" data-time="1072677335">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-143">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-143" data-comment-id="2035892">bernd, if you have thoughts of any kind on using a BC-only table row class that
stores the extra border state, please comment...  how well is that working out
for table cells?</pre></div><div class="change-set" id="c144"><div class="comment" data-id="2035897" data-no="144"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-144" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a148850180_102998"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a148850180_102998"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-144"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-144" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c144">Comment 144</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-28 22:13 PST" data-time="1072678415">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-144">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-144" data-comment-id="2035897">Boris, thanks for your careful review, it shows that <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c121">comment 121</a> was correct. BC
table cell frames work. I never touched them (Maybe thats the reason why they
work). I like the idea to hide the bc burden from ordinary rows in the separate
border case.

I will review the CalcDominateBorder calls.

Btw the empty table background case is <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - empty tables can have a size"
   href="/show_bug.cgi?id=227123">bug 227123</a>, and mozilla currently does
the right thing, so please no regressions....</pre></div><div class="change-set" id="c145"><div class="comment" data-id="2035915" data-no="145"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-145" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1214" id="a148850180_102998"><img src="https://secure.gravatar.com/avatar/c936d5fc7ef09504480b9d8aafb7e8a0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_1214" id="a148850180_102998"><a class="email " href="/user_profile?user_id=1214" > <span class="fna">Brendan Eich [:brendan]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-145"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-145" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c145">Comment 145</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-28 22:44 PST" data-time="1072680270">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-145">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-145" data-comment-id="2035915">s/CalcDominateBorder/CalcDominantBorder/g ?

/be</pre></div><div class="change-set" id="c146"><div class="comment" data-id="2035917" data-no="146"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-146" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-146"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-146" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c146">Comment 146</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-28 22:50 PST" data-time="1072680626">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-146">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-146" data-comment-id="2035917">As a separate patch, sure.  This one is already pretty big....</pre></div><div class="change-set" id="c147"><div class="comment" data-id="2038010" data-no="147"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-147" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a148850180_102998"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a148850180_102998"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-147"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-147" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c147">Comment 147</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-01 23:56 PST" data-time="1073030194">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-147">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-147" data-comment-id="2038010">I would like to propose to spin of the border collapse part into a separate
patch. It will otherwise jeopardize the 1.7a timetable for the whole patch.
The border collapse review issues are not new
(<a rel="nofollow" href="http://bugzilla.mozilla.org/show_bug.cgi?id=191731#c7">http://bugzilla.mozilla.org/show_bug.cgi?id=191731#c7</a>) and when bz (<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c142">comment
142</a>) and dbaron ( <a rel="nofollow" href="http://bugzilla.mozilla.org/show_bug.cgi?id=225266#c8">http://bugzilla.mozilla.org/show_bug.cgi?id=225266#c8</a> ) try to
avoid to review this code it sends out a clear message. And it is really hard to
argue when looking at an undocumented function with 14 arguments like
CalcDominantBorder
(<a rel="nofollow" href="http://lxr.mozilla.org/seamonkey/source/layout/html/table/src/nsTableFrame.cpp#5146">http://lxr.mozilla.org/seamonkey/source/layout/html/table/src/nsTableFrame.cpp#5146</a>)
 that it might cause comments like //XXXfr why true?
To summarize I would prefer if this function can be reorganized before any
further calls are added. I filed <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - reorganize CalcDominantBorder"
   href="/show_bug.cgi?id=229883">bug 229883</a> for this.

&#64;&#64; -927,30 +931,31 &#64;&#64; public:
 
+    PRUint32 mLeftContBCBorder:8;
+    PRUint32 : 11;                     // unused
   } mBits;

Why are mLeftContBCBorder not a member of the bcProperty like the other bc
widths on a table?

this would also eliminate the my objection against 

&#64;&#64; -1101,16 +1106,25 &#64;&#64; inline void nsTableFrame::SetBorderColla

+inline nscoord
+nsTableFrame::GetContinuousLeftBCBorderWidth(float  aPixelsToTwips,
+                                             PRBool aGetInner) const

why isn't there a Set method.

&#64;&#64; -5782,27 +5859,53 &#64;&#64; nsTableFrame::CalcBCBorders(nsIPresConte
+        mBits.mLeftContBCBorder = ownerWidth;

this should never happen, mBits should not accessed so directly.


Why are the widths for the table not reset together with the other table widths?
if (!tableBorderReset[NS_SIDE_TOP]) {
5738         propData-&gt;mTopBorderWidth = 0;
5739         tableBorderReset[NS_SIDE_TOP] = PR_TRUE;
5740       }

A continuous bc border is that the thinnest continuous line? If yes
+        //get row continuous borders
+        CalcDominateBorder(this, info.cg, info.leftCol, info.rg, rowFrame,
nsnull, PR_TRUE, NS_SIDE_LEFT,
+                           PR_FALSE, t2p, owner, ownerBStyle, ownerWidth,
ownerColor);
+        rowFrame-&gt;SetContinuousBCBorderWidth(NS_SIDE_LEFT, ownerWidth);
Why are cell frames here excluded from the computation? Imagine that they have
border style hidden.
I would expect more some minimum mechanism. My impression is that the exclusion
of frames at the CalcDominantBorder calls will create problems once a hidden
style is defined on any of those excluded frames.</pre></div><div class="change-set" id="c148"><div class="comment" data-id="2038196" data-no="148"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-148" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a148850180_102998"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a148850180_102998"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-148"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-148" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c148">Comment 148</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-02 09:06 PST" data-time="1073063178">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-148">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-148" data-comment-id="2038196"><span class="quote">&gt; To summarize I would prefer if this function can be reorganized before any
&gt; further calls are added. I filed <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - reorganize CalcDominantBorder"
   href="/show_bug.cgi?id=229883">bug 229883</a> for this.</span >

If this is done (and it would be fine with me), I would say the calls should
still be added per this patch, just ifdefed out.  That way lxr searches will
show it when <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - reorganize CalcDominantBorder"
   href="/show_bug.cgi?id=229883">bug 229883</a> is being fixed (and they can be fixed to do the right
thing then).</pre></div><div class="change-set" id="c149"><div class="comment" data-id="2038209" data-no="149"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-149" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a148850180_102998"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a148850180_102998"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-149"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-149" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c149">Comment 149</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-02 09:24 PST" data-time="1073064258">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-149">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-149" data-comment-id="2038209"><span class="quote">&gt; I would like to propose to spin of the border collapse part into a separate
&gt; patch. It will otherwise jeopardize the 1.7a timetable for the whole patch.</span >

You want me to extricate the border collapse parts so that we check in one
behavior (ignoring borders) and during the next release cycle (1.8a) change it
to another (accounting for borders)??


Right now, my main concern wrt release timetables is whether I'll be able to
handle all these comments in time for the freeze... :) (I won't have time to
work on it this week.)


<span class="quote">&gt; A continuous bc border is that the thinnest continuous line?</span >

No, it is the result of collapsing all the continuous borders on that edge.
For vertical lines, this is table, colgroup, column.
For horizontal lines, this is table, rowgroup, row.

This is done so that backgrounds will line up along the edge.

Cell borders are not continuous on a line: they are segments along it.
Therefore they don't get counted. For example, setting a thick border
on the leftmost cell should not shift the row background over; this way
a striped background set on &lt;tr&gt; will line up across rows even if the
cells are assigned arbitrary border widths.

I really ought to write this up.</pre></div><div class="change-set" id="a150260158_20209"><div class="change" id="aa150260158_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a150260158_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a150260158_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a150260158_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a150260158_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a150260158_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-05 17:01 PST" data-time="1073350869">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Fixed background in table cell destroys cell layout completely"
   href="/show_bug.cgi?id=230133">230133</a></div></div></div><div class="change-set" id="c150"><div class="comment" data-id="2051192" data-no="150"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-150" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a150260158_20209"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4054" id="a150260158_20209"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-150"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-150" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c150">Comment 150</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-19 08:14 PST" data-time="1074528859">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-150">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-150" data-comment-id="2051192">For the record, the tests mentioned on this bug so far are currently at:
   <a rel="nofollow" href="http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/">http://fantasai.tripod.com/www-style/2002/table-backgrounds/tests/</a>
   <a rel="nofollow" href="http://dbaron.org/css/test/sec170501">http://dbaron.org/css/test/sec170501</a>
   <a rel="nofollow" href="http://dbaron.org/css/test/sec170501a">http://dbaron.org/css/test/sec170501a</a>
   <a rel="nofollow" href="http://dbaron.org/css/test/sec170501b">http://dbaron.org/css/test/sec170501b</a>

It would be great if we could get some CSS2.1-test-case-guideline-compliant 
versions of those tests for the CSS2.1 test suite. :-)
   <a rel="nofollow" href="http://www.w3.org/Style/CSS/Test/guidelines.html">http://www.w3.org/Style/CSS/Test/guidelines.html</a></pre></div><div class="change-set" id="a152008930_20209"><div class="change" id="aa152008930_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a152008930_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a152008930_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a152008930_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a152008930_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a152008930_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-25 22:47 PST" data-time="1075099641">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - Empty page shown in Mozilla 1.6"
   href="/show_bug.cgi?id=232101">232101</a></div></div></div><div class="change-set" id="a152009868_20209"><div class="change" id="aa152009868_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a152009868_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a152009868_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a152009868_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a152009868_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a152009868_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-25 23:02 PST" data-time="1075100579">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - In multiple table with the same CSS background style it does not work properly"
   href="/show_bug.cgi?id=232108">232108</a></div></div></div><div class="change-set" id="a153099850_20209"><div class="change" id="aa153099850_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a153099850_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a153099850_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a153099850_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a153099850_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a153099850_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-07 13:49 PST" data-time="1076190561">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - CSS ignored after non-supported style element used. Note: new since 1.1 release."
   href="/show_bug.cgi?id=191567">191567</a></div></div></div><div class="change-set" id="c151"><div class="comment" data-id="2068603" data-no="151"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-151" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153099850_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a153099850_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-151"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-151" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c151">Comment 151</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-09 03:18 PST" data-time="1076325482">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-151">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-140946"
         class="attachment obsolete"
         data-id="140946" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="nsTablePainter.h">
      <meta itemprop="contentSize" content="8233">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=140946" itemprop="contentUrl">
        <span id="att-140946-description" itemprop="description">nsTablePainter.h (not quite done)</span></a> (obsolete)
        — <a href="attachment.cgi?id=140946&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div></div><div class="change-set" id="c152"><div class="comment" data-id="2068607" data-no="152"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-152" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153099850_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a153099850_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-152"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-152" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c152">Comment 152</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-09 03:25 PST" data-time="1076325919">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-152">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-140947"
         class="attachment obsolete"
         data-id="140947" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="nsTablePainter.cpp">
      <meta itemprop="contentSize" content="20305">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=140947" itemprop="contentUrl">
        <span id="att-140947-description" itemprop="description">(not quite done)</span></a> (obsolete)
        — <a href="attachment.cgi?id=140947&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-152" data-comment-id="2068607">Latest patch will be up at
<a rel="nofollow" href="http://fantasai.tripod.com/Mozilla/bugs/4510/patch.txt">http://fantasai.tripod.com/Mozilla/bugs/4510/patch.txt</a>

I'm not quite done, but nsTablePainter.* are, minus some comments, mostly ready
for review. I'm still going over the nsTableFrame portions of the patch. I'm
extremely busy tomorrow, though, so I thought I'd post these for now in case
you (bz, bernd) wanted to look it over sooner rather than later.

Responses to some of the comments:


<span class="quote">&gt; Is there any reason these are two separate functions for table rows but
&gt; combined into a single function for table row groups?  It would be better
&gt; to be consistent, imo.</span >

Return value is void now, so n/a.


 &gt; Comment clearly in here why the cellSpacingY affects all these heights,
please.
 &gt; Also comment why cellspacing affects origins.

 That should be documented in CSS2.1

 &gt;+	   CalcDominateBorder(this, cgFrame, colFrame, nsnull, nsnull,
 &gt;+			      nsnull, PR_TRUE, NS_SIDE_RIGHT, PR_TRUE, t2p,
//XXXfr why true?
 &gt;
 &gt; You added this code... why did you use true?

 I just guessed based on what I saw elsewhere. I don't know what it does,
 which is why I ask.

<span class="quote">&gt; Is there a good reason to inline this?  It seems like a nontrivial bit of
&gt; code, especially if it's called often.</span >

 It's only called once.

<span class="quote">&gt; This is increasing the size of nsTableRowFrame, and I _know_ we have lots
&gt; of those....</span >

 As discussed, I'll file a bug on moving that into a frame property.

<span class="quote">&gt; -  PRBool paintChildren   = PR_TRUE;
&gt; +  PRBool paintChildren = PR_TRUE;</span >
&gt;
<span class="quote">&gt; Why make changes like that?  Just muddles up the CVS history....</span >

neater code for the next person to read?</pre></div><div class="change-set" id="a153235209_9018"><div class="change" id="aa153235209_9018">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153235209_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_9018" id="a153235209_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a153235209_9018"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a153235209_9018">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a153235209_9018">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-09 03:25 PST" data-time="1076325920">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=135354&amp;action=edit"
           title="nsTableUnderlay.h"
           class=""
        >Attachment #135354</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=135355&amp;action=edit"
           title="nsTableUnderlay.cpp"
           class=""
        >Attachment #135355</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c153"><div class="comment" data-id="2068891" data-no="153"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-153" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a153235209_9018"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a153235209_9018"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-153"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-153" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c153">Comment 153</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-09 09:53 PST" data-time="1076349196">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-153">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-153" data-comment-id="2068891"><span class="quote">&gt; That should be documented in CSS2.1</span >

Then point to the relevant spec section here....  That at least tells people
where to look for the reasons for that code.</pre></div><div class="change-set" id="a153264763_20209"><div class="change" id="aa153264763_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a153264763_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a153264763_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a153264763_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a153264763_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a153264763_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-09 11:37 PST" data-time="1076355474">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - {inc} [BC] In some large tables the vertical seperators are not shown (See attached example file)"
   href="/show_bug.cgi?id=233532">233532</a></div></div></div><div class="change-set" id="c154"><div class="comment" data-id="2070211" data-no="154"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-154" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a153264763_20209"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a153264763_20209"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-154"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-154" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c154">Comment 154</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-10 12:01 PST" data-time="1076443270">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-154">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-154" data-comment-id="2070211">&#64;&#64; -5731,27 +5750,53 &#64;&#64; nsTableFrame::CalcBCBorders(nsIPresConte
.
.
.
+CalcDominantBorder(this, cgFrame, colFrame, nsnull, nsnull,
+                   nsnull, PR_TRUE, NS_SIDE_RIGHT, PR_TRUE, t2p, //XXXfr why true?

so what does this code do IMHO,
it looks for the table, the colgroupframe and colframe It queries for all of
them right border. If the borders are the result of the rules attribute then
they should be ignored. Furthermore the owner should be the adjacent frame.
Afterwards only the owner width is used. If the request is going for the last
PR_TRUE then the answer is it doesnt matter, you need the owner only when you
store in the cellmap. If this request is for the first PR_TRUE then it really
matters. So we are at the top row and we query for the right side of these
frames, only for the rightmost edge we are certain that we hit an outer edge of
the table for all others we know that we are inside the table. So in once case
this should be PR_TRUE and in the majority of cases PR_FALSE. In the light of
<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Table's &quot;rules&quot; should be implemented with CSS equivalent"
   href="/show_bug.cgi?id=43178">bug 43178</a> I think my <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c147">comment 147</a> makes sense because it would free you from
fixing this.</pre></div><div class="change-set" id="c155"><div class="comment" data-id="2070860" data-no="155"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-155" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153264763_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a153264763_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-155"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-155" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c155">Comment 155</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-10 19:27 PST" data-time="1076470024">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-155">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-141121"
         class="attachment patch obsolete"
         data-id="141121" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="patch.txt">
      <meta itemprop="contentSize" content="96447">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=141121">
          <a class="link" href="attachment.cgi?id=141121&amp;action=diff">
        <span id="att-141121-description" itemprop="description">patch</span></a> (obsolete)
        — <a href="attachment.cgi?id=141121&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=141121">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-155" data-comment-id="2070860">newest nsTablePainter is up at
<a rel="nofollow" href="http://fantasai.tripod.com/Mozilla/bugs/4510">http://fantasai.tripod.com/Mozilla/bugs/4510</a>
I'll attach it once bz says its good enough :)</pre></div><div class="change-set" id="a153379314_9018"><div class="change" id="aa153379314_9018">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153379314_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_9018" id="a153379314_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a153379314_9018"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a153379314_9018">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a153379314_9018">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-10 19:27 PST" data-time="1076470025">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=135353&amp;action=edit"
           title="patch"
           class=""
        >Attachment #135353</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=140946&amp;action=edit"
           title="nsTablePainter.h (not quite done)"
           class=""
        >Attachment #140946</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=140947&amp;action=edit"
           title="(not quite done)"
           class=""
        >Attachment #140947</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c156"><div class="comment" data-id="2070863" data-no="156"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-156" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153379314_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a153379314_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-156"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-156" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c156">Comment 156</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-10 19:32 PST" data-time="1076470332">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-156">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-156" data-comment-id="2070863">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=141121" name="attach_141121" title="patch">attachment 141121</a> <a href="/attachment.cgi?id=141121&amp;action=edit" title="patch">[details]</a> <a href="/attachment.cgi?id=141121&amp;action=diff" title="patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=141121'>[review]</a>
patch

forgot to mention: the only difference between the nsTablePainter files
previously attached and the ones I just put up is the comments and a couple
lines I swapped in PaintCell (moved the get colIndex part below the empty-cells
short-circuit).</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=141121&amp;action=edit"
           title="patch"
           class=""
        >Attachment #141121</a> -
        Flags: superreview?(bzbarsky)</div><div class="change">
        <a href="/attachment.cgi?id=141121&amp;action=edit"
           title="patch"
           class=""
        >Attachment #141121</a> -
        Flags: review?(bernd_mozilla)</div></div></div><div class="change-set" id="c157"><div class="comment" data-id="2070947" data-no="157"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-157" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a153379314_9018"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a153379314_9018"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-157"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-157" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c157">Comment 157</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-10 21:15 PST" data-time="1076476543">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-157">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-157" data-comment-id="2070947">Comments on the separate files:

<span class="quote">&gt; nsTablePainter.h</span >

How about calling it mozTableBackgroundPainter.h?  ;)

<span class="quote">&gt;    /* aPass params indicate whether to paint the element or to just pass</span >
through and

They're called aPassThrough. Change the comment accordingly.

<span class="quote">&gt;     * See Public versions for function descriptions</span >

Why not just put these private methods down with the other private methods and
skip this part?

<span class="quote">&gt;    /** Paint table elements' backgrounds down through table cells
&gt;      * (Cells themselves will only be painted in border collapse)</span >

Maybe better said as &quot;Paint background for the table frame and its children
down through the cells (Cells ... )

<span class="quote">&gt;    /** Paint table row group elements' backgrounds down through table cells
&gt;      * (Cells themselves will only be painted in border collapse)</span >

And then this could be &quot;Paint background for the table row and its children
down.....&quot;

<span class="quote">&gt;    /** Paint table row elements' backgrounds down through table cells
&gt;      * (Cells themselves will only be painted in border collapse)</span >

Likewise.

Feel free to ignore these comments if you think what you wrote is clearer, of
course.  ;)

<span class="quote">&gt;      /** Calculate and set data all values to represent aFrame (which must be</span >
non-null) */

&quot;and set all data values&quot;, perhaps?

<span class="quote">&gt;      /** True if need to set border-collapse border; must call Set beforehand */
&gt;      PRBool ShouldSetBCBorder();</span >

Which Set?  SetFull()?  SetFrame()?  SetBCBorder()?  Some subset thereof?

<span class="quote">&gt;      private:
&gt;        nsStyleBorder* mSynthBorder;</span >

Weird indent; that should line up with the other members.

<span class="quote">&gt;    nsRect               mCellRect; //current cell</span >

&quot;current cell rect&quot;

<span class="quote">&gt; nsTablePainter.cpp</span >

Same naming issue (make it match the classname).

<span class="quote">&gt;TableBackgroundPainter::TableBackgroundData::SetBCBorder(nsMargin&amp; aBorder,</span >

<span class="quote">&gt;    mSynthBorder = new (aPainter-&gt;mPresContext)
&gt;                        nsStyleBorder(aPainter-&gt;mZeroBorder);</span >

So... mZeroBorder is just an optimization or something?  This is the only thing
it's used for, and you could as easily do

     mSynthBorder = new (aPainter-&gt;mPresContext)
                         nsStyleBorder(aPainter-&gt;mPresContext);

right?

<span class="quote">&gt;TableBackgroundPainter::TableBackgroundPainter(nsTableFrame*        aTableFrame,</span >

<span class="quote">&gt;  mZeroBorder.SetBorderStyle(NS_SIDE_TOP, NS_STYLE_BORDER_STYLE_BLANK);</span >

Use STYLE_NONE here.  dbaron just removed NS_STYLE_BORDER_STYLE_BLANK anyway.

<span class="quote">&gt;TableBackgroundPainter::PaintTableFrame(nsTableFrame*         aTableFrame,</span >

<span class="quote">&gt;  tableData.mRect.MoveTo(0,0);</span >

Add &quot;// Put tableData.mRect in the table frame's coordinate system&quot; before that
line.

<span class="quote">&gt;    if (aFirstRowGroup &amp;&amp; aLastRowGroup &amp;&amp; mNumCols &gt; 0) {
&gt;    //only handle non-degenerate tables; we need a more robust BC model
&gt;    //to make degenerate tables' borders reasonable to deal with</span >

Weird indent.

<span class="quote">&gt;      aLastRowGroup-&gt;GetContinuousBCBorderWidth(mP2t, tempBorder);
&gt;      border.bottom = tempBorder.bottom;</span >
&gt;
<span class="quote">&gt;      nsTableRowFrame* rowFrame = aFirstRowGroup-&gt;GetFirstRow();
&gt;      if (rowFrame) {</span >

Why use the row for top and the rowgroup for bottom?  Is there a reason? If so,
comment it here.

<span class="quote">&gt;      border.left = aTableFrame-&gt;GetContinuousLeftBCBorderWidth(mP2t, PR_TRUE);</span >
Likewise -- why use the table's left border but the col's right border above?

<span class="quote">&gt;      nsresult rv = tableData.SetBCBorder(border, this);
&gt;      if (NS_FAILED(rv)) {
&gt;        return rv;
&gt;      }</span >

Need to do &quot;tableData.Destroy(mPresContext);&quot; before returning, no?

<span class="quote">&gt;TableBackgroundPainter::QuirksPaintTable(nsTableFrame* aTableFrame,
&gt;      if (NS_FAILED(rv)) return rv;
&gt;      if (rgRect.Intersects(mDirtyRect) &amp;&amp; !rg-&gt;HasView()
&gt;          &amp;&amp; NS_SUCCEEDED(rv) &amp;&amp; isVisible) {</span >

No need for the NS_SUCCEEDED check -- it can't fail.  ;)

<span class="quote">&gt;          if (NS_FAILED(rv)) return rv;
&gt;          if (mDirtyRect.YMost() &gt; rowRect.y &amp;&amp; !row-&gt;HasView()
&gt;              &amp;&amp; NS_SUCCEEDED(rv) &amp;&amp; isVisible) {</span >

Again, no need for the NS_SUCCEEDED check.

Why checking mDirtyRect.YMost() &gt; rowRect.y instead of checking whether the
rects intersect?  Due to rowspanning cells?  If so, please add a short comment
to that effect.

<span class="quote">&gt;TableBackgroundPainter::PaintTable(nsTableFrame* aTableFrame)</span >

<span class="quote">&gt;    mCols = new ColData[mNumCols];</span >

This allocates mCols.  Since ColData has no constructor, the mColGroup pointers
in all those are uninitialized.

<span class="quote">&gt;      /*Create data struct for column group*/
&gt;      cgData = new TableBackgroundData;
&gt;      if (!cgData) return NS_ERROR_OUT_OF_MEMORY;</span >

Now some of the points in mCols are garbage and when you do the deletion loop
over mCols in the destructor you will probably crash.  I'd add a constructor to
ColData that inits the mColGroup pointer to 0.

This looks great, fantasai!  Thank you very much for the clear up-front
explanation of what this class is trying to do!  Once you make the changes I
just mentioned, these two files are good by me.</pre></div><div class="change-set" id="c158"><div class="comment" data-id="2070948" data-no="158"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-158" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a153379314_9018"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a153379314_9018"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-158"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-158" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c158">Comment 158</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-10 21:20 PST" data-time="1076476858">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-158">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-158" data-comment-id="2070948"><span class="quote">&gt; How about calling it mozTableBackgroundPainter.h?  ;)</span >

Scratch that.  mozTableBgPainter.h/cpp, please.  The other is just too long.</pre></div><div class="change-set" id="c159"><div class="comment" data-id="2070974" data-no="159"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-159" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a153379314_9018"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a153379314_9018"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-159"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-159" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c159">Comment 159</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-10 21:59 PST" data-time="1076479196">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-159">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-159" data-comment-id="2070974">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=141121" name="attach_141121" title="patch">attachment 141121</a> <a href="/attachment.cgi?id=141121&amp;action=edit" title="patch">[details]</a> <a href="/attachment.cgi?id=141121&amp;action=diff" title="patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=141121'>[review]</a>
patch

<span class="quote">&gt;Index: mozilla/layout/html/table/src/nsTableCellFrame.cpp</span >

<span class="quote">&gt;-NS_METHOD 
&gt;+NS_METHOD
&gt; nsTableCellFrame::Paint(nsIPresContext*      aPresContext,</span >

NS_IMETHODIMP, as long as you're changing this.

Other than that, looks good to me.  sr=bzbarsky.

Don't forget to change Makefile.in if when you rename nsTablePainter.cpp</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=141121&amp;action=edit"
           title="patch"
           class=""
        >Attachment #141121</a> -
        Flags: superreview?(bzbarsky) &rarr; superreview+</div></div></div><div class="change-set" id="a153390507_20209"><div class="change" id="aa153390507_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a153390507_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a153390507_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a153390507_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a153390507_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a153390507_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-10 22:33 PST" data-time="1076481218">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=135353&amp;action=edit"
           title="patch"
           class=""
        >Attachment #135353</a> -
        Flags: <span class="activity-deleted">superreview?(bzbarsky)</span></div><div class="change">
        <a href="/attachment.cgi?id=135353&amp;action=edit"
           title="patch"
           class=""
        >Attachment #135353</a> -
        Flags: <span class="activity-deleted">review?(dbaron)</span></div></div></div><div class="change-set" id="c160"><div class="comment" data-id="2071006" data-no="160"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-160" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a153390507_20209"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a153390507_20209"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-160"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-160" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c160">Comment 160</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-10 23:31 PST" data-time="1076484691">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-160">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-160" data-comment-id="2071006">{ns/moz/}TableBackgroundPainter.{cpp,h} seems like fine names to me.  The length
isn't really a problem.
 
Here are comments on the patch, although I skipped
nsTableFrame::CalcBCBorders because it makes my head hurt, and I haven't
looked through the new files thoroughly yet.
 
nsStyleStruct.cpp:
  This should use a loop (probably the FOR_CSS_SIDES macro, which could
  be moved from nsCSSStruct.h to nsStyleConsts.h).  But since that
  requires changing files in directories you're not otherwise touching,
  and should probably be done with a bit of other cleanup, I filed bug
  233795 to remind myself to do it later.
 
nsCSSRendering.h/cpp:
  aClipRect should probably be called aBGClipRect, since aClipRect is a
  reasonably standard name meaning something else
 
nsTableFrame.h:
  Limiting BC borders to 63 pixels is wrong, and we shouldn't spread
  that elsewhere.  (Same for nsTableRowFrame.h, nsTableRowGroupFrame.h,
  nsTableColFrame.h, nsTableColGroupFrame.h.)
  We should at least have a typedef for a pixel size of a BC border so
  we can find all the places that use PRUint8 or :8.
 
  Shouldn't GetContinuousLeftBCBorderWidth use the
  BC_BORDER_LEFT_HALF_COORD macro for symmetry, and in case the macros
  change?
 
nsTableFrame.cpp:
 
  I dislike the NS_PAINT_FLAG_* business:
 
    NS_PAINT_FLAG_TABLE_CELL_BG_PASS is never set, so it can be removed.
 
    NS_PAINT_FLAG_TABLE_BG_PAINT can be replaced with a function on each
    inner table element class that checks if there's a view between that
    element (inclusive) and the table element (exclusive).  But that is
    probably better done in a later patch (since it would allow the aFlags
    parameter to be removed throughout layout, I think).
 
  The nsTableBackgroundPainter code within nsTableFrame.cpp probably
  shouldn't be conditioned on the table having visibility visible
  (although that currently means the NS_PAINT_FLAG_TABLE_BG_PAINT flag
  isn't set).  Instead, the nsTableBackgroundPainter code should be
  called unconditionally (which it looks like it will handle just fine).
  Likewise for the descendants with views that use it.
 
 
Your use of the terms &quot;direct&quot; and &quot;table-called&quot; in comments in three
places (nsTableRowGroupFrame::Paint, nsTableRowFrame::Paint,
nsBCTableCellFrame::PaintUnderlay) is really making up terminology where
we don't need extra terminology.  What's happening is that an internal
table element has a view (which, for table cells, can be caused by
relative positioning, opacity, etc.).  You should use the term &quot;view&quot;
somewhere in those comments and get rid of the terms &quot;direct&quot; and
&quot;table-called&quot;.
 
In the code in nsTableRow(Group)?Frame that creates a
TableBackgroundPainter, do you want to set the flag tell the rows /
cells not to paint?  Likewise (as I said before), these calls probably
shouldn't be conditional on visibility.
 
nsTableColGroupFrame.cpp:
 
  nsTableColFrame guarantees not touching aBorder.left, so you don't
  need to do the fancy save-and-reassign dance in
  GetContinuousBCBorderWidth.
 
nsTableColFrame:
 
  GetContinuousBCBorderWidth can return void -- nobody uses the result.
 
nsTableCellFrame:
 
  I'm guessing Bernd wants you to remove a bunch of the
  PaintUnderlay-related changes, since they break
  NS_STYLE_TABLE_EMPTY_CELLS_SHOW_BACKGROUND, although removing the
  NS_PAINT_FLAG_TABLE_CELL_BG_PASS flag will allow you to remove the
  aPaintChildren argument.  The comments you added about the flags are
  backwards, but you should notice that when you remove the unneeded
  one.  Also, you're probably better in passing the value of
  GetStyleTableBorder()-&gt;mEmptyCells instead of a boolean and the const
  nsStyleTableBorder* (to get mEmptyCells again, just like for the
  boolean).
 
nsTableBackgroundPainter.cpp (just the parts I've read in order to read
the rest of the patch):
 
  In SetFull, is it really correct to ignore the border if visibility is
  hidden?  That seems wrong.
 
  TableBackgroundPainter::QuirksPaintTable incorrectly applies
  visibility on row groups to rows and cells and visibility on rows to
  cells.
 
  TableBackgroundPainter::QuirksPaintTable compares the frame's rect to
  the dirty area when it needs to use the overflow area (unioned with
  the rect, or something -- it's messy).
 
  &quot;&lt;dfn&gt;passed&lt;/dfn&gt;&quot; seems like a bad term to use because one already
  passes arguments to functions and paints in multiple passes.  How
  about skipped (which conflicts only with aSkipSides)?  Or just &quot;has
  view&quot;?  Likewise aPassThrough / aPass should probably be renamed to
  aSkip or aHasView.
 
  The assertion at the beginning of PaintRow calls itself PaintRowGroup.
  Also, in both those assertions, &quot;Quirks&quot; isn't a caller, so you should
  probably say &quot;must not call ... in quirks mode&quot;.
 
  Have you tested that moving a window over your testcases does the
  right thing?  Try multiple directions, and try movement that's exactly
  horizontal or exactly vertical?  I find the inconsistency in the ways
  you handle coordinate systems between cells/ rows / row groups /
  tables to be confusing, and confusion can easily lead to bugs.
  Perhaps it's better to be consistent with what the rest of the code
  does (always translate, i.e., get rid of mCellRect and call
  TranslateContext for rows as well)?  Perhaps it's OK the way it is,
  but this really seems like premature optimization (which is said to be
  the root of all evil).
 
Could you explain the logic of the changes (which I'm sure are
connected) to:
 * the nsTableReflowState constructor
 * nsTableFrame::SetColumnDimensions
 * nsTableRowFrame::ReflowChildren
 
 
Also, if you want to include added files in your diff, you can just add the
following lines to the end of (or anywhere within)
layout/html/table/src/CVS/Entries:
 
/nsTableBackgroundPainter.h/0/dummy timestamp//
/nsTableBackgroundPainter.cpp/0/dummy timestamp//
 
Once you do that, if you add -N to the options you pass to diff (i.e.,
diff -Npu8), they should show up in the diff.
</pre></div><div class="change-set" id="c161"><div class="comment" data-id="2071010" data-no="161"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-161" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a153390507_20209"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a153390507_20209"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-161"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-161" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c161">Comment 161</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-10 23:42 PST" data-time="1076485379">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-161">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-161" data-comment-id="2071010">As fantasai points out, NS_PAINT_FLAG_TABLE_CELL_BG_PASS is set in the painter,
so forget the bit about removing the flags.

However, this means nsTableCellFrame::Paint needs to set PaintChildren based on
it (just like it now does in one of the two implementations of PaintUnderlay) --
i.e., you need to pull that bit out of the BC version of PaintUnderlay.</pre></div><div class="change-set" id="c162"><div class="comment" data-id="2071024" data-no="162"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-162" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153390507_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a153390507_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-162"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-162" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c162">Comment 162</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-11 00:18 PST" data-time="1076487531">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-162">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-162" data-comment-id="2071024"> 
<span class="quote">&gt; So... mZeroBorder is just an optimization or something?  This is the only </span >
thing 
<span class="quote">&gt; it's used for, and you could as easily do 
&gt;     mSynthBorder = new (aPainter-&gt;mPresContext) 
&gt;                         nsStyleBorder(aPainter-&gt;mPresContext); 
&gt; right? </span >
 
Won't work; I need to give the border a width. 
STYLE_NONE makes it zero-width. And the default width is medium. 
 </pre></div><div class="change-set" id="c163"><div class="comment" data-id="2071033" data-no="163"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-163" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a153390507_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a153390507_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-163"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-163" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c163">Comment 163</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-11 00:38 PST" data-time="1076488684">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-163">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-163" data-comment-id="2071033">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c162">comment #162</a>)

<span class="quote">&gt; Won't work; I need to give the border a width.</span >

What do you mean?  Don't you explicitly assign some border widths immediately
after that?</pre></div><div class="change-set" id="c164"><div class="comment" data-id="2071156" data-no="164"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-164" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153390507_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a153390507_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-164"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-164" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c164">Comment 164</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-11 02:22 PST" data-time="1076494930">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-164">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-164" data-comment-id="2071156">STYLE_NONE means there's no border; i.e. the border width must calculate to zero
no matter what it's specified value.</pre></div><div class="change-set" id="c165"><div class="comment" data-id="2071384" data-no="165"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-165" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a153390507_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a153390507_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-165"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-165" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c165">Comment 165</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-11 08:51 PST" data-time="1076518269">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-165">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-165" data-comment-id="2071384">Oh, hm... So do we need to restore STYLE_BLANK then?</pre></div><div class="change-set" id="c166"><div class="comment" data-id="2071548" data-no="166"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-166" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a153390507_20209"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a153390507_20209"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-166"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-166" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c166">Comment 166</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-11 11:20 PST" data-time="1076527206">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-166">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-166" data-comment-id="2071548">I looked at the bc part between
<a rel="nofollow" href="http://bugzilla.mozilla.org/attachment.cgi?id=141121&amp;action=diff#mozilla/layout/html/table/src/nsTableFrame.cpp_sec11">http://bugzilla.mozilla.org/attachment.cgi?id=141121&amp;action=diff#mozilla/layout/html/table/src/nsTableFrame.cpp_sec11</a>
and 
<a rel="nofollow" href="http://bugzilla.mozilla.org/attachment.cgi?id=141121&amp;action=diff#mozilla/layout/html/table/src/nsTableFrame.cpp_sec19">http://bugzilla.mozilla.org/attachment.cgi?id=141121&amp;action=diff#mozilla/layout/html/table/src/nsTableFrame.cpp_sec19</a>
They look OK to me.

I am not too worried about NS_STYLE_TABLE_EMPTY_CELLS_SHOW_BACKGROUND changes
the only wrong place I already mentioned to fantasai. Just for the record
NS_STYLE_TABLE_EMPTY_CELLS_SHOW_BACKGROUND is only available in quirks mode. It
emulates the NN4 which has shown the background for empty cells but not the
border. NS_STYLE_TABLE_EMPTY_CELLS_SHOW_BACKGROUND is used as default, as soon
as empty-cells is either shown or hide this quirk doesn't apply.

<span class="quote">&gt;Here are comments on the patch, although I skipped
&gt;nsTableFrame::CalcBCBorders because it makes my head hurt</span >

You are of course involved in the offer I made to boris, if you rereview the
2300 lines of bc code like you did with the overflow stuff, I will bring the
code in accordance to your review comments. This seems to me necessary as
r=alexsavulov for this type of patch did not ensure  at least readability of the
code. I filed already <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - reorganize CalcDominantBorder"
   href="/show_bug.cgi?id=229883">bug 229883</a> and attached a patch to the bug, to get rid of
the large numbers of arguments to CalcDominantBorder. But I am weak at these
general style coding stuff.</pre></div><div class="change-set" id="c167"><div class="comment" data-id="2071995" data-no="167"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-167" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153390507_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a153390507_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-167"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-167" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c167">Comment 167</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-11 18:42 PST" data-time="1076553739">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-167">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-167" data-comment-id="2071995">I think STYLE_SOLID will work; PaintBackground doesn't paint the borders, it
just uses them for image positioning.</pre></div><div class="change-set" id="c168"><div class="comment" data-id="2072311" data-no="168"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-168" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a153390507_20209"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4054" id="a153390507_20209"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-168"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-168" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c168">Comment 168</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-12 04:53 PST" data-time="1076590426">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-168">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-168" data-comment-id="2072311"><span class="quote">&gt; STYLE_NONE means there's no border; i.e. the border width must calculate to 
&gt; zero no matter what it's specified value.</span >

It must _compute_ to zero, even, so this should happen during the cascade.

e.g.:

   div { border: none 2em red; }
   span { border: inherit; border-style: solid; }

   &lt;div&gt;&lt;span&gt; test &lt;/span&gt;&lt;/div&gt;

...should not have any border. (We currently do this wrong. It works in Opera.)</pre></div><div class="change-set" id="c169"><div class="comment" data-id="2072544" data-no="169"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-169" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153390507_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a153390507_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-169"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-169" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c169">Comment 169</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-12 09:55 PST" data-time="1076608536">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-169">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-169" data-comment-id="2072544">Ian, that is off-topic, and this is a long bug. But since you bring it up:
  <a rel="nofollow" href="http://lists.w3.org/Archives/Public/www-style/2004Feb/0160.html">http://lists.w3.org/Archives/Public/www-style/2004Feb/0160.html</a>
</pre></div><div class="change-set" id="a153747630_20209"><div class="change" id="aa153747630_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a153747630_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a153747630_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a153747630_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a153747630_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a153747630_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-15 01:45 PST" data-time="1076838341">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - Transparent cells don't show row background"
   href="/show_bug.cgi?id=171523">171523</a></div></div></div><div class="change-set" id="c170"><div class="comment" data-id="2080624" data-no="170"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-170" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a153747630_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a153747630_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-170"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-170" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c170">Comment 170</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 14:09 PST" data-time="1077314970">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-170">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-141851"
         class="attachment patch obsolete"
         data-id="141851" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="4510.patch">
      <meta itemprop="contentSize" content="138351">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=141851">
          <a class="link" href="attachment.cgi?id=141851&amp;action=diff">
        <span id="att-141851-description" itemprop="description">patch</span></a> (obsolete)
        — <a href="attachment.cgi?id=141851&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=141851">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-170" data-comment-id="2080624"><span class="quote">&gt; Your use of the terms &quot;direct&quot; and &quot;table-called&quot; in comments in three</span >

The significance of having a view is that it means ::Paint is not
called by an ancestor table element, which would have painted the
element's background for it. Therefore, I prefer to keep those
comments intact. I have, however, added a note about views in the
flag declarations.

<span class="quote">&gt; nsTableColFrame::GetContinuousBCBorderWidth can return void -- nobody uses</span >
the result.

The painter does.

<span class="quote">&gt;  In SetFull, is it really correct to ignore the border if visibility is
&gt;  hidden?  That seems wrong.</span >

Why? If we're not painting the background, then we have no need for
the border.

<span class="quote">&gt; TableBackgroundPainter::QuirksPaintTable compares the frame's rect to
&gt; the dirty area when it needs to use the overflow area</span >

To the best of my knowledge, backgrounds never overflow their respective
elements' mRects.

<span class="quote">&gt; &quot;&lt;dfn&gt;passed&lt;/dfn&gt;&quot; seems like a bad term to use.. aSkip</span >

Skip to me implies that the entire section will be skipped
over. PassThrough emphasizes that we're going through the
section.

Changed &quot;passed&quot; to &quot;passed through&quot;.

<span class="quote">&gt; Have you tested that moving a window over your testcases does the
&gt; right thing?</span >

Yes.

<span class="quote">&gt; Could you explain the logic of the changes (which I'm sure are
&gt; connected) to:</span >

Makes the row and column dimensions start at the first cell border
edge rather than the table edge. See &quot;Background Boundaries&quot; in
<a rel="nofollow" href="http://fantasai.tripod.com/www-style/2002/table-backgrounds/">http://fantasai.tripod.com/www-style/2002/table-backgrounds/</a></pre></div><div class="change-set" id="a154224260_9018"><div class="change" id="aa154224260_9018">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a154224260_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_9018" id="a154224260_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a154224260_9018"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a154224260_9018">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a154224260_9018">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 14:09 PST" data-time="1077314971">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=141121&amp;action=edit"
           title="patch"
           class=""
        >Attachment #141121</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a154224746_9018"><div class="change" id="aa154224746_9018">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a154224746_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_9018" id="a154224746_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a154224746_9018"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a154224746_9018">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a154224746_9018">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 14:17 PST" data-time="1077315457">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=141851&amp;action=edit"
           title="patch"
           class=""
        >Attachment #141851</a> -
        Flags: superreview?(dbaron)</div><div class="change">
        <a href="/attachment.cgi?id=141851&amp;action=edit"
           title="patch"
           class=""
        >Attachment #141851</a> -
        Flags: review?(bernd_mozilla)</div></div></div><div class="change-set" id="c171"><div class="comment" data-id="2084574" data-no="171"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-171" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a154224746_9018"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a154224746_9018"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-171"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-171" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c171">Comment 171</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-25 10:19 PST" data-time="1077733187">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-171">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-171" data-comment-id="2084574">I think you should revert the GetRowGroupFrame change or modify it to compile on
win with VC.

e:/moz_src/mozilla/layout/html/table/src/nsTableFrame.cpp(1233) : error C2724:
'GetRowGroupFrame' : 'static' should not be used on member functions defined at
file scope 
<a rel="nofollow" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccore/html/C2724.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccore/html/C2724.asp</a></pre></div><div class="change-set" id="c172"><div class="comment" data-id="2084614" data-no="172"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-172" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a154224746_9018"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a154224746_9018"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-172"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-172" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c172">Comment 172</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-25 11:10 PST" data-time="1077736215">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-172">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-172" data-comment-id="2084614">The trick is that for static member functions you're supposed to say |static|
when you declare it but not when you define it.</pre></div><div class="change-set" id="c173"><div class="comment" data-id="2084656" data-no="173"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-173" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a154224746_9018"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a154224746_9018"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-173"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-173" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c173">Comment 173</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-25 11:56 PST" data-time="1077738977">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-173">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-173" data-comment-id="2084656">somehow VC++ doesnt like the  access to the private member variables
mPresContext and mZeroBorder at the following snippet. My first guess is that
you either need a get function or change the arguments of this function.

nsresult
TableBackgroundPainter::TableBackgroundData::SetBCBorder(nsMargin&amp; aBorder,
                                                         TableBackgroundPainter*
aPainter)
{
  NS_PRECONDITION(aPainter, &quot;null painter&quot;);
  if (!mSynthBorder) {
    mSynthBorder = new (aPainter-&gt;mPresContext)
                        nsStyleBorder(aPainter-&gt;mZeroBorder);
    if (!mSynthBorder) return NS_ERROR_OUT_OF_MEMORY;

}
e:/moz_src/mozilla/layout/html/table/src/nsTablePainter.cpp(209) : error C2248:
&quot;mPresContext&quot; : cannot access mPresContext declared in class
&quot;TableBackgroundPainter&quot; 
        e:/moz_src/mozilla/layout/html/table/src/nsTablePainter.h(247) : see
declaration of 'mPresContext'
e:/moz_src/mozilla/layout/html/table/src/nsTablePainter.cpp(210) : error C2248:
&quot;mZeroBorder&quot; :  cannot access mZeroBorder declared in class
&quot;TableBackgroundPainter&quot; 
        e:/moz_src/mozilla/layout/html/table/src/nsTablePainter.h(263) : see
declaration of  'mZeroBorder'

<a rel="nofollow" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccore/html/C2248.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccore/html/C2248.asp</a></pre></div><div class="change-set" id="c174"><div class="comment" data-id="2084662" data-no="174"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-174" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a154224746_9018"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a154224746_9018"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-174"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-174" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c174">Comment 174</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-25 12:02 PST" data-time="1077739330">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-174">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-174" data-comment-id="2084662">Since different versions of the C++ standard have different rules on member
access and nested classes, it's best to declare all nested classes or structs
this way:

class Container {

    // ...

    class Nested;
    friend class Nested;
    class Nested {
        // ...
    };

    // ...
};

so that the nested class is a friend of its containing class (which does nothing
in the current C++ standard, but did something in the 1998 version).</pre></div><div class="change-set" id="c175"><div class="comment" data-id="2084667" data-no="175"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-175" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a154224746_9018"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a154224746_9018"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-175"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-175" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c175">Comment 175</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-25 12:13 PST" data-time="1077740010">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-175">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-175" data-comment-id="2084667">Even then you may need to make those members protected, not private.</pre></div><div class="change-set" id="c176"><div class="comment" data-id="2085634" data-no="176"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-176" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a154224746_9018"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a154224746_9018"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-176"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-176" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c176">Comment 176</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-26 11:24 PST" data-time="1077823489">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-176">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-176" data-comment-id="2085634">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=141851" name="attach_141851" title="patch">attachment 141851</a> <a href="/attachment.cgi?id=141851&amp;action=edit" title="patch">[details]</a> <a href="/attachment.cgi?id=141851&amp;action=diff" title="patch">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=141851'>[review]</a>
patch

 I removed the static at
nsTableRowGroupFrame*
nsTableFrame::GetRowGroupFrame(nsIFrame* aFrame,
			       nsIAtom*  aFrameTypeIn)
further I added 

    struct TableBackgroundData;
    friend struct TableBackgroundData;
before the 
    MOZ_DECL_CTOR_COUNTER(TableBackgroundData)

With these changes I could compile it with VC++ 6.0.
Then I added a 

nsTableFrame* table = (nsTableFrame*)aTableFrame-&gt;GetFirstInFlow(); 
nsFrameList&amp; colGroupList = table-&gt;GetColGroups();

as the colgroup list is only valid on the first table frame. I wonder 
if it would be better to incorporate this into the getcolgroups function

Further I replaced all PR_FALSE arguments in the PaintBackgroundWithSC calls
with PR_TRUE
otherwise we would paint the backgrounds during printing even if the user
deselected it 
in the page setup.

with those changes r+</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=141851&amp;action=edit"
           title="patch"
           class=""
        >Attachment #141851</a> -
        Flags: review?(bernd_mozilla) &rarr; review+</div></div></div><div class="change-set" id="c177"><div class="comment" data-id="2088452" data-no="177"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-177" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a154224746_9018"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a154224746_9018"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-177"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-177" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c177">Comment 177</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-29 14:46 PST" data-time="1078094815">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-177">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-142639"
         class="attachment patch"
         data-id="142639" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="4510.patch">
      <meta itemprop="contentSize" content="138876">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=142639">
          <a class="link" href="attachment.cgi?id=142639&amp;action=diff">
        <span id="att-142639-description" itemprop="description">final patch (?)</span></a>
        — <a href="attachment.cgi?id=142639&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=4510&attachment=142639">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-177" data-comment-id="2088452">Made all the changes Bernd mentioned, and switched some casts over to
NS_STATIC_CAST per dbaron's instructions. r/sr?</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=141851&amp;action=edit"
           title="patch"
           class=""
        >Attachment #141851</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a155094717_20209"><div class="change" id="aa155094717_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a155094717_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a155094717_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a155094717_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a155094717_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a155094717_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-01 15:57 PST" data-time="1078185428">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [strict] column background + colspan problem"
   href="/show_bug.cgi?id=88260">88260</a></div></div></div><div class="change-set" id="c178"><div class="comment" data-id="2091366" data-no="178"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-178" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a155094717_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a155094717_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-178"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-178" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c178">Comment 178</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-03 15:08 PST" data-time="1078355284">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-178">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-178" data-comment-id="2091366">So what's the status of the issues raised in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c160">comment 160</a>?  I assume that last
patch addresses them?  If so, please let me know and I will try to sr it this
Saturday.   We seem to have ended up with three reviewers and two reviews that
need to happen.... and no one being sure what's going on.</pre></div><div class="change-set" id="c179"><div class="comment" data-id="2091395" data-no="179"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-179" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a155094717_20209"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a155094717_20209"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-179"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-179" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c179">Comment 179</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-03 15:35 PST" data-time="1078356944">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-179">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-179" data-comment-id="2091395">Yeah, the second-to-last patch fixed them. See <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c170">comment 170</a>.

Further responses:

<span class="quote">&gt; {ns/moz/}TableBackgroundPainter.{cpp,h} </span >

Kept as nsTablePainter, per discussion on IRC.


<span class="quote">&gt; nsStyleStruct.cpp:</span >

dbaron says he filed a bug already.
 
<span class="quote">&gt; aClipRect should probably be called aBGClipRect</span >

Done.

<span class="quote">&gt;  Limiting BC borders to 63 pixels ... typedef for a pixel size of a BC border</span >

Typedefed BCPixelSize.
 
<span class="quote">&gt; Shouldn't GetContinuousLeftBCBorderWidth use the BC_BORDER_LEFT_HALF_COORD macro</span >

Don't see how this comment applies.
 
<span class="quote">&gt; The nsTableBackgroundPainter should be called unconditionally.</span >

Fixed.
 
<span class="quote">&gt; In the code in nsTableRow(Group)?Frame that creates a
&gt; TableBackgroundPainter, do you want to set the flag tell the rows /
&gt; cells not to paint?</span >

Fixed.
 
<span class="quote">&gt; don't need to do the fancy save-and-reassign dance in GetContinuousBCBorderWidth.</span >

Fixed.

<span class="quote">&gt; break NS_STYLE_TABLE_EMPTY_CELLS_SHOW_BACKGROUND</span >

Fixed.

<span class="quote">&gt;  TableBackgroundPainter::QuirksPaintTable incorrectly applies visibility</span >

Fixed.

<span class="quote">&gt; say &quot;must not call ... in quirks mode&quot;.</span >

Fixed.</pre></div><div class="change-set" id="c180"><div class="comment" data-id="2093942" data-no="180"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-180" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a155094717_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a155094717_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-180"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-180" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c180">Comment 180</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-06 14:56 PST" data-time="1078613815">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-180">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-180" data-comment-id="2093942">I'll still try to get to this tonight or tomorrow morning, if we want to land
this for 1.7b.  I personally feel that that's a reasonable course of action.  If
someone disagrees, please say so...</pre></div><div class="change-set" id="c181"><div class="comment" data-id="2094853" data-no="181"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-181" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a155094717_20209"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a155094717_20209"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-181"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-181" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c181">Comment 181</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-07 22:41 PST" data-time="1078728104">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-181">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-181" data-comment-id="2094853">Boris, I disagree. Due to my limited time (and knowledge) resources, I can't
make sure that I have during the the freeze enough resources to iron out more
than regression. This code is large, at least IMHO, so my guess is we will have
more than just one critical regression.The patch is so clearly alpha material,
that I thought it might be possible to get it in in early beta, but I refuse to
go days before the freeze. If you could make the sr so that it goes into 1.8a I
would be already delighted.</pre></div><div class="change-set" id="c182"><div class="comment" data-id="2094854" data-no="182"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-182" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a155094717_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a155094717_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-182"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-182" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c182">Comment 182</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-07 22:50 PST" data-time="1078728608">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-182">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-182" data-comment-id="2094854">Yeah, I can definitely make sure I sr in time for 1.8a (well before, in fact). 
I just hate missing the boat two milestones in a row now.... :(  But if you have
misgivings about this patch, then we shouldn't.</pre></div><div class="change-set" id="c183"><div class="comment" data-id="2095072" data-no="183"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-183" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a155094717_20209"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a155094717_20209"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-183"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-183" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c183">Comment 183</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-08 06:55 PST" data-time="1078757707">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-183">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-183" data-comment-id="2095072">I agree with slipping to 1.8a. This is the kind of thing where we've been wrong
forever, and another few months of being wrong the same way is no big deal, and
far preferable to the chance of being wrong in a different way for just a few
months.</pre></div><div class="change-set" id="c184"><div class="comment" data-id="2095084" data-no="184"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-184" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a155094717_20209"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a155094717_20209"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-184"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-184" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c184">Comment 184</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-08 07:12 PST" data-time="1078758745">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-184">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-184" data-comment-id="2095084">I think we should get this in for 1.7b.  We've got plenty of time before 1.7b
releases, never mind after it, to see if things go wrong.  If they go wrong
badly, we can back it out and reland for 1.8a.  If it's not serious, a few minor
regressions are definitely worth moving towards a process with which we have a
chance of attracting new contributors.</pre></div><div class="change-set" id="c185"><div class="comment" data-id="2095630" data-no="185"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-185" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a155094717_20209"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a155094717_20209"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-185"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-185" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c185">Comment 185</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-08 16:37 PST" data-time="1078792622">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-185">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-185" data-comment-id="2095630">Comment on <span class=""><a href="/attachment.cgi?id=142639" name="attach_142639" title="final patch (?)">attachment 142639</a> <a href="/attachment.cgi?id=142639&amp;action=edit" title="final patch (?)">[details]</a> <a href="/attachment.cgi?id=142639&amp;action=diff" title="final patch (?)">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=4510&amp;attachment=142639'>[review]</a>
final patch (?)

Based on diffing diffs and rereading review comments above, sr=dbaron.	This is
a big patch, we've had a lot of review, and at some point we just need to stop
reviewing and check in.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=142639&amp;action=edit"
           title="final patch (?)"
           class=""
        >Attachment #142639</a> -
        Flags: superreview+</div></div></div><div class="change-set" id="a155703326_3881"><div class="change" id="aa155703326_3881">
    <table class="layout-table change-head reporter" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a155703326_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a155703326_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a155703326_3881"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a155703326_3881">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a155703326_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-08 17:00 PST" data-time="1078794037">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=141851&amp;action=edit"
           title="patch"
           class=""
        >Attachment #141851</a> -
        Flags: <span class="activity-deleted">superreview?(dbaron)</span></div></div></div><div class="change-set" id="c186"><div class="comment" data-id="2095847" data-no="186"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-186" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a155703326_3881"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a155703326_3881"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-186"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-186" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c186">Comment 186</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-08 23:33 PST" data-time="1078817610">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-186">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-186" data-comment-id="2095847">fix checked in, instead of flowers.

Happy Intl. Womens Day Fantasai!!</pre><div class="activity"><div class="change">Status: ASSIGNED &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2002-02-21 07:29 PST" data-time="1014305363">19 years ago</span> &rarr; <span class="rel-time" title="2004-03-08 23:33 PST" data-time="1078817610">17 years ago</span></div><div class="change">Resolution: --- &rarr; FIXED</div></div></div><div class="change-set" id="c187"><div class="comment" data-id="2095993" data-no="187"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-187" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29646" id="a155703326_3881"><img src="https://secure.gravatar.com/avatar/784cf2f734d1d7f90375a7153e02e2eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29646" id="a155703326_3881"><a class="email disabled" href="/user_profile?user_id=29646" > <span class="fna">Chris</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-187"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-187" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c187">Comment 187</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 03:38 PST" data-time="1078832320">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-187">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-187" data-comment-id="2095993">Finally! :) Excellent work all contributors. </pre></div><div class="change-set" id="c188"><div class="comment" data-id="2096211" data-no="188"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-188" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a155703326_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a155703326_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-188"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-188" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c188">Comment 188</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 08:50 PST" data-time="1078851002">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-188">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-188" data-comment-id="2096211">Someone should probably go through the dependencies of this bug and see which
ones are now fixed.  I'm not optimistic, though -- many seem like bogus
dependencies.</pre></div><div class="change-set" id="c189"><div class="comment" data-id="2096263" data-no="189"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-189" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a155703326_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a155703326_3881"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-189"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-189" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c189">Comment 189</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 09:51 PST" data-time="1078854687">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-189">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-189" data-comment-id="2096263">I added a number of bugs as dependencies because there was not much point of
testing them until the patch landed...

I'll probably try to go through the deps tonight.</pre></div><div class="change-set" id="c190"><div class="comment" data-id="2096320" data-no="190"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-190" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a155703326_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a155703326_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-190"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-190" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c190">Comment 190</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 10:36 PST" data-time="1078857366">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-190">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-190" data-comment-id="2096320">One other question -- what's now implemented for standards mode is a good bit
closer to quirks mode than the old version of standards mode background
painting.  Are there any reasons we still need the quirks?  If not, should we
file a bug to remove the mode differences when we open for 1.8a?</pre></div><div class="change-set" id="c191"><div class="comment" data-id="2096401" data-no="191"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-191" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a155703326_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a155703326_3881"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-191"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-191" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c191">Comment 191</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 11:36 PST" data-time="1078860983">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-191">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-191" data-comment-id="2096401">There was some discussion of that in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c103">comment 103</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c104">comment 104</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c115">comment 115</a>.

I would be in favor of removing the quirk in 1.8a and seeing what happens,
myself.  The non-quirk behavior seems vastly more preferable in most situations
I can think of....</pre></div><div class="change-set" id="c192"><div class="comment" data-id="2096669" data-no="192"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-192" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1069" id="a155703326_3881"><img src="https://secure.gravatar.com/avatar/44c5ebd5d937c79e6bea7f088578a463?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_1069" id="a155703326_3881"><a class="email " href="/user_profile?user_id=1069" > <span class="fna">Aleksey Nogin</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-192"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-192" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c192">Comment 192</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 13:45 PST" data-time="1078868730">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-192">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-192" data-comment-id="2096669">This commit have added a &quot;may be used uninitialized&quot; warning on brad TBox:

+layout/html/table/src/nsTableFrame.cpp:5679
+ `PRBool gotRowBorder' might be used uninitialized in this function
</pre></div><div class="change-set" id="c193"><div class="comment" data-id="2096689" data-no="193"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-193" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a155703326_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a155703326_3881"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-193"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-193" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c193">Comment 193</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 13:53 PST" data-time="1078869199">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-193">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-193" data-comment-id="2096689">Hmm.. that warning looks correct to me.  We should init it (presumably to true,
given the following code?)</pre></div><div class="change-set" id="c194"><div class="comment" data-id="2096986" data-no="194"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-194" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a155703326_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a155703326_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-194"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-194" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c194">Comment 194</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 16:18 PST" data-time="1078877930">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-194">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-194" data-comment-id="2096986">Hmmm.  My guess was that it should be initialized to false, but I'm not sure.</pre></div><div class="change-set" id="c195"><div class="comment" data-id="2096989" data-no="195"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-195" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a155703326_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a155703326_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-195"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-195" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c195">Comment 195</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 16:21 PST" data-time="1078878113">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-195">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-195" data-comment-id="2096989">Although, actually, iter.IsNewRow() might be guaranteed to be true the first
time through the loop, which would mean it's a bogus warning.</pre></div><div class="change-set" id="c196"><div class="comment" data-id="2097287" data-no="196"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-196" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a155703326_3881"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a155703326_3881"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-196"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-196" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c196">Comment 196</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 22:40 PST" data-time="1078900810">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-196">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-196" data-comment-id="2097287">iter.First calls SetNewGroup wich calls SetNewRow which sets mIsNewRow to true,
so the call to IsNewRow will for the first cell that is iterated over always be
true.
However I think given the difficulties to read the border collapse assembly
code, I will be more explicit that it is PR_FALSE at the start in the patch for
<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - reorganize CalcDominantBorder"
   href="/show_bug.cgi?id=229883">bug 229883</a>, which I delayed to get this patch here up and running first.</pre></div><div class="change-set" id="c197"><div class="comment" data-id="2098324" data-no="197"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-197" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9018" id="a155703326_3881"><img src="https://secure.gravatar.com/avatar/55e113d03e0552e6df90ecbc15acd9b8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_9018" id="a155703326_3881"><a class="email " href="/user_profile?user_id=9018" > <span class="fna">fantasai</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-197"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-197" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c197">Comment 197</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-10 17:49 PST" data-time="1078969777">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-197">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-197" data-comment-id="2098324">Oh, so /this/ is why I had unusually much bugmail. :) Thank you very much,
everyone. *doffs hat and bows*

So, as for Quirks, I was looking over Tantek's shoulder while he pulled up one
of my tests at the Sofitel. I suspect MacIE doesn't do the transparent thing,
because it was definitely painting colgroups as colgroup backgrounds and not
inherited cell backgrounds. So I'm guessing we should be all right with getting
rid of the quirk, although saving it for 1.8a sounds fine to me. Filed <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Remove table background quirk"
   href="/show_bug.cgi?id=237078">bug
237078</a> on the issue.

</pre><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Remove table background quirk"
   href="/show_bug.cgi?id=237078">237078</a></div></div></div><div class="change-set" id="a156021937_17687"><div class="change" id="aa156021937_17687">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a156021937_17687"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_17687" id="a156021937_17687"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a156021937_17687"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a156021937_17687">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a156021937_17687">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-12 09:30 PST" data-time="1079112648">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=141121&amp;action=edit"
           title="patch"
           class=""
        >Attachment #141121</a> -
        Flags: <span class="activity-deleted">review?(bernd_mozilla)</span></div></div></div><div class="change-set" id="c198"><div class="comment" data-id="2123505" data-no="198"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-198" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a156021937_17687"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a156021937_17687"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-198"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-198" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c198">Comment 198</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-04-11 09:28 PDT" data-time="1081700901">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-198">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-198" data-comment-id="2123505">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - table, row, column, *-group backgrounds not working correctly (&lt;col&gt;, &lt;colgroup&gt;, table, style, background)"
   href="/show_bug.cgi?id=4510#c152">comment #152</a>)
<span class="quote">&gt; &gt; This is increasing the size of nsTableRowFrame, and I _know_ we have lots
&gt; &gt; of those....
&gt; 
&gt;  As discussed, I'll file a bug on moving that into a frame property.</span >

Did that ever get filed?</pre></div><div class="change-set" id="a171726766_126797"><div class="change" id="aa171726766_126797">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_126797" id="a171726766_126797"><img src="https://secure.gravatar.com/avatar/421a6eebb7887ff3ac6cc9ea11ed31c9?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_126797" id="a171726766_126797"><a class="email disabled" href="/user_profile?user_id=126797" > <span class="fna">Jaco</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a171726766_126797"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a171726766_126797">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#a171726766_126797">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-09-10 04:57 PDT" data-time="1094817477">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - {inc} [BC] In some large tables the vertical seperators are not shown (See attached example file)"
   href="/show_bug.cgi?id=233532">233532</a></div></div></div><div class="change-set" id="c199"><div class="comment" data-id="2316563" data-no="199"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-199" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_50070" id="a171726766_126797"><img src="https://secure.gravatar.com/avatar/90547e44fc91b3fcf7d8874c5c5b9886?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_50070" id="a171726766_126797"><a class="email disabled" href="/user_profile?user_id=50070" > <span class="fna">charles allen</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-199"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-199" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=4510#c199">Comment 199</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-11-03 20:11 PST" data-time="1099541466">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-199">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-199" data-comment-id="2316563">I think I found a bug in this fix.
See <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [FIX]table column background not right when using the overflow: auto;"
   href="/show_bug.cgi?id=267592">bug 267592</a>
happens in mozilla and firefox</pre></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=4510&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div></div> 
</main> 
</div> 


</body>
</html>