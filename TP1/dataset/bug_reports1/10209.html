<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="10209 - problems with absolute or fixed position on table [ABS POS] [FIX POS]">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=10209">
<meta property="og:description"
      content="RESOLVED (ehsan) in Core - Layout: Tables. Last updated 2013-01-27.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="defect">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="P3">

    <meta name="viewport" content="width=1024">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20200805.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;},&quot;string&quot;:{&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;is_new&quot;:1,&quot;login&quot;:&quot;&quot;}}">
    <title>10209 - problems with absolute or fixed position on table [ABS POS] [FIX POS]</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=10209&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="/showdependencygraph.cgi?id=10209">

      <link rel="Show" title="Bug Activity"
            href="/show_activity.cgi?id=10209">

<link href="https://bugzilla.mozilla.org/static/v20200805.1/skins/yui.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/EditComments/web/styles/inline-editor.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="https://bugzilla.mozilla.org/static/v20200805.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css">



    
<script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/jquery-min.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/yui.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/global.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/util.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/dropdown.js"></script>

      <script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"comments\":{\"cf_tracking_firefox_relnote\":{\"?\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox80\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox82\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr78\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_sumo\":{\"none-needed\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_a11y_review_project_flag\":{\"requested\":\"Description:\\nPlease provide an explanation of the feature or change. Include a description of the user scenario in which it would be used and how the user would complete the task(s).\\nScreenshots and visual UI specs are welcome, but please include sufficient accompanying explanation so that blind members of the accessibility team are able to understand the feature\/change.\\n\\nHow do we test this?\\nIf there is an implementation to test, please provide instructions for testing it; e.g. setting preferences, other preparation, how to trigger the UI, etc.\\n\\nWhen will this ship?\\nTracking bug\/issue:\\nDesign documents (e.g. Product Requirements Document, UI spec):\\nEngineering lead:\\nProduct manager:\\n\\nAll user interface additions and changes must meet the Mozilla Accessibility Release Requirements:\\nhttps:\/\/wiki.mozilla.org\/Accessibility\/Requirements\\nPlease describe the accessibility requirements you considered and what steps you\'ve taken to address them:\\n\\nDescribe any areas of concern to which you want the accessibility team to give special attention:\"},\"cf_tracking_firefox79\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox81\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr68\":{\"?\":\"[Tracking Requested - why for this release]:\"}},\"types\":[\"tracking\"],\"flags\":{\"project\":{\"cf_tracking_firefox_sumo\":\"---\",\"cf_root_cause\":\"---\",\"cf_fission_milestone\":\"---\",\"cf_webcompat_priority\":\"---\",\"cf_a11y_review_project_flag\":\"---\"},\"tracking\":{\"cf_status_firefox_esr78\":\"---\",\"cf_tracking_firefox7\":\"-\",\"cf_tracking_firefox82\":\"---\",\"cf_tracking_firefox80\":\"---\",\"cf_tracking_firefox_esr78\":\"---\",\"cf_tracking_firefox6\":\"+\",\"cf_status_firefox80\":\"---\",\"cf_status_thunderbird_esr68\":\"---\",\"cf_tracking_firefox79\":\"---\",\"cf_tracking_thunderbird_esr68\":\"---\",\"cf_tracking_firefox81\":\"---\",\"cf_tracking_firefox_relnote\":\"---\",\"cf_status_firefox6\":\"unaffected\",\"cf_status_firefox81\":\"---\",\"cf_status_firefox79\":\"---\",\"cf_status_firefox82\":\"---\",\"cf_status_thunderbird_esr78\":\"---\",\"cf_tracking_thunderbird_esr78\":\"---\",\"cf_status_firefox_esr68\":\"---\",\"cf_tracking_firefox_esr68\":\"---\"}}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 10209;
  BUGZILLA.bug_title = '10209 - problems with absolute or fixed position on table [ABS POS] [FIX POS]';
  BUGZILLA.bug_summary = 'problems with absolute or fixed position on table [ABS POS] [FIX POS]';
  BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=10209';
  BUGZILLA.bug_keywords = 'css2, dev-doc-complete, testcase',
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BugModal/web/comments.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/bugzilla-readable-status-min.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/field.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/comments.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/lib/prism.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/GoogleAnalytics/web/js/analytics.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/js/lib/md5.min.js"></script><script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp" src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/Review/web/js/badge.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=10209">
<link rel="shorturl" href="https://bugzilla.mozilla.org/10209"><meta name="google-analytics" content="UA-36116321-3" data-location="https://bugzilla.mozilla.org/bug/show-modal" data-title="10209 - problems with absolute or fixed position on table [ABS POS] [FIX POS]">
<script async src="https://www.google-analytics.com/analytics.js"></script><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="wrapper">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<header id="header" role="banner">
  <div class="inner">
    <h1 id="header-title" class="title"><a href="https://bugzilla.mozilla.org/home" title="Go to home page">Bugzilla</a></h1>
    <form role="search" id="header-search" class="quicksearch" action="/buglist.cgi" data-no-csrf>
      <section class="searchbox-outer dropdown" role="combobox" aria-expanded="false" aria-haspopup="listbox"
               aria-labelledby="header-search-label" aria-owns="header-search-dropdown">
        <h2 id="header-search-label">Quick Search</h2>
        <span class="icon" aria-hidden="true"></span>
        <input role="searchbox" id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" placeholder="Search Bugs"
               title="Enter a bug number or some search terms" aria-controls="header-search-dropdown"
               aria-label="Quick Search"><div id="header-search-dropdown" class="dropdown-content right" role="listbox" style="display: none;">
  <div id="header-search-dropdown-wrapper">
  </div>
</div>
      </section>
    </form>
    <nav id="header-nav">
      <ul class="links">
        <li class="link-browse">
          <a href="/describecomponents.cgi" title="Browse bugs by component">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Browse</span>
          </a>
        </li>
        <li class="link-search">
          <a href="/query.cgi?format=advanced" title="Search bugs using various criteria">
            <span class="icon" aria-hidden="true"></span>
            <span class="label">Advanced Search</span>
          </a>
        </li>
      </ul>
      <div class="dropdown">
        <button type="button" id="header-tools-menu-button" class="dropdown-button minor" title="More tools…"
                aria-label="More tools…" aria-expanded="false" aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a href="/report.cgi" role="menuitem" tabindex="-1">Reports</a>
          </li>
            <li role="separator"></li>
            <li role="presentation">
              <a href="https://bmo.readthedocs.io/en/latest/" role="menuitem" tabindex="-1">Documentation</a>
            </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links">
          <li id="moz_new_account_container_top"><a href="/createaccount.cgi">New Account</a></li><li id="mini_login_container_top">
  <a id="login_link_top" href="/show_bug.cgi?id=10209&amp;GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden"><span id="github_mini_login_top" class="mini_login_top">
    <form method="post" action="/github.cgi">
      <input type="hidden" name="github_secret" value="9GgvHuPgQzvsfV5OmYh1QfdKOyn3HpMwSt2lTRDdvQDxcToKXeLUFaDVWNK3zfXt6gy1nwZfNe4uFc5mwywBXZ4kSgnq2p5XB9hhqIMMWBkUwaSY4MHmcYuEVDCNS4avY8yCZnaIjfSgrb6q7InVM3Z6RNk3lH87M0XSxkePxXtei6z2mhlnghTfQoGFzq5F4P0YIhQwWCT2tvFjLjtNFwEI9VvgZWJ0oC0VgW35h9Kz23fWREgNVaQRHoJL0UTe">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi?id=10209">
      <input type="image" src="/extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>

  <form action="/show_bug.cgi?id=10209" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top"
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
<li id="forgot_container_top">
  <a id="forgot_link_top" href="/show_bug.cgi?id=10209&amp;GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1598304556-8oMTZa4pUUTf6TPY6vl5FPc945LFb2DDuwtjjtx1WTw">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul><div id="header-external-links" class="dropdown first">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor" title="Mozilla"
          aria-label="Mozilla" aria-expanded="false" aria-haspopup="true" aria-controls="header-external-menu">
    <img src="https://bugzilla.mozilla.org/static/v20200805.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg" width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" style="display:none;">
    <li role="presentation">
      <a href="https://www.mozilla.org/" role="menuitem" tabindex="-1">Mozilla Home</a>
    </li>
    <li role="separator"></li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem" tabindex="-1">Privacy</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem" tabindex="-1">Cookies</a>
    </li>
    <li role="presentation">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem" tabindex="-1">Legal</a>
    </li>
  </ul>
</div>
  </div>
</header> 


<main id="bugzilla-body" tabindex="-1">
<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary"
      title="Copy bug number and summary to your clipboard">Copy Summary</button>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/10209" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=10209" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent" id="field-status_summary"
>


  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=10209">Bug 10209</a>
      </span>
      <span>
        <span class="bug-time-label">Opened <span class="rel-time" title="1999-07-20 11:32 PDT" data-time="932495564">21 years ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2011-09-29 14:40 PDT" data-time="1317332403">9 years ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field indent edit-hide"
>


  
    <div class=" container">
      

      <h1 id="field-value-short_desc">problems with absolute or fixed position on table [ABS POS] [FIX POS]</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-short_desc">
            problems with absolute or fixed position on table [ABS POS] [FIX POS]

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (Core :: Layout: Tables, defect, P3)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core" id="product-help-link" class="help">Product:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">Core
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">Core</div>
            <div class="description">Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the <a href="https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox">Firefox</a> product. (<a href="https://wiki.mozilla.org/Modules/All#Core">More info</a>)</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=Core"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="/describecomponents.cgi?product=Core&component=Layout%3A%20Tables#Layout%3A%20Tables" id="component-help-link" class="help">Component:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">Layout: Tables
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">Core :: Layout: Tables</div>
            <div class="description"><p>Issues with table layout and rendering.</p>
<p>Example bugs:</p>
<ul>
  <li>border-style: groove not applied for tables with border-collapse: collapse</li>
  <li>incorrect width for table cells with padding, box-sizing: border-box, and table-layout: fixed</li>
</ul>
<p>Specifications covered:</p>
<ul>
  <li>CSS 2.2 (§ Tables)</li>
</ul></div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;component=Layout%3A%20Tables&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=Core&amp;component=Layout%3A%20Tables&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=Core&amp;component=Layout%3A%20Tables"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core" data-component="Layout: Tables"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-version" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-version">
            Trunk

        </span>
    </div>

  
</div>

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>


  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>


  
    <div class="value">
        <span id="field-value-rep_platform">
            x86

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>


  
    <div class="value">
        <span id="field-value-op_sys">
            Linux

        </span>
    </div>

  
</div><div class="field indent inline"
>


  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field contains-buttons" id="field-bug_type"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="defect">
        <span class="icon" aria-hidden="true"></span>defect</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-importance"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="importance-help-link" class="help">Priority:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-importance"><div class="field inline" id="field-priority"
>


  
    <div class="value">
        <span id="field-value-priority">P3
        </span>
    </div>

  
</div><div class="field inline" id="field-bug_severity"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_severity">
            normal

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_points" style="display:none"
>
    <div class="name">Points:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_points">
            ---

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (<span id="readable-bug-status" data-readable-bug-status="{&quot;id&quot;:10209,&quot;cf_tracking_firefox82&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr78&quot;:&quot;---&quot;,&quot;cf_status_firefox80&quot;:&quot;---&quot;,&quot;cf_tracking_firefox6&quot;:&quot;+&quot;,&quot;cf_status_firefox6&quot;:&quot;unaffected&quot;,&quot;cf_root_cause&quot;:&quot;---&quot;,&quot;cf_webcompat_priority&quot;:&quot;---&quot;,&quot;status&quot;:&quot;RESOLVED&quot;,&quot;cf_tracking_firefox_sumo&quot;:&quot;---&quot;,&quot;cf_tracking_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_a11y_review_project_flag&quot;:&quot;---&quot;,&quot;cf_status_firefox_esr68&quot;:&quot;---&quot;,&quot;cf_fission_milestone&quot;:&quot;---&quot;,&quot;flags&quot;:[{&quot;name&quot;:&quot;blocking1.6b&quot;,&quot;status&quot;:&quot;-&quot;},{&quot;status&quot;:&quot;+&quot;,&quot;name&quot;:&quot;in-testsuite&quot;}],&quot;cf_tracking_firefox7&quot;:&quot;-&quot;,&quot;cf_status_firefox_esr78&quot;:&quot;---&quot;,&quot;resolution&quot;:&quot;FIXED&quot;,&quot;cf_tracking_firefox80&quot;:&quot;---&quot;,&quot;priority&quot;:&quot;P3&quot;,&quot;cf_tracking_thunderbird_esr68&quot;:&quot;---&quot;,&quot;cf_tracking_firefox79&quot;:&quot;---&quot;,&quot;cf_status_thunderbird_esr68&quot;:&quot;---&quot;,&quot;cf_tracking_firefox81&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_relnote&quot;:&quot;---&quot;,&quot;keywords&quot;:[&quot;css2&quot;,&quot;dev-doc-complete&quot;,&quot;testcase&quot;],&quot;cf_status_firefox82&quot;:&quot;---&quot;,&quot;cf_status_firefox81&quot;:&quot;---&quot;,&quot;cf_status_firefox79&quot;:&quot;---&quot;,&quot;dupe_of&quot;:null,&quot;target_milestone&quot;:&quot;mozilla10&quot;,&quot;cf_status_thunderbird_esr78&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr68&quot;:&quot;---&quot;}"></span>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-view">RESOLVED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>


  
    <div class="value">
        <span id="field-value-bug_status">
            RESOLVED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>


  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field" id="field-target_milestone"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-target_milestone">
            mozilla10

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_fx_iteration" style="display:none"
>
    <div class="name">Iteration:
    </div>


  
    <div class="value">
        <span id="field-value-cf_fx_iteration">
            ---

        </span>
    </div>

  
</div>


      <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Project Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <td class="tracking-flag-name">a11y-review</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_a11y_review_project_flag-dirty">
  <select id="cf_a11y_review_project_flag" name="cf_a11y_review_project_flag">
        <option value="---"
          id="v4876_cf_a11y_review_project_flag" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Webcompat Priority</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_webcompat_priority-dirty">
  <select id="cf_webcompat_priority" name="cf_webcompat_priority">
        <option value="---"
          id="v4274_cf_webcompat_priority" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Root Cause</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_root_cause-dirty">
  <select id="cf_root_cause" name="cf_root_cause">
        <option value="---"
          id="v4701_cf_root_cause" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">user-doc-firefox</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_sumo-dirty">
  <select id="cf_tracking_firefox_sumo" name="cf_tracking_firefox_sumo">
        <option value="---"
          id="v4660_cf_tracking_firefox_sumo" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Fission Milestone</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_fission_milestone-dirty">
  <select id="cf_fission_milestone" name="cf_fission_milestone">
        <option value="---"
          id="v4222_cf_fission_milestone" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

      <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>


  
    <div class=" container"><div class="flags edit-hide">
    <table class="layout-table tracking-flags">
        <tr>
          <th></th>
          <th>Tracking</th>
          <th>Status</th>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox6</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox6&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=equals&amp;v1=unaffected">unaffected</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox7</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox7&amp;o1=equals&amp;v1=-">-</a>
            </td>
          <td class="tracking-flag-status">---
          </td>
        </tr>
    </table>
  </div>


<div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox6</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox6-dirty">
  <select id="cf_tracking_firefox6" name="cf_tracking_firefox6">
        <option value="+"
          id="v102_cf_tracking_firefox6" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox6-dirty">
  <select id="cf_status_firefox6" name="cf_status_firefox6">
        <option value="unaffected"
          id="v105_cf_status_firefox6" selected
        >unaffected
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox7</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox7-dirty">
  <select id="cf_tracking_firefox7" name="cf_tracking_firefox7">
        <option value="-"
          id="v117_cf_tracking_firefox7" selected
        >-
        </option>
  </select></td>
        <td class="tracking-flag-status"></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">relnote-firefox</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_relnote-dirty">
  <select id="cf_tracking_firefox_relnote" name="cf_tracking_firefox_relnote">
        <option value="---"
          id="v539_cf_tracking_firefox_relnote" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr68</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr68-dirty">
  <select id="cf_tracking_thunderbird_esr68" name="cf_tracking_thunderbird_esr68">
        <option value="---"
          id="v4353_cf_tracking_thunderbird_esr68" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr68-dirty">
  <select id="cf_status_thunderbird_esr68" name="cf_status_thunderbird_esr68">
        <option value="---"
          id="v4347_cf_status_thunderbird_esr68" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr78-dirty">
  <select id="cf_tracking_thunderbird_esr78" name="cf_tracking_thunderbird_esr78">
        <option value="---"
          id="v4823_cf_tracking_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr78-dirty">
  <select id="cf_status_thunderbird_esr78" name="cf_status_thunderbird_esr78">
        <option value="---"
          id="v4829_cf_status_thunderbird_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr68</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr68-dirty">
  <select id="cf_tracking_firefox_esr68" name="cf_tracking_firefox_esr68">
        <option value="---"
          id="v4365_cf_tracking_firefox_esr68" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr68-dirty">
  <select id="cf_status_firefox_esr68" name="cf_status_firefox_esr68">
        <option value="---"
          id="v4407_cf_status_firefox_esr68" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr78</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr78-dirty">
  <select id="cf_tracking_firefox_esr78" name="cf_tracking_firefox_esr78">
        <option value="---"
          id="v4808_cf_tracking_firefox_esr78" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr78-dirty">
  <select id="cf_status_firefox_esr78" name="cf_status_firefox_esr78">
        <option value="---"
          id="v4813_cf_status_firefox_esr78" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox79</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox79-dirty">
  <select id="cf_tracking_firefox79" name="cf_tracking_firefox79">
        <option value="---"
          id="v4791_cf_tracking_firefox79" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox79-dirty">
  <select id="cf_status_firefox79" name="cf_status_firefox79">
        <option value="---"
          id="v4796_cf_status_firefox79" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox80</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox80-dirty">
  <select id="cf_tracking_firefox80" name="cf_tracking_firefox80">
        <option value="---"
          id="v4850_cf_tracking_firefox80" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox80-dirty">
  <select id="cf_status_firefox80" name="cf_status_firefox80">
        <option value="---"
          id="v4855_cf_status_firefox80" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox81</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox81-dirty">
  <select id="cf_tracking_firefox81" name="cf_tracking_firefox81">
        <option value="---"
          id="v4883_cf_tracking_firefox81" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox81-dirty">
  <select id="cf_status_firefox81" name="cf_status_firefox81">
        <option value="---"
          id="v4888_cf_status_firefox81" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox82</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox82-dirty">
  <select id="cf_tracking_firefox82" name="cf_tracking_firefox82">
        <option value="---"
          id="v4915_cf_tracking_firefox82" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox82-dirty">
  <select id="cf_status_firefox82" name="cf_status_firefox82">
        <option value="---"
          id="v4920_cf_status_firefox82" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>

</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: dbaron, Assigned: ehsan)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_251051" ><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=251051" > <span class="fna">ehsan</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_3881" ><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=3881" > <span class="fna">dbaron</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field" id="field-triage_owner"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-triage_owner">
            <div class="vcard vcard_621005" ><img src="https://secure.gravatar.com/avatar/1c99514bfc2388e0cd89d30fc9ff4c37?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=621005" > <span class="fna">svoisen</span></a>
</div>

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>


  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="30">30 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
          <h3 class="module-subtitle" id="module-references-subtitle">
            (Blocks 4 open bugs, <div class="link">
    <a href="http://dbaron.org/css/test/sec1704b" target="_blank"
      rel="noreferrer" title="http://dbaron.org/css/test/sec1704b"
      class="bug-url" data-safe="1">URL</a>
  </div>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug-list" id="field-dependson"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-dependson">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - position:absolute table's top/left 'auto' treated as 0 [ABS POS]"
   href="/show_bug.cgi?id=53663">53663</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: aPrevFrame must be the last continuation in its chain!&quot; with columns, abs pos"
   href="/show_bug.cgi?id=655462">655462</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: unexpected child list&quot; and more"
   href="/show_bug.cgi?id=656130">656130</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Scaling down the body makes the smallest text pieces disappear."
   href="/show_bug.cgi?id=656875">656875</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Google maps stops working after panning around a little"
   href="/show_bug.cgi?id=657182">657182</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Outer table frame's width is set to the width of the containing block"
   href="/show_bug.cgi?id=659828">659828</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Crash [&#64; nsCSSFrameConstructor::FindFrameForContentSibling(nsIContent*, nsIContent*, unsigned char&amp;, int)] with null sibling"
   href="/show_bug.cgi?id=660588">660588</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Scribd pages displayed with missing content on the latest trunk (position:absolute combined with -moz-transform:scale)"
   href="/show_bug.cgi?id=691087">691087</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: aPrevFrame must be the last continuation in its chain!&quot;"
   href="/show_bug.cgi?id=691118">691118</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Redfin map content doesn't update when moving around the map"
   href="/show_bug.cgi?id=691166">691166</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - &quot;ASSERTION: Frames should be removed before destruction&quot; with -moz-column"
   href="/show_bug.cgi?id=691210">691210</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - Tracking bug for web content regressions caused by fixing bug 10209 and bug 87277"
   href="/show_bug.cgi?id=691591">691591</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED INVALID - absolute/fixed-position tables ignore top/bottom CSS for calculating height"
   href="/show_bug.cgi?id=691628">691628</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - Hang using latest nightly"
   href="/show_bug.cgi?id=691824">691824</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Layout issue at gmail reply button context menu"
   href="/show_bug.cgi?id=693107">693107</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Slideshow bar on www.rightmove.co.uk out of place in Firefox 10 (in middle on images)"
   href="/show_bug.cgi?id=693262">693262</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Cannot change options on Travelocity site using mouse"
   href="/show_bug.cgi?id=696739">696739</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Crash [&#64; nsFrameManager::ReResolveStyleContext], in column-set frame with abs.pos. children"
   href="/show_bug.cgi?id=708206">708206</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - HTML Table column/cell width update regression"
   href="/show_bug.cgi?id=729114">729114</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - div with height=100% and overflow renders incorrectly"
   href="/show_bug.cgi?id=729143">729143</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Absolutely (or fixed) positioned table with top and bottom both 0 and auto height is shorter than the viewport"
   href="/show_bug.cgi?id=729337">729337</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Performance regression in moving absolutely positioned block inside table"
   href="/show_bug.cgi?id=729597">729597</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - TH width not updated when changing the width of a cell in the first row that's not the first cell in that row in a fixed-layout table"
   href="/show_bug.cgi?id=735579">735579</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - Incorrect display of table row when changing contents dynamically"
   href="/show_bug.cgi?id=780510">780510</a>
      </div>

        </span>
    </div>

  
</div><div class="field bug-list" id="field-blocked"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-blocked">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_NEW"
   title="NEW - Make the calls to PushAbsoluteContainingBlock in the frame constructor make sense"
   href="/show_bug.cgi?id=203225">203225</a>, <a class="bz_bug_link
          bz_status_NEW"
   title="NEW - better way to find frame's containing block"
   href="/show_bug.cgi?id=239310">239310</a>, <a class="bz_bug_link
          bz_status_NEW"
   title="NEW - Anonymous box container of table with caption should not stretch to fit the caption"
   href="/show_bug.cgi?id=349144">349144</a>, <a class="bz_bug_link
          bz_status_NEW"
   title="NEW - nsIFrame::IsContainingBlock should not check style data"
   href="/show_bug.cgi?id=371452">371452</a>, <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - positioned internal table elements not abs pos containing block"
   href="/show_bug.cgi?id=63895">63895</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Relatively positioned buttons should be abs pos containing block"
   href="/show_bug.cgi?id=437722">437722</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - &quot;ASSERTION: anonymous nodes should not be in child lists&quot;"
   href="/show_bug.cgi?id=439258">439258</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - allow all frame classes (any elements) to be absolute positioning containing blocks when position:relative"
   href="/show_bug.cgi?id=455338">455338</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: containing block height must be constrained&quot; with table, r&amp;a pos"
   href="/show_bug.cgi?id=512749">512749</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: Placeholder relationship should have been torn down already&quot;"
   href="/show_bug.cgi?id=536692">536692</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Incorrect intrinsic width computed for replaced element with intrinsic ratio and parent-dependent style height when ancestor is a scrollframe"
   href="/show_bug.cgi?id=653739">653739</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Crash [&#64; nsAbsoluteContainingBlock::GetChildListName] with null this | ASSERTION: The frame is marked as an abspos container but doesn't have the property: 'absCB'"
   href="/show_bug.cgi?id=665853">665853</a>
      </div>

        </span>
    </div>

  
</div><div class="field" id="field-dependencytree"
>
    <div class="name">
    </div>


  
    <div class=" container">
        <span id="field-value-dependencytree">
        Dependency <a href="/showdependencytree.cgi?id=10209&amp;hide_resolved=1">tree</a>
        / <a href="/showdependencygraph.cgi?id=10209">graph</a>
        </span>
    </div>

  
</div>

    <div class="field bug-list edit-show" id="field-regresses" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug-list edit-show" id="field-regressed_by" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    <div class="field bug-list"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates" id="-help-link" class="help">Duplicates:
        </a>
    </div>


  
    <div class="value">
            <div class="bug-list">
        <span class="bug-type-label iconic" title="defect"
              aria-label="defect" data-type="defect">
          <span class="icon" aria-hidden="true"></span>
        </span><a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - absolute positioning works wrongly in table"
   href="/show_bug.cgi?id=60051">60051</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Absolutely positioned div appears in wrong location in absolutely positioned table"
   href="/show_bug.cgi?id=674265">674265</a>
      </div>

    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-bug_file_loc"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="http://dbaron.org/css/test/sec1704b" target="_blank"
      rel="noreferrer" title="http://dbaron.org/css/test/sec1704b"
      class="bug-url" data-safe="1">dbaron.org/css/test/sec1704b</a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-see_also" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-see_also">
        ---
        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Keywords: css2, dev-doc-complete, testcase)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-alias">
        ---
        </span>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=css2&amp;resolution=---">css2</a>, 
          <a href="/buglist.cgi?keywords=dev-doc-complete&amp;resolution=---">dev-doc-complete</a>, 
          <a href="/buglist.cgi?keywords=testcase&amp;resolution=---">testcase</a>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-status_whiteboard" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>


  
    <div class="value">
        <span id="field-value-status_whiteboard">---
        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_qa_whiteboard" style="display:none"
>
    <div class="name">QA Whiteboard:
    </div>


  
    <div class="value">
        <span id="field-value-cf_qa_whiteboard">
        ---
        </span>
    </div>

  
</div>

    

    <div class="field edit-show" id="field-cf_has_regression_range" style="display:none"
>
    <div class="name">Has Regression Range:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_regression_range">
            ---

        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_has_str" style="display:none"
>
    <div class="name">Has STR:
    </div>


  
    <div class="value">
        <span id="field-value-cf_has_str">
            ---

        </span>
    </div>

  
</div>

    <div class="field" id="field-votes"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>


  
    <div class=" container">
        <span id="field-value-votes">2
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-bug_flags"
>
    <div class="name">Bug Flags:
    </div>


  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_5003" ><a class="email " href="/user_profile?user_id=5003" > <span class="fna">asa</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a136264596_5003"
            class="rel-time-title activity-ref"
            title="17 years ago"
        data-time="1068403213"
      >blocking1.6b</a>
    </td>

    <td class="flag-value">-
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_5003" ><a class="email " href="/user_profile?user_id=5003" > <span class="fna">asa</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Use this flag to nominate bugs for fixing for the 1.6b release. If the bug is deemed critical for the release by drivers&#64;mozilla.org it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release drivers will add a &quot;-&quot; to the flag. " for="flag-51444">blocking1.6b</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-51444-dirty">
      <select id="flag-51444" name="flag-51444"
        title="Use this flag to nominate bugs for fixing for the 1.6b release. If the bug is deemed critical for the release by drivers&#64;mozilla.org it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release drivers will add a &quot;-&quot; to the flag. "
        class="bug-flag">
          <option value="X"></option>
          <option value="-" selected>-</option>
      </select>
    </td>


  </tr>
          </tbody>
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">ehsan</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a384836930_251051"
            class="rel-time-title activity-ref"
            title="9 years ago"
        data-time="1317332494"
      >in-testsuite</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">ehsan</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag-469148">in-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-469148-dirty">
      <select id="flag-469148" name="flag-469148"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" selected>+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr>
          </tbody>
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?" for="flag_type-930">behind-pref</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-930-dirty">
      <select id="flag_type-930" name="flag_type-930"
        title="Is this bug/feature enabled in a release by a pref flag (see https://github.com/mozilla/bug-handling/blob/master/policy/feature-flags.md)?"
        class="bug-flag">
          <option value="X"></option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag tracking inclusion in the desktop Firefox product backlog." for="flag_type-846">firefox-backlog</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-846-dirty">
      <select id="flag_type-846" name="flag_type-846"
        title="Flag tracking inclusion in the desktop Firefox product backlog."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag_type-803">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-803-dirty">
      <select id="flag_type-803" name="flag_type-803"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in-qa-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually" for="flag_type-864">qe-verify</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-864-dirty">
      <select id="flag_type-864" name="flag_type-864"
        title="qe-verify: ? ➜ request to assess whether the bug should be tested manually
qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually"
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Signature:
    </div>


  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (10 files, 21 obsolete files)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=528970">Part 1: Add an API for absolute container support for all frame types</a>
        </div>
        <div>
            <a href="#c26" class="attach-time activity-ref"><span class="rel-time" title="2011-04-28 15:36 PDT" data-time="1304030173">10 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">6.51 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_5038" ><span class="fn">roc</span>
</div>:
              <a href="#c48"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 years ago"
              data-time="1304382188"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=528970&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=528970&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=528970">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=528971">[WIP] Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c27" class="attach-time activity-ref"><span class="rel-time" title="2011-04-28 15:38 PDT" data-time="1304030301">10 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">48.84 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=528971&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=528971&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=528971">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=528973">Reflow parts [WIP -- doesn't even compile, probably doesn't make sense either]</a>
        </div>
        <div>
            <a href="#c28" class="attach-time activity-ref"><span class="rel-time" title="2011-04-28 15:40 PDT" data-time="1304030421">10 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">3.35 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=528973&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=528973&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=528973">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=529036">[WIP] Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c39" class="attach-time activity-ref"><span class="rel-time" title="2011-04-28 21:20 PDT" data-time="1304050851">10 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">27.45 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=529036&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=529036&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529036">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=529229">[WIP] Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c44" class="attach-time activity-ref"><span class="rel-time" title="2011-04-29 16:15 PDT" data-time="1304118940">10 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">80.52 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=529229&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=529229&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529229">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=529545">[WIP] Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c45" class="attach-time activity-ref"><span class="rel-time" title="2011-05-02 12:27 PDT" data-time="1304364475">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">85.32 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=529545&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=529545&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529545">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=529613">Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c46" class="attach-time activity-ref"><span class="rel-time" title="2011-05-02 17:22 PDT" data-time="1304382163">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">86.92 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=529613&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=529613&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529613">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=529728">Part 1: Add an API for absolute container support for all frame types</a>
        </div>
        <div>
            <a href="#c50" class="attach-time activity-ref"><span class="rel-time" title="2011-05-03 08:41 PDT" data-time="1304437285">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">6.57 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=529728&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=529728&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529728">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=529888">Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c53" class="attach-time activity-ref"><span class="rel-time" title="2011-05-03 16:47 PDT" data-time="1304466460">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">87.41 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=529888&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=529888&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529888">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=530198">Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c59" class="attach-time activity-ref"><span class="rel-time" title="2011-05-04 16:58 PDT" data-time="1304553517">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">88.25 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=530198&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=530198&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=530198">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=530448">Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c62" class="attach-time activity-ref"><span class="rel-time" title="2011-05-05 15:39 PDT" data-time="1304635181">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">88.19 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=530448&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=530448&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=530448">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=530450">Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c63" class="attach-time activity-ref"><span class="rel-time" title="2011-05-05 15:54 PDT" data-time="1304636069">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">87.96 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_5038" ><span class="fn">roc</span>
</div>:
              <a href="#c64"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 years ago"
              data-time="1304636069"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=530450&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=530450&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=530450">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=530762">[WIP] Part 3: Make tables absolute positioning containers</a>
        </div>
        <div>
            <a href="#c66" class="attach-time activity-ref"><span class="rel-time" title="2011-05-06 15:37 PDT" data-time="1304721478">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">6.76 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=530762&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=530762&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=530762">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=531218">[WIP] Part 3: Make tables absolute positioning containers</a>
        </div>
        <div>
            <a href="#c71" class="attach-time activity-ref"><span class="rel-time" title="2011-05-09 17:41 PDT" data-time="1304988068">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">16.55 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=531218&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=531218&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=531218">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=531848">[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock</a>
        </div>
        <div>
            <a href="#c84" class="attach-time activity-ref"><span class="rel-time" title="2011-05-11 21:18 PDT" data-time="1305173884">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">35.14 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=531848&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=531848&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=531848">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=532973">[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock</a>
        </div>
        <div>
            <a href="#c89" class="attach-time activity-ref"><span class="rel-time" title="2011-05-17 08:49 PDT" data-time="1305647344">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">34.67 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=532973&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=532973&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=532973">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=533627">[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock</a>
        </div>
        <div>
            <a href="#c90" class="attach-time activity-ref"><span class="rel-time" title="2011-05-19 06:36 PDT" data-time="1305812205">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">36.71 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=533627&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=533627&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=533627">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=534949">Aurora backout</a>
        </div>
        <div>
            <a href="#c100" class="attach-time activity-ref"><span class="rel-time" title="2011-05-24 17:37 PDT" data-time="1306283872">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">93.30 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_5003" ><span class="fn">asa</span>
</div>:
              <a href="#c106"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 years ago"
              data-time="1306283872"
            >
              approval-mozilla-aurora+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_342786" ><span class="fn">mounir</span>
</div>:
              <a href="#a374873670_342786"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 years ago"
              data-time="1307369234"
            >
              checkin+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=534949&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=534949&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=534949">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=534950">[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock</a>
        </div>
        <div>
            <a href="#c101" class="attach-time activity-ref"><span class="rel-time" title="2011-05-24 17:39 PDT" data-time="1306283986">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">36.79 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=534950&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=534950&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=534950">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=538623">part 3.1: Replace IsContainingBlock with GetContainingBlock</a>
        </div>
        <div>
            <a href="#c109" class="attach-time activity-ref"><span class="rel-time" title="2011-06-10 15:53 PDT" data-time="1307746433">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">38.80 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=538623&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=538623&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=538623">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=540345">part 3.1: Replace IsContainingBlock with GetContainingBlock</a>
        </div>
        <div>
            <a href="#c111" class="attach-time activity-ref"><span class="rel-time" title="2011-06-19 13:27 PDT" data-time="1308515267">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">42.28 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bzbarsky</span>
</div>:
              <a href="#c113"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 years ago"
              data-time="1308515267"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=540345&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=540345&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=540345">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=541248">part 3.1: Replace IsContainingBlock with GetContainingBlock</a>
        </div>
        <div>
            <a href="#c114" class="attach-time activity-ref"><span class="rel-time" title="2011-06-22 17:51 PDT" data-time="1308790262">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">43.11 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=541248&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=541248&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=541248">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=541446">part 3.1: Replace IsContainingBlock with GetContainingBlock</a>
        </div>
        <div>
            <a href="#c116" class="attach-time activity-ref"><span class="rel-time" title="2011-06-23 11:37 PDT" data-time="1308854269">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">43.14 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=541446&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=541446&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=541446">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=541837">part 3.1: Replace IsContainingBlock with GetContainingBlock</a>
        </div>
        <div>
            <a href="#c117" class="attach-time activity-ref"><span class="rel-time" title="2011-06-24 15:38 PDT" data-time="1308955126">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">43.86 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=541837&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=541837&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=541837">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=561910">Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c122" class="attach-time activity-ref"><span class="rel-time" title="2011-09-22 15:34 PDT" data-time="1316730896">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">84.59 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_5038" ><span class="fn">roc</span>
</div>:
              <a href="#c123"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 years ago"
              data-time="1316730896"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=561910&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=561910&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=561910">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=561959">Part 2: Implement the absolute positioning support for all frames</a>
        </div>
        <div>
            <a href="#c126" class="attach-time activity-ref"><span class="rel-time" title="2011-09-22 19:57 PDT" data-time="1316746651">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">84.74 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=561959&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=561959&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=561959">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=562556">Part 2.1: Adjust the assertion count on the test case for bug 348729</a>
        </div>
        <div>
            <a href="#c127" class="attach-time activity-ref"><span class="rel-time" title="2011-09-26 15:37 PDT" data-time="1317076639">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">875 bytes,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_5038" ><span class="fn">roc</span>
</div>:
              <a href="#a384582417_5038"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 years ago"
              data-time="1317076639"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=562556&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=562556&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=562556">Splinter Review</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=563282">Trimmed log of when the bug happens with the testcase of bug 637597</a>
        </div>
        <div>
            <a href="#c144" class="attach-time activity-ref"><span class="rel-time" title="2011-09-28 20:16 PDT" data-time="1317266202">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">250.01 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=563282&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=563283">Trimmed log of when the bug happens with the testcase of bug 637597 (only the layer tree)</a>
        </div>
        <div>
            <a href="#c145" class="attach-time activity-ref"><span class="rel-time" title="2011-09-28 20:18 PDT" data-time="1317266304">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">10.10 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=563283&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=563292">Trimmed log of when the bug happens with the testcase of bug 637597 (non-patched build)</a>
        </div>
        <div>
            <a href="#c146" class="attach-time activity-ref"><span class="rel-time" title="2011-09-28 21:14 PDT" data-time="1317269688">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">271.35 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=563292&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="/attachment.cgi?id=563455">Part 4: Mark the reftest for bug 637597 as random</a>
        </div>
        <div>
            <a href="#c152" class="attach-time activity-ref"><span class="rel-time" title="2011-09-29 10:32 PDT" data-time="1317317544">9 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_251051" ><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div></span>
        </div>
        <div class="attach-info">1.22 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_5038" ><span class="fn">roc</span>
</div>:
              <a href="#a384833967_5038"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 years ago"
              data-time="1317317544"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=563455&amp;action=edit">Details</a>
          | <a href="/attachment.cgi?id=563455&amp;action=diff">Diff</a>&#x0020; |
  <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=563455">Splinter Review</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
      <button type="button" id="attachments-obsolete-btn" class="secondary">Show Obsolete</button>
  </div>
  
</footer>
  </div>
</section>



<script nonce="UjUgkfm75zPz9C7dq6F64OzafJUeFXvLJLuAmJYNuPYvNtjp">
  init_module_visibility();
</script>



<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;80.0b8&quot;,&quot;FIREFOX_ESR&quot;:&quot;68.11.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;78.1.0esr&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;81.0a1&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2020-07-27&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2020-07-28&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2020-07-23&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;80.0b8&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;80.0b8&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;79.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2020-08-24&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2020-08-25&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2020-08-20&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="76563" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" ><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" ><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-20 11:32 PDT" data-time="932495564">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-0" data-comment-id="76563">The above URL ( <a rel="nofollow" href="http://www.fas.harvard.edu/~dbaron/css/test/sec1704b">http://www.fas.harvard.edu/~dbaron/css/test/sec1704b</a> ) shouldn't
work completely until <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - implied/anonymous table elements problems"
   href="/show_bug.cgi?id=2479">bug 2479</a> is fixed.  However, there may be some other
problems here, too, so I'm filing a separate bug.

The page involves fixed position on a table (same thing happens for absolute).
What should happen is:

1) fixed/absolute positioned table gets display: block
2) anonymous element with display table is put around the table (<a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - implied/anonymous table elements problems"
   href="/show_bug.cgi?id=2479">bug 2479</a>)
3) you get a fixed positioned table

The problem in (2) is usually that the content is deleted rather than making an
anonymous box.  So this makes me think (1) isn't happening correctly, or
something else weird is happening.  You may want to wait on this bug until 2479
is fixed, though.

Right now, the table is being absolutely positioned above and to the left of its
natural position.

The above URL also gives the following assertions when I load the page:
Assertion: &quot;bad parent&quot; (parent == aParent) at file nsFrameList.cpp, line 342
Assertion: &quot;no placeholder frame&quot; (nsnull != placeholderFrame) at file
nsHTMLReflowState.cpp, line 408
Assertion: &quot;no placeholder frame&quot; (nsnull != placeholderFrame) at file
nsHTMLReflowState.cpp, line 408</pre></div><div class="change-set" id="a340_3825"><div class="change" id="aa340_3825">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3825" id="a340_3825"><img src="https://secure.gravatar.com/avatar/6d721cd00fc18fe29a87103b991f42f8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3825" id="a340_3825"><a class="email disabled" href="/user_profile?user_id=3825" > <span class="fna">troy</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a340_3825"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a340_3825">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a340_3825">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-20 11:38 PDT" data-time="932495904">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Assignee: troy &rarr; karnaze</div><div class="change">Component: Layout &rarr; HTMLTables</div></div></div><div class="change-set" id="c1"><div class="comment" data-id="76564" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-1" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3825" id="a340_3825"><img src="https://secure.gravatar.com/avatar/6d721cd00fc18fe29a87103b991f42f8?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3825" id="a340_3825"><a class="email disabled" href="/user_profile?user_id=3825" > <span class="fna">troy</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-20 11:38 PDT" data-time="932495939">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-1" data-comment-id="76564">Chris, it's been a while since we talked about absolute/fixed position tables.
We used to hit an assert, what's the current status?</pre></div><div class="change-set" id="a83320_3823"><div class="change" id="aa83320_3823">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a83320_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3823" id="a83320_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a83320_3823"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a83320_3823">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a83320_3823">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-07-21 10:41 PDT" data-time="932578884">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Status: NEW &rarr; ASSIGNED</div><div class="change">Target Milestone: M12</div></div></div><div class="change-set" id="a6247474_4110"><div class="change" id="aa6247474_4110">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4110" id="a6247474_4110"><img src="https://secure.gravatar.com/avatar/a2ed12df8daafde5811afc0ad2515df6?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4110" id="a6247474_4110"><a class="email disabled" href="/user_profile?user_id=4110" > <span class="fna">Christine Hoffman</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a6247474_4110"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a6247474_4110">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a6247474_4110">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-09-30 18:57 PDT" data-time="938743038">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">QA Contact: petersen &rarr; chrisd</div></div></div><div class="change-set" id="a6589678_4054"><div class="change" id="aa6589678_4054">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a6589678_4054"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4054" id="a6589678_4054"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a6589678_4054"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a6589678_4054">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a6589678_4054">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-10-04 18:00 PDT" data-time="939085242">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: problems with absolute or fixed position on table &rarr; {css2} problems with absolute or fixed position on table</div></div></div><div class="change-set" id="c2"><div class="comment" data-id="76565" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-2" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a6589678_4054"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a6589678_4054"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-10-04 19:56 PDT" data-time="939092219">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-2" data-comment-id="76565">The page doesn't assert. This bug has not gotten much attention, in favor of
html4 and css 1 issues.</pre></div><div class="change-set" id="c3"><div class="comment" data-id="76566" data-no="3"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-3" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a6589678_4054"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a6589678_4054"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-3"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-3" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="1999-12-01 13:21 PST" data-time="944083319">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-3" data-comment-id="76566">mass move to m14.</pre></div><div class="change-set" id="a15312925_4054"><div class="change" id="aa15312925_4054">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a15312925_4054"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4054" id="a15312925_4054"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a15312925_4054"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a15312925_4054">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a15312925_4054">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-01-13 16:08 PST" data-time="947808489">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=css2&amp;resolution=---">css2</a></div></div></div><div class="change-set" id="c4"><div class="comment" data-id="76567" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-4" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a15312925_4054"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4054" id="a15312925_4054"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-01-13 16:08 PST" data-time="947808539">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-4" data-comment-id="76567">Migrating from {css2} to css2 keyword. The {css1}, {css2}, {css3} and {css-moz}
radars should now be considered deprecated in favour of keywords.
I am *really* sorry about the spam...</pre></div><div class="change-set" id="a17146694_3823"><div class="change" id="aa17146694_3823">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a17146694_3823"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3823" id="a17146694_3823"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a17146694_3823"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a17146694_3823">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a17146694_3823">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-02-03 21:30 PST" data-time="949642258">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Target Milestone: M14 &rarr; M16</div></div></div><div class="change-set" id="a17327855_2365"><div class="change" id="aa17327855_2365">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_2365" id="a17327855_2365"><img src="https://secure.gravatar.com/avatar/d64af6519edc4b408a6af25aa73a9d0e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_2365" id="a17327855_2365"><a class="email disabled" href="/user_profile?user_id=2365" > <span class="fna">Michael Lowe</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a17327855_2365"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a17327855_2365">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a17327855_2365">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-02-05 23:50 PST" data-time="949823419">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: {css2} problems with absolute or fixed position on table &rarr; problems with absolute or fixed position on table</div></div></div><div class="change-set" id="c5"><div class="comment" data-id="286380" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-5" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a17327855_2365"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a17327855_2365"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-05-07 16:34 PDT" data-time="957742492">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-5" data-comment-id="286380">Moving to M17.</pre><div class="activity"><div class="change">Target Milestone: M16 &rarr; M17</div></div></div><div class="change-set" id="a27506477_12603"><div class="change" id="aa27506477_12603">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_12603" id="a27506477_12603"><img src="https://secure.gravatar.com/avatar/e1e31869817270f3fc1386d4b27fa2cf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_12603" id="a27506477_12603"><a class="email disabled" href="/user_profile?user_id=12603" > <span class="fna">Peter 'Rufus' Nelson</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a27506477_12603"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a27506477_12603">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a27506477_12603">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-06-02 20:14 PDT" data-time="960002041">21 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=testcase&amp;resolution=---">testcase</a></div></div></div><div class="change-set" id="c6"><div class="comment" data-id="321615" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-6" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a27506477_12603"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a27506477_12603"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-06-07 14:03 PDT" data-time="960411824">21 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-6" data-comment-id="321615">This bug has been marked &quot;future&quot; because we have determined that it is not 
critical for netscape 6.0. If you feel this is an error, or if it blocks your 
work in some way -- please attach your concern to the bug for reconsideration.
</pre><div class="activity"><div class="change">Target Milestone: M17 &rarr; Future</div></div></div><div class="change-set" id="c7"><div class="comment" data-id="353119" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-7" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11315" id="a27506477_12603"><img src="https://secure.gravatar.com/avatar/7d09667890bc2ff8c6b6be545fe16dd2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_11315" id="a27506477_12603"><a class="email disabled" href="/user_profile?user_id=11315" > <span class="fna">sungod</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-07-10 16:27 PDT" data-time="963271646">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-7" data-comment-id="353119">If CSS2 positioning is indeed to be back-burnered, I must highly encourage the
complete commenting of all CSS2 positioning code that isn't also in CSS1.

IMO, we MUST NOT allow Mozilla's positioning bugs to render correctly-designed,
by-the-spec CSS2 documents brokenly. We must either support these features per
the spec, or turn them off.

Netscape 4 makes the mistake of rendering CSS1 with severe bugs, making pages
with correct CSS completely unreadable. This ruins the point of abstracting
structure from presentation. I don't think we should allow this in Mozilla.

On the other hand, if we can reach a concensus that we can get CSS2 positioning
working correctly in time for a stable public release (like netscape's?) I would
of course LOVE to have that support included.
</pre></div><div class="change-set" id="c8"><div class="comment" data-id="353263" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-8" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_12658" id="a27506477_12603"><img src="https://secure.gravatar.com/avatar/ae5594031f8e0002c0dcf70e9d33d6de?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_12658" id="a27506477_12603"><a class="email " href="/user_profile?user_id=12658" > <span class="fna">Peter &quot;jag&quot; Annema</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-07-10 17:43 PDT" data-time="963276218">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-8" data-comment-id="353263">I have to agree with <a href="mailto:sungod&#64;atdot.org">sungod&#64;atdot.org</a>. If we can't get CSS2 specific positioning 
right per the spec, I'd rather it be turned off until such a time that it can be 
done right. A broken implementation would only be a burden.</pre></div><div class="change-set" id="c9"><div class="comment" data-id="353615" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-9" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a27506477_12603"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4054" id="a27506477_12603"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-07-11 02:43 PDT" data-time="963308603">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-9" data-comment-id="353615">We should check there are no showstoppers if we are going to release it like 
this. We certainly don't want to kill absolute positioning.

I'll do this in a few weeks. No need to panic. I have a feeling IE gets in 
wrong anyway. Unfortunately David's test case is not yet complete so this will
need some thought.
</pre><div class="activity"><div class="change">Whiteboard: (py8ieh:work out impact)</div></div></div><div class="change-set" id="c10"><div class="comment" data-id="378932" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-10" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a27506477_12603"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a27506477_12603"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-08-02 08:29 PDT" data-time="965230173">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-10" data-comment-id="378932">You do get a fixed position table now. But it appears to be in the wrong size 
and position. The caption spans the page and the table itself is touching the 
right edge of the page (and overlaps the scrollbar, but that's another issue).</pre></div><div class="change-set" id="a35300845_4054"><div class="change" id="aa35300845_4054">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4054" id="a35300845_4054"><img src="https://secure.gravatar.com/avatar/8393b8cb5ce8371dcfe93f5d4f76e90a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4054" id="a35300845_4054"><a class="email " href="/user_profile?user_id=4054" > <span class="fna">Hixie (not reading bugmail)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a35300845_4054"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a35300845_4054">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a35300845_4054">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-09-01 01:20 PDT" data-time="967796409">20 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Summary: problems with absolute or fixed position on table &rarr; problems with absolute or fixed position on table [ABS POS] [FIX POS]</div></div></div><div class="change-set" id="c11"><div class="comment" data-id="511754" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-11" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_12902" id="a35300845_4054"><img src="https://secure.gravatar.com/avatar/f4da6094759f88f71d0d250f8fb6c482?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_12902" id="a35300845_4054"><a class="email disabled" href="/user_profile?user_id=12902" > <span class="fna">R.K.Aa.</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-11-14 11:03 PST" data-time="974228584">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-11" data-comment-id="511754">is <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - absolute positioning works wrongly in table"
   href="/show_bug.cgi?id=60051">bug 60051</a> a dup of this?</pre></div><div class="change-set" id="c12"><div class="comment" data-id="521887" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-12" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20029" id="a35300845_4054"><img src="https://secure.gravatar.com/avatar/8608e76cda4c851e577e7ca9c6b5525a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20029" id="a35300845_4054"><a class="email disabled" href="/user_profile?user_id=20029" > <span class="fna">Keyser Sose</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2000-11-28 13:43 PST" data-time="975447824">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-12" data-comment-id="521887">*** <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - absolute positioning works wrongly in table"
   href="/show_bug.cgi?id=60051">Bug 60051</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c13"><div class="comment" data-id="644761" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-13" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_26338" id="a35300845_4054"><img src="https://secure.gravatar.com/avatar/dac4652f4d2d2b1def27605ed6943adf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_26338" id="a35300845_4054"><a class="email disabled" href="/user_profile?user_id=26338" > <span class="fna">Amarendra Hanumanula</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-03-22 13:29 PST" data-time="985296545">20 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-13" data-comment-id="644761">QA contact update</pre><div class="activity"><div class="change">QA Contact: chrisd &rarr; amar</div></div></div><div class="change-set" id="a71637169_11736"><div class="change" id="aa71637169_11736">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11736" id="a71637169_11736"><img src="https://secure.gravatar.com/avatar/32a21509006054af59a69f88dede243b?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_11736" id="a71637169_11736"><a class="email disabled" href="/user_profile?user_id=11736" > <span class="fna">anthonyd</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a71637169_11736"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a71637169_11736">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a71637169_11736">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-26 14:45 PDT" data-time="1004132733">19 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: (py8ieh:work out impact) &rarr; [awd:tbl](py8ieh:work out impact)</div></div></div><div class="change-set" id="c14"><div class="comment" data-id="1287828" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-14" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a71637169_11736"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a71637169_11736"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-04-17 21:04 PDT" data-time="1019102689">19 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-14" data-comment-id="1287828">The scrollbar overlapping problem has a patch in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - [FIX]Fixed position elements of 100% width overlap vertical scrollbar"
   href="/show_bug.cgi?id=94009">bug 94009</a></pre></div><div class="change-set" id="c15"><div class="comment" data-id="1445056" data-no="15"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-15" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_7289" id="a71637169_11736"><img src="https://secure.gravatar.com/avatar/530dbb5f69c5b50a70452097c4ed71e2?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_7289" id="a71637169_11736"><a class="email " href="/user_profile?user_id=7289" > <span class="fna">Greg K.</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-15"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-15" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-07-13 11:55 PDT" data-time="1026586516">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-15" data-comment-id="1445056">So what specific issues is this bug about pertaining to the testcase?</pre></div><div class="change-set" id="a110194785_20209"><div class="change" id="aa110194785_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a110194785_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a110194785_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a110194785_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a110194785_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a110194785_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-01-15 20:12 PST" data-time="1042690349">18 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=qawanted&amp;resolution=---">qawanted</a></div></div></div><div class="change-set" id="a115546731_20209"><div class="change" id="aa115546731_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a115546731_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a115546731_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a115546731_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a115546731_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a115546731_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-03-18 18:51 PST" data-time="1048042295">18 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - position:absolute table's top/left 'auto' treated as 0 [ABS POS]"
   href="/show_bug.cgi?id=53663">53663</a></div></div></div><div class="change-set" id="c16"><div class="comment" data-id="1800481" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-16" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3823" id="a115546731_20209"><img src="https://secure.gravatar.com/avatar/14d16aebebd31ccece8acc40ad40e260?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3823" id="a115546731_20209"><a class="email disabled" href="/user_profile?user_id=3823" > <span class="fna">karnaze (gone)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-03-31 11:17 PST" data-time="1049138241">18 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-16" data-comment-id="1800481">mass reassign to default owner</pre><div class="activity"><div class="change">Assignee: karnaze &rarr; table</div><div class="change">Status: ASSIGNED &rarr; NEW</div><div class="change">QA Contact: amar &rarr; madhur</div><div class="change">Target Milestone: Future &rarr; ---</div></div></div><div class="change-set" id="a116654433_3831"><div class="change" id="aa116654433_3831">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3831" id="a116654433_3831"><img src="https://secure.gravatar.com/avatar/2f25e2d6516cae2b2f9d804a0d2f7b07?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3831" id="a116654433_3831"><a class="email disabled" href="/user_profile?user_id=3831" > <span class="fna">Kevin McCluskey (gone)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a116654433_3831"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a116654433_3831">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a116654433_3831">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-03-31 14:33 PST" data-time="1049149997">18 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Target Milestone: --- &rarr; Future</div></div></div><div class="change-set" id="a131241258_3881"><div class="change" id="aa131241258_3881">
    <table class="layout-table change-head reporter" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a131241258_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a131241258_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a131241258_3881"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a131241258_3881">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a131241258_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-16 11:27 PDT" data-time="1063736822">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">URL: <a href="http://www.fas.harvard.edu/~dbaron/css/test/sec1704b" target="_blank" rel="noreferrer"
           class="bug-url" data-safe="1"
        >http://www.fas.harvard.edu/~dbaron/cs...</a> &rarr; <a href="http://dbaron.org/css/test/sec1704b" target="_blank" rel="noreferrer"
           class="bug-url" data-safe="1"
        >http://dbaron.org/css/test/sec1704b</a></div></div></div><div class="change-set" id="a135907649_79525"><div class="change" id="aa135907649_79525">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_79525" id="a135907649_79525"><img src="https://secure.gravatar.com/avatar/ab99eb9138ff73f50fb636bd1dd768ec?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_79525" id="a135907649_79525"><a class="email disabled" href="/user_profile?user_id=79525" > <span class="fna">Peter Kroll</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a135907649_79525"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a135907649_79525">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a135907649_79525">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-09 10:40 PST" data-time="1068403213">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: blocking1.6b?</div></div></div><div class="change-set" id="a136264596_5003"><div class="change" id="aa136264596_5003">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5003" id="a136264596_5003"><img src="https://secure.gravatar.com/avatar/7006484d9601d2ccbfcb0c110bd23668?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5003" id="a136264596_5003"><a class="email " href="/user_profile?user_id=5003" > <span class="fna">Asa Dotzler [:asa]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a136264596_5003"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a136264596_5003">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a136264596_5003">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-13 13:49 PST" data-time="1068760160">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: blocking1.6b? &rarr; blocking1.6b-</div></div></div><div class="change-set" id="a142362925_102998"><div class="change" id="aa142362925_102998">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_102998" id="a142362925_102998"><img src="https://secure.gravatar.com/avatar/09bb44ac3625a121017cd98d0a7dc52c?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_102998" id="a142362925_102998"><a class="email " href="/user_profile?user_id=102998" > <span class="fna">Anne (:annevk)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a142362925_102998"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a142362925_102998">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a142362925_102998">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-23 03:48 PST" data-time="1074858489">17 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">QA Contact: madhur &rarr; ian</div></div></div><div class="change-set" id="c17"><div class="comment" data-id="2088620" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-17" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_63240" id="a142362925_102998"><img src="https://secure.gravatar.com/avatar/a7d6e5d4fa0cd35a01f919bdb38703a7?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_63240" id="a142362925_102998"><a class="email " href="/user_profile?user_id=63240" > <span class="fna">brewthatistrue</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-29 23:45 PST" data-time="1078127127">17 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-17" data-comment-id="2088620">is <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Browser crash when selecting alternate style sheet &#64; [nsHTMLContainerFrame::CreateViewForFrame]"
   href="/show_bug.cgi?id=236077">bug 236077</a> related?</pre></div><div class="change-set" id="c18"><div class="comment" data-id="2213729" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-18" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_141936" id="a142362925_102998"><img src="https://secure.gravatar.com/avatar/20bd87d6d364173490471a99fe917457?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_141936" id="a142362925_102998"><a class="email disabled" href="/user_profile?user_id=141936" > <span class="fna">Robin Monks</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-24 11:30 PDT" data-time="1090693827">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-18" data-comment-id="2213729">Is this bug still around/active?  If so, shouldn't the qawanted tag be removed
from the keywords?
</pre></div><div class="change-set" id="c19"><div class="comment" data-id="2303085" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-19" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_141936" id="a142362925_102998"><img src="https://secure.gravatar.com/avatar/20bd87d6d364173490471a99fe917457?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_141936" id="a142362925_102998"><a class="email disabled" href="/user_profile?user_id=141936" > <span class="fna">Robin Monks</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-10-22 11:56 PDT" data-time="1098471384">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-19" data-comment-id="2303085">  Reporter, is this bug still active in newer builds?

  You have 7-10 days to respond, after which time it would be OK for the bug to
be marked INVALID.  You can respond via the link you will recieve in the
bugzilla Email or via the comment blank.</pre></div><div class="change-set" id="c20"><div class="comment" data-id="2303092" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-20" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_15223" id="a142362925_102998"><img src="https://secure.gravatar.com/avatar/e4a0566b254d665aa267b7874726fbbf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_15223" id="a142362925_102998"><a class="email " href="/user_profile?user_id=15223" > <span class="fna">timeless</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-10-22 12:04 PDT" data-time="1098471849">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-20" data-comment-id="2303092"><a href="mailto:mozillamonks&#64;yahoo.ca">mozillamonks&#64;yahoo.ca</a>: for lack of common sense you've lost editbugs. please
take this moment to think about your actions.</pre></div><div class="change-set" id="c21"><div class="comment" data-id="2303095" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-21" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17687" id="a142362925_102998"><img src="https://secure.gravatar.com/avatar/b8e1ff465c42b97cf569d7e6a538266a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17687" id="a142362925_102998"><a class="email " href="/user_profile?user_id=17687" > <span class="fna">Bernd</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-10-22 12:06 PDT" data-time="1098472003">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-21" data-comment-id="2303095">What the f..., is going on here? If David files a bug it is a bug period. Please
stop immeadetely to spam bugs if you have no clue. I asked to adjust your
privilegs to your knowledge of bugzilla and mozilla in general. Broad hint:
David is the owner of the layout component. </pre></div><div class="change-set" id="c22"><div class="comment" data-id="2304162" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-22" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_141936" id="a142362925_102998"><img src="https://secure.gravatar.com/avatar/20bd87d6d364173490471a99fe917457?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_141936" id="a142362925_102998"><a class="email disabled" href="/user_profile?user_id=141936" > <span class="fna">Robin Monks</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-10-23 16:16 PDT" data-time="1098573363">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-22" data-comment-id="2304162">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c20">comment #20</a>)
<span class="quote">&gt; <a href="mailto:mozillamonks&#64;yahoo.ca">mozillamonks&#64;yahoo.ca</a>: for lack of common sense you've lost editbugs. please
&gt; take this moment to think about your actions.</span >

  I'm very sorry, I didn't know David owned that
component.  I figured when he didn't respond after a
few weeks that he was just another bug reporter who
didn't show up again.
  I followed the guidelines for message templates
saying that one could say a time for a reporter to
respond and the if s/he was using an alternate system
that one could still say it, just not carry it out.
  I ask that you reconsider you decision.  I will take
time to study the names of the component owners so I
don't offend.  Could you suggest some other farther
reading I should read up on?</pre></div><div class="change-set" id="c23"><div class="comment" data-id="2304176" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-23" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a142362925_102998"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a142362925_102998"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-10-23 16:35 PDT" data-time="1098574556">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-23" data-comment-id="2304176">The spec has changed significantly since this bug was filed, and someone should
probably figure out how we deviate from the current spec, file appropriate bugs,
and close this one.

However, using a template like the one you used may make sense for a bug you
can't reproduce, but doesn't make sense for a bug you simply don't understand.</pre></div><div class="change-set" id="c24"><div class="comment" data-id="3780146" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-24" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a142362925_102998"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a142362925_102998"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2008-09-15 09:29 PDT" data-time="1221496158">12 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-24" data-comment-id="3780146">See also <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - positioned internal table elements not abs pos containing block"
   href="/show_bug.cgi?id=63895">bug 63895</a>.</pre></div><div class="change-set" id="a318584426_135518"><div class="change" id="aa318584426_135518">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_135518" id="a318584426_135518"><img src="https://secure.gravatar.com/avatar/2b6c1ba0915a97a81d59ca1e101e6d74?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_135518" id="a318584426_135518"><a class="email " href="/user_profile?user_id=135518" > <span class="fna">Phil Ringnalda (:philor)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a318584426_135518"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a318584426_135518">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a318584426_135518">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2009-08-23 19:13 PDT" data-time="1251079990">11 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Assignee: layout.tables &rarr; nobody</div><div class="change">QA Contact: ian &rarr; layout.tables</div></div></div><div class="change-set" id="a371369143_251051"><div class="change" id="aa371369143_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a371369143_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a371369143_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a371369143_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a371369143_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-26 17:38 PDT" data-time="1303864707">10 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - &quot;ASSERTION: anonymous nodes should not be in child lists&quot;"
   href="/show_bug.cgi?id=439258">439258</a></div></div></div><div class="change-set" id="c25"><div class="comment" data-id="5438284" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-25" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371369143_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 15:09 PDT" data-time="1304028587">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-25" data-comment-id="5438284">I have a patch which refactors nearly all of the abs-pos child handling stuff to nsFrame, so that all of our frame types can use this implementation.  There is one last thing which I don't know how to do with the minimum level of code change, and that is reflowing the absolute children.

The reflowing should be independent of the reflowing of the frame itself, so at first I thought that a neat trick is to reflow the abs-pos children in nsFrame::DidReflow.  But it seems like that may be too late in the reflow process.  For example, we don't have an nsReflowStatus to modify any more.

Does anybody have any suggestions on how to solve this problem?  The last thing that I want to do is to modify all of our Reflow functions to take this into account...</pre></div><div class="change-set" id="c26"><div class="comment" data-id="5438370" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-26" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371369143_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 15:36 PDT" data-time="1304030173">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-528970"
         class="attachment patch obsolete"
         data-id="528970" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-1.patch">
      <meta itemprop="contentSize" content="6664">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=528970">
          <a class="link" href="attachment.cgi?id=528970&amp;action=diff">
        <span id="att-528970-description" itemprop="description">Part 1: Add an API for absolute container support for all frame types</span></a> (obsolete)
        — <a href="attachment.cgi?id=528970&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=528970">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-26" data-comment-id="5438370">I think this first part is good enough (it might need minor corrections).  It adds a bunch of APIs to nsIFrame to maintain the absolute children info on every frame type.</pre></div><div class="change-set" id="c27"><div class="comment" data-id="5438374" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-27" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371369143_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 15:38 PDT" data-time="1304030301">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-528971"
         class="attachment patch obsolete"
         data-id="528971" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="50017">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=528971">
          <a class="link" href="attachment.cgi?id=528971&amp;action=diff">
        <span id="att-528971-description" itemprop="description">[WIP] Part 2: Implement the absolute positioning support for all frames</span></a> (obsolete)
        — <a href="attachment.cgi?id=528971&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=528971">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-27" data-comment-id="5438374">This part is not finished yet.  The main things which are missing from it is the reflow piece, removing all of the old code to maintain abs-pos children in nsViewportFrame, nsCanvasFrame, nsBlockFrame and removing nsPositionedInlineFrame entirely.

Oh, and of course, testing!  So far all of the testing that I've been able to do is to make sure that the changes compile...</pre></div><div class="change-set" id="c28"><div class="comment" data-id="5438379" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-28" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371369143_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 15:40 PDT" data-time="1304030421">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-528973"
         class="attachment patch obsolete"
         data-id="528973" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-reflow.patch">
      <meta itemprop="contentSize" content="3433">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=528973">
          <a class="link" href="attachment.cgi?id=528973&amp;action=diff">
        <span id="att-528973-description" itemprop="description">Reflow parts [WIP -- doesn't even compile, probably doesn't make sense either]</span></a> (obsolete)
        — <a href="attachment.cgi?id=528973&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=528973">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-28" data-comment-id="5438379">This part of the patch doesn't even compile, let alone being correct in any way.  This patch reflects what I was trying in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c25">comment 25</a>.</pre></div><div class="change-set" id="c29"><div class="comment" data-id="5438387" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-29" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371369143_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 15:42 PDT" data-time="1304030545">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-29" data-comment-id="5438387">At this point I'm mostly stuck with <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c25">comment 25</a>.  Once the reflow stuff is done, I think I can just remove the stuff I mentioned in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c27">comment 27</a> and start testing the code.</pre></div><div class="change-set" id="c30"><div class="comment" data-id="5438691" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-30" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371369143_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 18:03 PDT" data-time="1304038989">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-30" data-comment-id="5438691">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c25">comment #25</a>)
<span class="quote">&gt; The reflowing should be independent of the reflowing of the frame itself, so at
&gt; first I thought that a neat trick is to reflow the abs-pos children in
&gt; nsFrame::DidReflow.  But it seems like that may be too late in the reflow
&gt; process.  For example, we don't have an nsReflowStatus to modify any more.
&gt; 
&gt; Does anybody have any suggestions on how to solve this problem?  The last thing
&gt; that I want to do is to modify all of our Reflow functions to take this into
&gt; account...</span >

Reflowing the absolute children needs to be done near the end of each Reflow implementation, because it has to affect the overflow area stored in nsHTMLReflowMetrics before Reflow returns. We do need to modify all the Reflow methods.

So we'll want a function that abstracts the code in nsPositionedInlineFrame and nsCanvasFrame (I think the code in nsPositionedInlineFrame should work). Instead of adding a new function call in every Reflow method, I think you should add a method FinishReflowWithAbsoluteFrames which does your absolute stuff and also calls nsFrame::FinishAndStoreOverflow, and change existing FinishAndStoreOverflow calls to call FinishReflowWithAbsoluteFrames. Those changes can be done incrementally. (You probably do not want to convert nsBlockFrame since that does various optimizations we don't need in general.)</pre></div><div class="change-set" id="c31"><div class="comment" data-id="5438693" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-31" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371369143_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 18:03 PDT" data-time="1304039028">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-31" data-comment-id="5438693">Although we probably should convert the block code from using its mAbsoluteContainer to your new property-based code.</pre></div><div class="change-set" id="c32"><div class="comment" data-id="5438695" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-32" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371369143_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 18:04 PDT" data-time="1304039074">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-32" data-comment-id="5438695"> virtual nsIAtom* GetAbsoluteListName() const { return nsGkAtoms::fixedList; }

Should return nsGkAtoms::absoluteList</pre></div><div class="change-set" id="c33"><div class="comment" data-id="5438707" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-33" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371369143_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 18:10 PDT" data-time="1304039424">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-33" data-comment-id="5438707">nsFrame::GetAdditionalChildListName needs to return null if aIndex &gt; 0.

NS_CONTAINER_FRAME_OVERFLOW_LIST_INDEX and the other list indexes next to it need to change.

Instead of calling nsFrame::BuildDisplayListForAbsoluteChildren everywhere, you can probably just call it from nsFrame::BuildDisplayListForStackingContext and nsFrame::BuildDisplayListForChild.</pre></div><div class="change-set" id="c34"><div class="comment" data-id="5438859" data-no="34"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-34" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371369143_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 20:28 PDT" data-time="1304047736">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-34" data-comment-id="5438859">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c32">comment #32</a>)
<span class="quote">&gt;  virtual nsIAtom* GetAbsoluteListName() const { return nsGkAtoms::fixedList; }
&gt; 
&gt; Should return nsGkAtoms::absoluteList</span >

Are you sure?  That method is defined in nsViewportFrame, as that is the only type of frame which does abs-pos child processing with postition:fixed children (that's what the current code does, and I think that's what we want it to do).  If we should return absoluteList for nsViewportFrame as well, then I can probably remove GetAbsoluteListName altogether, since this difference is the only reason I had to add it.</pre></div><div class="change-set" id="c35"><div class="comment" data-id="5438876" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-35" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371369143_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 20:53 PDT" data-time="1304049209">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-35" data-comment-id="5438876">Ah right.

We probably shouldn't make nsViewportFrame use the common mechanism you're building here. It should manage its fixed-pos frames itself.</pre></div><div class="change-set" id="c36"><div class="comment" data-id="5438883" data-no="36"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-36" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371369143_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-36"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-36" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 20:54 PDT" data-time="1304049297">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-36" data-comment-id="5438883">I take back <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c35">comment #35</a>. Go ahead with GetAbsoluteListName().</pre></div><div class="change-set" id="c37"><div class="comment" data-id="5438904" data-no="37"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-37" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371369143_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 21:19 PDT" data-time="1304050777">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-37" data-comment-id="5438904">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c33">comment #33</a>)
<span class="quote">&gt; nsFrame::GetAdditionalChildListName needs to return null if aIndex &gt; 0.
&gt; 
&gt; NS_CONTAINER_FRAME_OVERFLOW_LIST_INDEX and the other list indexes next to it
&gt; need to change.</span >

Done.

May I pause for a moment to express my discontent at the way GetAdditionalChildListName is designed?  The way that it works now, it's impossible to figure out what needs to happen in order to change something here without looking at all of the definitions of this function.  :(  Why can't each implementation just return an array of child list names it supports?

<span class="quote">&gt; Instead of calling nsFrame::BuildDisplayListForAbsoluteChildren everywhere, you
&gt; can probably just call it from nsFrame::BuildDisplayListForStackingContext and
&gt; nsFrame::BuildDisplayListForChild.</span >

Done.  I wish I knew this before, this makes the patch a lot smaller!  :-)</pre></div><div class="change-set" id="c38"><div class="comment" data-id="5438905" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-38" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371369143_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 21:20 PDT" data-time="1304050810">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-38" data-comment-id="5438905">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c36">comment #36</a>)
<span class="quote">&gt; I take back <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c35">comment #35</a>. Go ahead with GetAbsoluteListName().</span >

That makes sense, since all of the other handling should be exactly the same.</pre></div><div class="change-set" id="c39"><div class="comment" data-id="5438906" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-39" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371369143_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371369143_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 21:20 PDT" data-time="1304050851">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-529036"
         class="attachment patch obsolete"
         data-id="529036" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="28104">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=529036">
          <a class="link" href="attachment.cgi?id=529036&amp;action=diff">
        <span id="att-529036-description" itemprop="description">[WIP] Part 2: Implement the absolute positioning support for all frames</span></a> (obsolete)
        — <a href="attachment.cgi?id=529036&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529036">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-39" data-comment-id="5438906">Newer version.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=528971&amp;action=edit"
           title="[WIP] Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #528971</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=528973&amp;action=edit"
           title="Reflow parts [WIP -- doesn't even compile, probably doesn't make sense either]"
           class=""
        >Attachment #528973</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a371555334_251051"><div class="change" id="aa371555334_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371555334_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a371555334_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a371555334_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a371555334_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a371555334_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 21:21 PDT" data-time="1304050898">10 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Assignee: nobody &rarr; ehsan</div><div class="change">Status: NEW &rarr; ASSIGNED</div><div class="change">Keywords: <span class="activity-deleted"><a href="/buglist.cgi?keywords=qawanted&amp;resolution=---">qawanted</a></span></div><div class="change">Whiteboard: <span class="activity-deleted">[awd:tbl](py8ieh:work out impact)</span></div></div></div><div class="change-set" id="c40"><div class="comment" data-id="5438922" data-no="40"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-40" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371555334_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371555334_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-40"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-40" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 21:39 PDT" data-time="1304051988">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-40" data-comment-id="5438922">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c37">comment #37</a>)
<span class="quote">&gt; May I pause for a moment to express my discontent at the way
&gt; GetAdditionalChildListName is designed?  The way that it works now, it's
&gt; impossible to figure out what needs to happen in order to change something here
&gt; without looking at all of the definitions of this function.  :(  Why can't each
&gt; implementation just return an array of child list names it supports?</span >

Yes.

Really I think the whole GetAdditionalChildListName dance should be replaced with something simpler and faster. Right now traversing all the child frame lists requires two virtual calls per child list the frame supports, which is way more than necessary.

E.g. we could have
  struct ChildList {
    nsIAtom* mName;
    nsIFrame* mFirstChild;
  };
  /** Appends one ChildList element for every non-empty child list to aLists */
  virtual void GetChildLists(nsTArray&lt;ChildList&gt;* aLists);

then you could write
  nsAutoTArray&lt;ChildList,4&gt; childLists;
  frame-&gt;GetChildLists(&amp;childLists);
  for (PRUint32 i = 0; i &lt; childLists.Length(); ++i) {
    for (nsIFrame* f = childLists[i].mFirstChild; f = f-&gt;GetNextSibling()) {
      ...
    }
  }

The implementors could write
  void nsXYZFrame::GetChildLists(nsTArray&lt;ChildList&gt;* aLists)
  {
    nsSuperClassFrame::GetChildLists(aLists);
    if (!mMyExtraList.IsEmpty()) {
      aLists-&gt;AppendElement(ChildList(nsGkAtoms::myExtraList, mMyExtraList.FirstFrame());
    }
  }
we could even add a helper function nsFrameList::AppendIfNonEmpty(nsTArray&lt;ChildList&gt;* aLists, nsIAtom* aListName).</pre></div><div class="change-set" id="c41"><div class="comment" data-id="5438932" data-no="41"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-41" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371555334_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371555334_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-41"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-41" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 21:47 PDT" data-time="1304052429">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-41" data-comment-id="5438932">Filed <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Kill nsIFrame::GetAdditionalChildListName"
   href="/show_bug.cgi?id=653649">bug 653649</a> for <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c40">comment 40</a>.</pre></div><div class="change-set" id="c42"><div class="comment" data-id="5438960" data-no="42"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-42" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371555334_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371555334_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-42"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-42" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-28 22:13 PDT" data-time="1304053986">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-42" data-comment-id="5438960">Note to myself: <a rel="nofollow" href="http://pastebin.mozilla.org/1215193">http://pastebin.mozilla.org/1215193</a>
This won't make sense to anyone, it's a random irc log which I didn't have time to clean up! :)</pre></div><div class="change-set" id="c43"><div class="comment" data-id="5440124" data-no="43"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-43" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371555334_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371555334_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-43"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-43" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-29 11:56 PDT" data-time="1304103392">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-43" data-comment-id="5440124">Actually, nsAbsoluteContainingBlock doesn't support reflowing on frames not derived from nsContainerFrame for now...</pre></div><div class="change-set" id="c44"><div class="comment" data-id="5440717" data-no="44"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-44" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371555334_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371555334_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-44"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-44" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-04-29 16:15 PDT" data-time="1304118940">10 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-529229"
         class="attachment patch obsolete"
         data-id="529229" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="82454">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=529229">
          <a class="link" href="attachment.cgi?id=529229&amp;action=diff">
        <span id="att-529229-description" itemprop="description">[WIP] Part 2: Implement the absolute positioning support for all frames</span></a> (obsolete)
        — <a href="attachment.cgi?id=529229&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529229">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-44" data-comment-id="5440717">This new version should be roughly complete as far as simulating the current behavior is concerned.  It needs a lot more testing though.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=529036&amp;action=edit"
           title="[WIP] Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #529036</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a371868201_251051"><div class="change" id="aa371868201_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a371868201_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a371868201_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a371868201_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-02 12:16 PDT" data-time="1304363765">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: Placeholder relationship should have been torn down already&quot;"
   href="/show_bug.cgi?id=536692">536692</a></div></div></div><div class="change-set" id="c45"><div class="comment" data-id="5443791" data-no="45"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-45" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-45"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-45" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-02 12:27 PDT" data-time="1304364475">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-529545"
         class="attachment patch obsolete"
         data-id="529545" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="87369">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=529545">
          <a class="link" href="attachment.cgi?id=529545&amp;action=diff">
        <span id="att-529545-description" itemprop="description">[WIP] Part 2: Implement the absolute positioning support for all frames</span></a> (obsolete)
        — <a href="attachment.cgi?id=529545&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529545">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-45" data-comment-id="5443791">This version of the patch passes the entire crashtest suite for me locally (yay!!!!!)</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=529229&amp;action=edit"
           title="[WIP] Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #529229</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c46"><div class="comment" data-id="5444679" data-no="46"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-46" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-46"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-46" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-02 17:22 PDT" data-time="1304382163">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-529613"
         class="attachment patch obsolete"
         data-id="529613" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="89005">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=529613">
          <a class="link" href="attachment.cgi?id=529613&amp;action=diff">
        <span id="att-529613-description" itemprop="description">Part 2: Implement the absolute positioning support for all frames</span></a> (obsolete)
        — <a href="attachment.cgi?id=529613&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529613">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-46" data-comment-id="5444679">This version passes all of the reftests for me locally as well.  I've submitted it to the try server.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=529545&amp;action=edit"
           title="[WIP] Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #529545</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c47"><div class="comment" data-id="5444680" data-no="47"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-47" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-47"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-47" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-02 17:23 PDT" data-time="1304382188">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-47" data-comment-id="5444680">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=528970" name="attach_528970" title="Part 1: Add an API for absolute container support for all frame types">attachment 528970</a> <a href="/attachment.cgi?id=528970&amp;action=edit" title="Part 1: Add an API for absolute container support for all frame types">[details]</a> <a href="/attachment.cgi?id=528970&amp;action=diff" title="Part 1: Add an API for absolute container support for all frame types">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=528970'>[review]</a>
Part 1: Add an API for absolute container support for all frame types

This is ready for review.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=528970&amp;action=edit"
           title="Part 1: Add an API for absolute container support for all frame types"
           class=""
        >Attachment #528970</a> -
        Flags: review?(roc)</div></div></div><div class="change-set" id="c48"><div class="comment" data-id="5444727" data-no="48"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-48" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371868201_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-48"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-48" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-02 17:47 PDT" data-time="1304383624">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-48" data-comment-id="5444727">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=528970" name="attach_528970" title="Part 1: Add an API for absolute container support for all frame types">attachment 528970</a> <a href="/attachment.cgi?id=528970&amp;action=edit" title="Part 1: Add an API for absolute container support for all frame types">[details]</a> <a href="/attachment.cgi?id=528970&amp;action=diff" title="Part 1: Add an API for absolute container support for all frame types">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=528970'>[review]</a>
Part 1: Add an API for absolute container support for all frame types

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=528970" name="attach_528970" title="Part 1: Add an API for absolute container support for all frame types">attachment 528970</a> <a href="/attachment.cgi?id=528970&amp;action=edit" title="Part 1: Add an API for absolute container support for all frame types">[details]</a> <a href="/attachment.cgi?id=528970&amp;action=diff" title="Part 1: Add an API for absolute container support for all frame types">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=528970'>[review]</a>:

::: layout/generic/nsFrame.cpp
&#64;&#64; +268,5 &#64;&#64;
+NS_DECLARE_FRAME_PROPERTY(AbsoluteContainingBlockProperty, DestroyAbsoluteContainingBlock)
+
+PRBool
+nsIFrame::HasAbsolutelyPositionedChildren() const {
+  return IsAbsoluteContainer() ? GetAbsoluteContainingBlock()-&gt;HasAbsoluteFrames() : PR_FALSE;

IsAbsoluteContainer() &amp;&amp; GetAbsoluteContainingBlock()-&gt;HasAbsoluteFrames()

If PR_TRUE or PR_FALSE appears in a ?: expression, you're doing something wrong :-).</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=528970&amp;action=edit"
           title="Part 1: Add an API for absolute container support for all frame types"
           class=""
        >Attachment #528970</a> -
        Flags: review?(roc) &rarr; review+</div></div></div><div class="change-set" id="c49"><div class="comment" data-id="5445792" data-no="49"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-49" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-49"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-49" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c49">Comment 49</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-03 08:38 PDT" data-time="1304437136">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-49">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-49" data-comment-id="5445792">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c48">comment #48</a>)
<span class="quote">&gt; +PRBool
&gt; +nsIFrame::HasAbsolutelyPositionedChildren() const {
&gt; +  return IsAbsoluteContainer() ?
&gt; GetAbsoluteContainingBlock()-&gt;HasAbsoluteFrames() : PR_FALSE;
&gt; 
&gt; IsAbsoluteContainer() &amp;&amp; GetAbsoluteContainingBlock()-&gt;HasAbsoluteFrames()
&gt; 
&gt; If PR_TRUE or PR_FALSE appears in a ?: expression, you're doing something wrong
&gt; :-).</span >

FWIW, I wrote this on purpose, because I think the &quot;if&quot;-resembling of ?: sometimes helps readability, but I have no objection to change it.  ;-)</pre></div><div class="change-set" id="c50"><div class="comment" data-id="5445798" data-no="50"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-50" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-50"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-50" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c50">Comment 50</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-03 08:41 PDT" data-time="1304437285">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-50">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-529728"
         class="attachment patch"
         data-id="529728" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-1.patch">
      <meta itemprop="contentSize" content="6729">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=529728">
          <a class="link" href="attachment.cgi?id=529728&amp;action=diff">
        <span id="att-529728-description" itemprop="description">Part 1: Add an API for absolute container support for all frame types</span></a>
        — <a href="attachment.cgi?id=529728&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529728">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-50" data-comment-id="5445798">With review comments addressed.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=528970&amp;action=edit"
           title="Part 1: Add an API for absolute container support for all frame types"
           class=""
        >Attachment #528970</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c51"><div class="comment" data-id="5445805" data-no="51"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-51" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-51"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-51" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c51">Comment 51</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-03 08:44 PDT" data-time="1304437440">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-51">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-51" data-comment-id="5445805">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=529613" name="attach_529613" title="Part 2: Implement the absolute positioning support for all frames">attachment 529613</a> <a href="/attachment.cgi?id=529613&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=529613&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=529613'>[review]</a>
Part 2: Implement the absolute positioning support for all frames

This should be ready for review.

These two patches shouldn't have any change on the current behavior.  I'd like to land these parts sooner than the rest of the patches in this bug (which I have yet to write).</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=529613&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #529613</a> -
        Attachment description: [WIP] Part 2: Implement the absolute positioning support for all frames &rarr; Part 2: Implement the absolute positioning support for all frames</div><div class="change">
        <a href="/attachment.cgi?id=529613&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #529613</a> -
        Flags: review?(roc)</div></div></div><div class="change-set" id="c52"><div class="comment" data-id="5447163" data-no="52"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-52" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371868201_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-52"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-52" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c52">Comment 52</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-03 16:06 PDT" data-time="1304463978">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-52">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-52" data-comment-id="5447163">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=529613" name="attach_529613" title="Part 2: Implement the absolute positioning support for all frames">attachment 529613</a> <a href="/attachment.cgi?id=529613&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=529613&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=529613'>[review]</a>
Part 2: Implement the absolute positioning support for all frames

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=529613" name="attach_529613" title="Part 2: Implement the absolute positioning support for all frames">attachment 529613</a> <a href="/attachment.cgi?id=529613&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=529613&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=529613'>[review]</a>:

I like this very much!

::: layout/base/nsCSSFrameConstructor.cpp
&#64;&#64; +1225,5 &#64;&#64;
+    // absolute containing block
+    if (aChildListName == containingBlock-&gt;GetAbsoluteListName()) {
+      if (!containingBlock-&gt;IsAbsoluteContainer()) {
+        containingBlock-&gt;MarkAsAbsoluteContainingBlock();
+      }

Why is this necessary? Seems to me that containingBlock should already have been marked as an absolute container.

&#64;&#64; +1230,5 &#64;&#64;
+      rv = containingBlock-&gt;GetAbsoluteContainingBlock()-&gt;
+           SetInitialChildList(containingBlock, aChildListName, aFrameItems);
+    } else {
+      rv = containingBlock-&gt;SetInitialChildList(aChildListName, aFrameItems);
+    }

An alternative would be to have SetInitialChildList handle this case itself. I can see that would probably end up being more code, though.

Anyway, nsIFrame::SetInitialChildList should be documented to say that it doesn't handle GetAbsoluteListName().

&#64;&#64; +1246,5 &#64;&#64;
+    // correctly.
+    if (aChildListName == containingBlock-&gt;GetAbsoluteListName() &amp;&amp;
+        !containingBlock-&gt;IsAbsoluteContainer()) {
+      containingBlock-&gt;MarkAsAbsoluteContainingBlock();
+    }

Again I would have expected containingBlock to already be one.

::: layout/base/nsFrameManager.cpp
&#64;&#64; +535,5 &#64;&#64;
+      aListName == parentFrame-&gt;GetAbsoluteListName()) {
+    parentFrame-&gt;GetAbsoluteContainingBlock()-&gt;
+      RemoveFrame(parentFrame, aListName, aOldFrame);
+  } else {
+    rv = aOldFrame-&gt;GetParent()-&gt;RemoveFrame(aListName, aOldFrame);

use parentFrame on this line

::: layout/generic/nsAbsoluteContainingBlock.cpp
&#64;&#64; +426,5 &#64;&#64;
 
   PRBool constrainHeight = (aReflowState.availableHeight != NS_UNCONSTRAINEDSIZE)
     &amp;&amp; aConstrainHeight
        // Don't split if told not to (e.g. for fixed frames)
+    &amp;&amp; !(aDelegatingFrame-&gt;GetType() == nsGkAtoms::inlineFrame &amp;&amp; aDelegatingFrame-&gt;IsAbsoluteContainer())

We shouldn't check IsAbsoluteContainer here --- if it's not an absolute container we shouldn't be calling into nsAbsoluteContainingBlock!

If you want, you could assert aDelegatingFrame-&gt;IsAbsoluteContainer somewhere.

::: layout/generic/nsBlockFrame.cpp
&#64;&#64; -304,5 &#64;&#64;
 
 void
 nsBlockFrame::DestroyFrom(nsIFrame* aDestructRoot)
 {
-  mAbsoluteContainer.DestroyFrames(this, aDestructRoot);

This is actually a little bit scary. We don't want to mess with frame destruction order. We should continue to tear down the absolute frames before we destroy their placeholders.

&#64;&#64; +6238,5 &#64;&#64;
     }
   }
 
   aBuilder-&gt;MarkFramesForDisplayList(this, mFloats, aDirtyRect);
+  BuildDisplayListForAbsoluteChildren(aBuilder, aDirtyRect);

Is this needed, given you've added the call to BuildDisplayListForStackingContext/Child?

::: layout/generic/nsCanvasFrame.cpp
&#64;&#64; +276,5 &#64;&#64;
   if (GetPrevInFlow()) {
     DisplayOverflowContainers(aBuilder, aDirtyRect, aLists);
   }
 
+  BuildDisplayListForAbsoluteChildren(aBuilder, aDirtyRect);

Is this needed, given you've added the call to BuildDisplayListForStackingContext/Child?

::: layout/generic/nsFrame.cpp
&#64;&#64; +1854,5 &#64;&#64;
   return NS_OK;
 }
 
 void
+nsIFrame::BuildDisplayListForAbsoluteChildren(nsDisplayListBuilder* aBuilder,

This should be called something else since we're not actually building display items here, just ensuring that they *will* be built when placeholders are traversed.

How about just MarkAbsoluteFramesForDisplayList?

&#64;&#64; +3637,5 &#64;&#64;
+nsFrame::FinishReflowWithAbsoluteFrames(nsPresContext*           aPresContext,
+                                        nsHTMLReflowMetrics&amp;     aDesiredSize,
+                                        const nsHTMLReflowState&amp; aReflowState,
+                                        nsReflowStatus&amp;          aStatus,
+                                        PRBool                   aSkipFinish)

Instead of aSkipFinish, I think it's worth having a separate method ReflowAbsoluteFrames that does everything except the FinishAndStoreOverflow.

&#64;&#64; +3646,5 &#64;&#64;
+    // Let the absolutely positioned container reflow any absolutely positioned
+    // child frames that need to be reflowed
+    // We want to do this under either of two conditions:
+    //  1. If we didn't do the incremental reflow above.
+    //  2. If our size changed.

But we're not checking those here, so this comment needs to be fixed.

&#64;&#64; +3666,5 &#64;&#64;
+
+    // Factor the absolutely positioned child bounds into the overflow area
+    // Don't include this frame's bounds, nor its inline descendants' bounds,
+    // and don't store the overflow property.
+    // That will all be done by nsLineLayout::RelativePositionFrames.

This comment is inappropriate here.

::: layout/generic/nsInlineFrame.cpp
&#64;&#64; +184,5 &#64;&#64;
 nsInlineFrame::BuildDisplayList(nsDisplayListBuilder*   aBuilder,
                                 const nsRect&amp;           aDirtyRect,
                                 const nsDisplayListSet&amp; aLists)
 {
+  BuildDisplayListForAbsoluteChildren(aBuilder, aDirtyRect);

Shouldn't be needed, as above.

::: layout/generic/nsPageContentFrame.cpp
&#64;&#64; +142,2 &#64;&#64;
   nsReflowStatus fixedStatus = NS_FRAME_COMPLETE;
+  FinishReflowWithAbsoluteFrames(aPresContext, aDesiredSize, aReflowState, fixedStatus);

You've effectively moved FinishAndStoreOverflow up here, but that's wrong since FinishAndStoreOverflow needs to run after we've set aDesiredSize.width/height.

::: layout/generic/nsViewportFrame.cpp
&#64;&#64; +92,5 &#64;&#64;
   // We don't need any special painting or event handling. We just need to
   // mark our visible out-of-flow frames (i.e., the fixed position frames) so
   // that display list construction is guaranteed to recurse into their
   // ancestors.
+  BuildDisplayListForAbsoluteChildren(aBuilder, aDirtyRect);

Shouldn't be needed.

&#64;&#64; +255,2 &#64;&#64;
 #ifdef DEBUG
+  if (IsAbsoluteContainer()) {

I think the case when this is not an absolute container is a page in print preview, right? You might want to mention that in a comment.</pre></div><div class="change-set" id="c53"><div class="comment" data-id="5447276" data-no="53"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-53" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-53"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-53" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c53">Comment 53</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-03 16:47 PDT" data-time="1304466460">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-53">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-529888"
         class="attachment patch obsolete"
         data-id="529888" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="89512">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=529888">
          <a class="link" href="attachment.cgi?id=529888&amp;action=diff">
        <span id="att-529888-description" itemprop="description">Part 2: Implement the absolute positioning support for all frames</span></a> (obsolete)
        — <a href="attachment.cgi?id=529888&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=529888">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-53" data-comment-id="5447276">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c52">comment #52</a>)
<span class="quote">&gt; Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=529613" name="attach_529613" title="Part 2: Implement the absolute positioning support for all frames">attachment 529613</a> <a href="/attachment.cgi?id=529613&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=529613&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=529613'>[review]</a> [review]
&gt; Part 2: Implement the absolute positioning support for all frames
&gt; 
&gt; Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=529613" name="attach_529613" title="Part 2: Implement the absolute positioning support for all frames">attachment 529613</a> <a href="/attachment.cgi?id=529613&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=529613&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=529613'>[review]</a> [review]:
&gt; 
&gt; I like this very much!
&gt; 
&gt; ::: layout/base/nsCSSFrameConstructor.cpp
&gt; &#64;&#64; +1225,5 &#64;&#64;
&gt; +    // absolute containing block
&gt; +    if (aChildListName == containingBlock-&gt;GetAbsoluteListName()) {
&gt; +      if (!containingBlock-&gt;IsAbsoluteContainer()) {
&gt; +        containingBlock-&gt;MarkAsAbsoluteContainingBlock();
&gt; +      }
&gt; 
&gt; Why is this necessary? Seems to me that containingBlock should already have
&gt; been marked as an absolute container.</span >

Not if the element in question has its style changed dynamically, for example by setting elem.style.position.

<span class="quote">&gt; &#64;&#64; +1230,5 &#64;&#64;
&gt; +      rv = containingBlock-&gt;GetAbsoluteContainingBlock()-&gt;
&gt; +           SetInitialChildList(containingBlock, aChildListName, aFrameItems);
&gt; +    } else {
&gt; +      rv = containingBlock-&gt;SetInitialChildList(aChildListName, aFrameItems);
&gt; +    }
&gt; 
&gt; An alternative would be to have SetInitialChildList handle this case itself. I
&gt; can see that would probably end up being more code, though.
&gt; 
&gt; Anyway, nsIFrame::SetInitialChildList should be documented to say that it
&gt; doesn't handle GetAbsoluteListName().</span >

Did the latter.

<span class="quote">&gt; &#64;&#64; +1246,5 &#64;&#64;
&gt; +    // correctly.
&gt; +    if (aChildListName == containingBlock-&gt;GetAbsoluteListName() &amp;&amp;
&gt; +        !containingBlock-&gt;IsAbsoluteContainer()) {
&gt; +      containingBlock-&gt;MarkAsAbsoluteContainingBlock();
&gt; +    }
&gt; 
&gt; Again I would have expected containingBlock to already be one.</span >

See above.

<span class="quote">&gt; ::: layout/base/nsFrameManager.cpp
&gt; &#64;&#64; +535,5 &#64;&#64;
&gt; +      aListName == parentFrame-&gt;GetAbsoluteListName()) {
&gt; +    parentFrame-&gt;GetAbsoluteContainingBlock()-&gt;
&gt; +      RemoveFrame(parentFrame, aListName, aOldFrame);
&gt; +  } else {
&gt; +    rv = aOldFrame-&gt;GetParent()-&gt;RemoveFrame(aListName, aOldFrame);
&gt; 
&gt; use parentFrame on this line</span >

Done.

<span class="quote">&gt; ::: layout/generic/nsAbsoluteContainingBlock.cpp
&gt; &#64;&#64; +426,5 &#64;&#64;
&gt; 
&gt;    PRBool constrainHeight = (aReflowState.availableHeight !=
&gt; NS_UNCONSTRAINEDSIZE)
&gt;      &amp;&amp; aConstrainHeight
&gt;         // Don't split if told not to (e.g. for fixed frames)
&gt; +    &amp;&amp; !(aDelegatingFrame-&gt;GetType() == nsGkAtoms::inlineFrame &amp;&amp;
&gt; aDelegatingFrame-&gt;IsAbsoluteContainer())
&gt; 
&gt; We shouldn't check IsAbsoluteContainer here --- if it's not an absolute
&gt; container we shouldn't be calling into nsAbsoluteContainingBlock!</span >

Hmm, right!

<span class="quote">&gt; If you want, you could assert aDelegatingFrame-&gt;IsAbsoluteContainer somewhere.</span >

GetAbsoluteContainingBlock() already asserts this.  No point in asserting twice I guess.

<span class="quote">&gt; ::: layout/generic/nsBlockFrame.cpp
&gt; &#64;&#64; -304,5 &#64;&#64;
&gt; 
&gt;  void
&gt;  nsBlockFrame::DestroyFrom(nsIFrame* aDestructRoot)
&gt;  {
&gt; -  mAbsoluteContainer.DestroyFrames(this, aDestructRoot);
&gt; 
&gt; This is actually a little bit scary. We don't want to mess with frame
&gt; destruction order. We should continue to tear down the absolute frames before
&gt; we destroy their placeholders.</span >

Hmm, even if the current code is not depending on this order?

I'd like to avoid modifying all of the DestroyFrom implementations if possible.  If this really scares you, I guess I'll make DestroyFrom protected, make existing callers to call Destroy instead, and modify nsIFrame::Destroy to handle the anon-pos children destruction...

<span class="quote">&gt; &#64;&#64; +6238,5 &#64;&#64;
&gt;      }
&gt;    }
&gt; 
&gt;    aBuilder-&gt;MarkFramesForDisplayList(this, mFloats, aDirtyRect);
&gt; +  BuildDisplayListForAbsoluteChildren(aBuilder, aDirtyRect);
&gt; 
&gt; Is this needed, given you've added the call to
&gt; BuildDisplayListForStackingContext/Child?</span >

Yeah, I remember some reftest somewhere failing without this, which caused me to add it back...

<span class="quote">&gt; ::: layout/generic/nsCanvasFrame.cpp
&gt; &#64;&#64; +276,5 &#64;&#64;
&gt;    if (GetPrevInFlow()) {
&gt;      DisplayOverflowContainers(aBuilder, aDirtyRect, aLists);
&gt;    }
&gt; 
&gt; +  BuildDisplayListForAbsoluteChildren(aBuilder, aDirtyRect);
&gt; 
&gt; Is this needed, given you've added the call to
&gt; BuildDisplayListForStackingContext/Child?</span >

Yeah, see above.

<span class="quote">&gt; ::: layout/generic/nsFrame.cpp
&gt; &#64;&#64; +1854,5 &#64;&#64;
&gt;    return NS_OK;
&gt;  }
&gt; 
&gt;  void
&gt; +nsIFrame::BuildDisplayListForAbsoluteChildren(nsDisplayListBuilder* aBuilder,
&gt; 
&gt; This should be called something else since we're not actually building display
&gt; items here, just ensuring that they *will* be built when placeholders are
&gt; traversed.
&gt; 
&gt; How about just MarkAbsoluteFramesForDisplayList?</span >

Done.

<span class="quote">&gt; &#64;&#64; +3637,5 &#64;&#64;
&gt; +nsFrame::FinishReflowWithAbsoluteFrames(nsPresContext*           aPresContext,
&gt; +                                        nsHTMLReflowMetrics&amp;     aDesiredSize,
&gt; +                                        const nsHTMLReflowState&amp; aReflowState,
&gt; +                                        nsReflowStatus&amp;          aStatus,
&gt; +                                        PRBool                   aSkipFinish)
&gt; 
&gt; Instead of aSkipFinish, I think it's worth having a separate method
&gt; ReflowAbsoluteFrames that does everything except the FinishAndStoreOverflow.</span >

Done.

While addressing the rest of the comments, FinishReflowWithAbsoluteFrames is now called only once.  Is it worth keeping it around, or should I just remove it?

<span class="quote">&gt; &#64;&#64; +3646,5 &#64;&#64;
&gt; +    // Let the absolutely positioned container reflow any absolutely
&gt; positioned
&gt; +    // child frames that need to be reflowed
&gt; +    // We want to do this under either of two conditions:
&gt; +    //  1. If we didn't do the incremental reflow above.
&gt; +    //  2. If our size changed.
&gt; 
&gt; But we're not checking those here, so this comment needs to be fixed.
&gt; 
&gt; &#64;&#64; +3666,5 &#64;&#64;
&gt; +
&gt; +    // Factor the absolutely positioned child bounds into the overflow area
&gt; +    // Don't include this frame's bounds, nor its inline descendants' bounds,
&gt; +    // and don't store the overflow property.
&gt; +    // That will all be done by nsLineLayout::RelativePositionFrames.
&gt; 
&gt; This comment is inappropriate here.</span >

Sorry, I had just moved the comments from nsPositionedInlineFrame, and forgot to fix them.

<span class="quote">&gt; ::: layout/generic/nsInlineFrame.cpp
&gt; &#64;&#64; +184,5 &#64;&#64;
&gt;  nsInlineFrame::BuildDisplayList(nsDisplayListBuilder*   aBuilder,
&gt;                                  const nsRect&amp;           aDirtyRect,
&gt;                                  const nsDisplayListSet&amp; aLists)
&gt;  {
&gt; +  BuildDisplayListForAbsoluteChildren(aBuilder, aDirtyRect);
&gt; 
&gt; Shouldn't be needed, as above.</span >

See above.

<span class="quote">&gt; ::: layout/generic/nsPageContentFrame.cpp
&gt; &#64;&#64; +142,2 &#64;&#64;
&gt;    nsReflowStatus fixedStatus = NS_FRAME_COMPLETE;
&gt; +  FinishReflowWithAbsoluteFrames(aPresContext, aDesiredSize, aReflowState,
&gt; fixedStatus);
&gt; 
&gt; You've effectively moved FinishAndStoreOverflow up here, but that's wrong since
&gt; FinishAndStoreOverflow needs to run after we've set aDesiredSize.width/height.</span >

Fixed.

<span class="quote">&gt; ::: layout/generic/nsViewportFrame.cpp
&gt; &#64;&#64; +92,5 &#64;&#64;
&gt;    // We don't need any special painting or event handling. We just need to
&gt;    // mark our visible out-of-flow frames (i.e., the fixed position frames) so
&gt;    // that display list construction is guaranteed to recurse into their
&gt;    // ancestors.
&gt; +  BuildDisplayListForAbsoluteChildren(aBuilder, aDirtyRect);
&gt; 
&gt; Shouldn't be needed.</span >

See above.

<span class="quote">&gt; &#64;&#64; +255,2 &#64;&#64;
&gt;  #ifdef DEBUG
&gt; +  if (IsAbsoluteContainer()) {
&gt; 
&gt; I think the case when this is not an absolute container is a page in print
&gt; preview, right? You might want to mention that in a comment.</span >

Hmm, no, it should also happen if we don't have any fixed-pos elements, right?  I mean, the code before this tested for the fixed container list being empty, but now instead of the container list being empty, it may not exist at all.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=529613&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #529613</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=529888&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #529888</a> -
        Flags: review?(roc)</div><div class="change">
        <a href="/attachment.cgi?id=529613&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #529613</a> -
        Flags: <span class="activity-deleted">review?(roc)</span></div></div></div><div class="change-set" id="c54"><div class="comment" data-id="5447398" data-no="54"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-54" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371868201_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-54"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-54" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c54">Comment 54</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-03 17:50 PDT" data-time="1304470220">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-54">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-54" data-comment-id="5447398">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c53">comment #53</a>)
<span class="quote">&gt; Not if the element in question has its style changed dynamically, for example
&gt; by setting elem.style.position.</span >

Changing the position style will force frame reconstruction.

<span class="quote">&gt; &gt; ::: layout/generic/nsBlockFrame.cpp
&gt; &gt; &#64;&#64; -304,5 &#64;&#64;
&gt; &gt; 
&gt; &gt;  void
&gt; &gt;  nsBlockFrame::DestroyFrom(nsIFrame* aDestructRoot)
&gt; &gt;  {
&gt; &gt; -  mAbsoluteContainer.DestroyFrames(this, aDestructRoot);
&gt; &gt; 
&gt; &gt; This is actually a little bit scary. We don't want to mess with frame
&gt; &gt; destruction order. We should continue to tear down the absolute frames before
&gt; &gt; we destroy their placeholders.
&gt; 
&gt; Hmm, even if the current code is not depending on this order?</span >

I believe it is. Maybe our tests are inadequate.

<span class="quote">&gt; I'd like to avoid modifying all of the DestroyFrom implementations if possible.
&gt;  If this really scares you, I guess I'll make DestroyFrom protected, make
&gt; existing callers to call Destroy instead, and modify nsIFrame::Destroy to
&gt; handle the anon-pos children destruction...</span >

You can't just do that since you need to pass the aDestructRoot.

I think for now just throw in calls to a new helper function like DestroyAbsoluteFrames(). If the order really doesn't matter, then I suggest changing the order in a separate patch. That will reduce risk.

<span class="quote">&gt; &gt; Is this needed, given you've added the call to
&gt; &gt; BuildDisplayListForStackingContext/Child?
&gt; 
&gt; Yeah, I remember some reftest somewhere failing without this, which caused me
&gt; to add it back...</span >

I would like to understand why it's needed. Maybe we're fixing that failure the wrong way.

<span class="quote">&gt; While addressing the rest of the comments, FinishReflowWithAbsoluteFrames is
&gt; now called only once.  Is it worth keeping it around, or should I just remove
&gt; it?</span >

Probably keep it around, since it will be the right thing for nsTableFrame::Reflow to call.

<span class="quote">&gt; &gt; &#64;&#64; +255,2 &#64;&#64;
&gt; &gt;  #ifdef DEBUG
&gt; &gt; +  if (IsAbsoluteContainer()) {
&gt; &gt; 
&gt; &gt; I think the case when this is not an absolute container is a page in print
&gt; &gt; preview, right? You might want to mention that in a comment.
&gt; 
&gt; Hmm, no, it should also happen if we don't have any fixed-pos elements, right? </span >

Whether a ViewportFrame is an absolute container should not depend on whether it has any fixed-pos children.</pre></div><div class="change-set" id="c55"><div class="comment" data-id="5447540" data-no="55"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-55" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-55"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-55" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c55">Comment 55</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-03 20:25 PDT" data-time="1304479556">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-55">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-55" data-comment-id="5447540">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c54">comment #54</a>)
<span class="quote">&gt; (In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c53">comment #53</a>)
&gt; &gt; Not if the element in question has its style changed dynamically, for example
&gt; &gt; by setting elem.style.position.
&gt; 
&gt; Changing the position style will force frame reconstruction.</span >

Well, I was wrong about the reason why this is needed.  This code is necessary for fixed position stuff.  It's how we make the viewport frame as an absolute container.  (I found it by taking that code out and running the reftests, which makes us crash on &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/76331-1.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/76331-1.html?force=1</a>&gt;, which has a fixed position element.)  I _could_ probably get rid of this code by making the viewport frame always be an absolute containing block, but I think the current code is cleaner (also, see below).

<span class="quote">&gt; &gt; I'd like to avoid modifying all of the DestroyFrom implementations if possible.
&gt; &gt;  If this really scares you, I guess I'll make DestroyFrom protected, make
&gt; &gt; existing callers to call Destroy instead, and modify nsIFrame::Destroy to
&gt; &gt; handle the anon-pos children destruction...
&gt; 
&gt; You can't just do that since you need to pass the aDestructRoot.
&gt; 
&gt; I think for now just throw in calls to a new helper function like
&gt; DestroyAbsoluteFrames(). If the order really doesn't matter, then I suggest
&gt; changing the order in a separate patch. That will reduce risk.</span >

OK, I'll do that for now.

<span class="quote">&gt; &gt; &gt; Is this needed, given you've added the call to
&gt; &gt; &gt; BuildDisplayListForStackingContext/Child?
&gt; &gt; 
&gt; &gt; Yeah, I remember some reftest somewhere failing without this, which caused me
&gt; &gt; to add it back...
&gt; 
&gt; I would like to understand why it's needed. Maybe we're fixing that failure the
&gt; wrong way.</span >

Without this for nsBlockFrame, the following tests fail (possibly among others):

<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/243519-9f.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/243519-9f.html?force=1</a>
<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/372037-1.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/372037-1.html?force=1</a>
<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/387876-2.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/387876-2.html?force=1</a>

Basically they all have an abs-pos element which is the child of a block frame.

I think the only frame type which doesn't need this in ViewportFrame, which calls BuildDisplayListForStatckingChild unconditionally.  Do you agree?

<span class="quote">&gt; &gt; &gt; &#64;&#64; +255,2 &#64;&#64;
&gt; &gt; &gt;  #ifdef DEBUG
&gt; &gt; &gt; +  if (IsAbsoluteContainer()) {
&gt; &gt; &gt; 
&gt; &gt; &gt; I think the case when this is not an absolute container is a page in print
&gt; &gt; &gt; preview, right? You might want to mention that in a comment.
&gt; &gt; 
&gt; &gt; Hmm, no, it should also happen if we don't have any fixed-pos elements, right? 
&gt; 
&gt; Whether a ViewportFrame is an absolute container should not depend on whether
&gt; it has any fixed-pos children.</span >

Hmm, but this is not how the code currently behaves.  We mark the viewport frame as an absolute container in the code in question in the first paragraph of my comment.</pre></div><div class="change-set" id="c56"><div class="comment" data-id="5447588" data-no="56"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-56" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371868201_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-56"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-56" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c56">Comment 56</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-03 21:13 PDT" data-time="1304482402">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-56">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-56" data-comment-id="5447588"><span class="quote">&gt; I think the only frame type which doesn't need this in ViewportFrame, which
&gt; calls BuildDisplayListForStatckingChild unconditionally.  Do you agree?</span >

Aha! The problem is in your change to BuildDisplayListForChild:
+  // Mark the display list items for absolutely positioned children
+  MarkAbsoluteFramesForDisplayList(aBuilder, aDirtyRect);
You actually should be calling MarkAbsoluteFramesForDisplayList on the *child*, not on the parent.

Basically, the only two callers of nsIFrame::BuildDisplayList should be BuildDisplayListForChild (which calls it on the child) and BuildDisplayListForStackingContext (which calls it on 'this'). So for something like this where we need to do something for every BuildDisplayList, you should be able to do it in just those two callers.

<span class="quote">&gt; Hmm, but this is not how the code currently behaves.  We mark the viewport
&gt; frame as an absolute container in the code in question in the first paragraph
&gt; of my comment.</span >

OK, well, that's wrong. The viewport frame should probably be marked as an absolute container when we assign mFixedContainingBlock. Either that, or ViewportFrame::Init does it.</pre></div><div class="change-set" id="c57"><div class="comment" data-id="5447589" data-no="57"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-57" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371868201_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-57"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-57" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c57">Comment 57</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-03 21:18 PDT" data-time="1304482701">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-57">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-57" data-comment-id="5447589">Basically I think it's a good idea to have the invariant that if a frame is pushed as some kind of absolute container during frame construction, then it has been set up as an absolute container.

Setting up the absolute container lazily might be slightly more efficient, but I think it would be more confusing. Certainly we have to be consistent and either always do it lazily or never do it lazily.</pre></div><div class="change-set" id="c58"><div class="comment" data-id="5449837" data-no="58"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-58" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-58"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-58" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c58">Comment 58</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-04 16:06 PDT" data-time="1304550395">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-58">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-58" data-comment-id="5449837">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c56">comment #56</a>)
<span class="quote">&gt; &gt; I think the only frame type which doesn't need this in ViewportFrame, which
&gt; &gt; calls BuildDisplayListForStatckingChild unconditionally.  Do you agree?
&gt; 
&gt; Aha! The problem is in your change to BuildDisplayListForChild:
&gt; +  // Mark the display list items for absolutely positioned children
&gt; +  MarkAbsoluteFramesForDisplayList(aBuilder, aDirtyRect);
&gt; You actually should be calling MarkAbsoluteFramesForDisplayList on the *child*,
&gt; not on the parent.
&gt; 
&gt; Basically, the only two callers of nsIFrame::BuildDisplayList should be
&gt; BuildDisplayListForChild (which calls it on the child) and
&gt; BuildDisplayListForStackingContext (which calls it on 'this'). So for something
&gt; like this where we need to do something for every BuildDisplayList, you should
&gt; be able to do it in just those two callers.</span >

It all makes sense now, and I have a patch which does the above!</pre></div><div class="change-set" id="c59"><div class="comment" data-id="5449940" data-no="59"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-59" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-59"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-59" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c59">Comment 59</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-04 16:58 PDT" data-time="1304553517">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-59">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-530198"
         class="attachment patch obsolete"
         data-id="530198" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="90371">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=530198">
          <a class="link" href="attachment.cgi?id=530198&amp;action=diff">
        <span id="att-530198-description" itemprop="description">Part 2: Implement the absolute positioning support for all frames</span></a> (obsolete)
        — <a href="attachment.cgi?id=530198&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=530198">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-59" data-comment-id="5449940">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c57">comment #57</a>)
<span class="quote">&gt; Basically I think it's a good idea to have the invariant that if a frame is
&gt; pushed as some kind of absolute container during frame construction, then it
&gt; has been set up as an absolute container.
&gt; 
&gt; Setting up the absolute container lazily might be slightly more efficient, but
&gt; I think it would be more confusing. Certainly we have to be consistent and
&gt; either always do it lazily or never do it lazily.</span >

OK, makes sense.  Done.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=529888&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #529888</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=530198&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #530198</a> -
        Flags: review?(roc)</div><div class="change">
        <a href="/attachment.cgi?id=529888&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #529888</a> -
        Flags: <span class="activity-deleted">review?(roc)</span></div></div></div><div class="change-set" id="c60"><div class="comment" data-id="5450116" data-no="60"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-60" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371868201_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-60"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-60" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c60">Comment 60</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-04 19:32 PDT" data-time="1304562752">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-60">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-60" data-comment-id="5450116">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=530198" name="attach_530198" title="Part 2: Implement the absolute positioning support for all frames">attachment 530198</a> <a href="/attachment.cgi?id=530198&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=530198&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=530198'>[review]</a>
Part 2: Implement the absolute positioning support for all frames

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=530198" name="attach_530198" title="Part 2: Implement the absolute positioning support for all frames">attachment 530198</a> <a href="/attachment.cgi?id=530198&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=530198&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=530198'>[review]</a>:

::: layout/generic/nsBlockFrame.cpp
&#64;&#64; +6239,5 &#64;&#64;
     }
   }
 
   aBuilder-&gt;MarkFramesForDisplayList(this, mFloats, aDirtyRect);
+  MarkAbsoluteFramesForDisplayList(aBuilder, aDirtyRect);

We should not need this line.

::: layout/generic/nsFrame.cpp
&#64;&#64; +1682,5 &#64;&#64;
     pseudoStackingContext = PR_TRUE;
+  }
+
+  // Mark the display list items for absolutely positioned children
+  aChild-&gt;MarkAbsoluteFramesForDisplayList(aBuilder, aDirtyRect);

I think you need to pass 'dirty' instead of aDirtyRect, since the rect needs to be relative to the child.

::: layout/generic/nsIFrame.h
&#64;&#64; +2717,5 &#64;&#64;
   virtual nsIAtom* GetAbsoluteListName() const { return nsGkAtoms::absoluteList; }
 
+  /**
+   * This should be called by BuildDisplayList implementations to support adding
+   * the frames for absolute containing blocks to the display list builder.

Fix comment. BuildDisplayList implementations should not need to call this.</pre></div><div class="change-set" id="c61"><div class="comment" data-id="5451113" data-no="61"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-61" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-61"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-61" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c61">Comment 61</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-05 09:07 PDT" data-time="1304611652">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-61">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-61" data-comment-id="5451113">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c60">comment #60</a>)
<span class="quote">&gt; ::: layout/generic/nsBlockFrame.cpp
&gt; &#64;&#64; +6239,5 &#64;&#64;
&gt;      }
&gt;    }
&gt; 
&gt;    aBuilder-&gt;MarkFramesForDisplayList(this, mFloats, aDirtyRect);
&gt; +  MarkAbsoluteFramesForDisplayList(aBuilder, aDirtyRect);
&gt; 
&gt; We should not need this line.
&gt; 
&gt; ::: layout/generic/nsFrame.cpp
&gt; &#64;&#64; +1682,5 &#64;&#64;
&gt;      pseudoStackingContext = PR_TRUE;
&gt; +  }
&gt; +
&gt; +  // Mark the display list items for absolutely positioned children
&gt; +  aChild-&gt;MarkAbsoluteFramesForDisplayList(aBuilder, aDirtyRect);
&gt; 
&gt; I think you need to pass 'dirty' instead of aDirtyRect, since the rect needs to
&gt; be relative to the child.</span >

Ah, of course.  I missed these yesterday.  I fixed them, and there are now a bunch of reftests failures that I need to investigate again.  :(</pre></div><div class="change-set" id="c62"><div class="comment" data-id="5452328" data-no="62"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-62" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-62"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-62" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c62">Comment 62</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-05 15:39 PDT" data-time="1304635181">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-62">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-530448"
         class="attachment patch obsolete"
         data-id="530448" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="90306">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=530448">
          <a class="link" href="attachment.cgi?id=530448&amp;action=diff">
        <span id="att-530448-description" itemprop="description">Part 2: Implement the absolute positioning support for all frames</span></a> (obsolete)
        — <a href="attachment.cgi?id=530448&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=530448">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-62" data-comment-id="5452328">OK, fixed the code and except for fixing the comment, just made MarkAbsoluteFramesForDisplayList private (because nobody else needs to call it!)</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=530198&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #530198</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=530448&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #530448</a> -
        Flags: review?(roc)</div><div class="change">
        <a href="/attachment.cgi?id=530198&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #530198</a> -
        Flags: <span class="activity-deleted">review?(roc)</span></div></div></div><div class="change-set" id="c63"><div class="comment" data-id="5452348" data-no="63"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-63" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-63"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-63" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c63">Comment 63</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-05 15:54 PDT" data-time="1304636069">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-63">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-530450"
         class="attachment patch obsolete"
         data-id="530450" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="90067">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=530450">
          <a class="link" href="attachment.cgi?id=530450&amp;action=diff">
        <span id="att-530450-description" itemprop="description">Part 2: Implement the absolute positioning support for all frames</span></a> (obsolete)
        — <a href="attachment.cgi?id=530450&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=530450">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-63" data-comment-id="5452348">Actually make MarkAbsoluteFramesForDisplayList private!</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=530448&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #530448</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=530450&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #530450</a> -
        Flags: review?(roc)</div><div class="change">
        <a href="/attachment.cgi?id=530448&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #530448</a> -
        Flags: <span class="activity-deleted">review?(roc)</span></div></div></div><div class="change-set" id="c64"><div class="comment" data-id="5452351" data-no="64"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-64" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a371868201_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-64"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-64" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c64">Comment 64</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-05 15:56 PDT" data-time="1304636165">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-64">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-64" data-comment-id="5452351">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=530450" name="attach_530450" title="Part 2: Implement the absolute positioning support for all frames">attachment 530450</a> <a href="/attachment.cgi?id=530450&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=530450&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=530450'>[review]</a>
Part 2: Implement the absolute positioning support for all frames

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=530450" name="attach_530450" title="Part 2: Implement the absolute positioning support for all frames">attachment 530450</a> <a href="/attachment.cgi?id=530450&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=530450&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=530450'>[review]</a>:</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=530450&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #530450</a> -
        Flags: review?(roc) &rarr; review+</div></div></div><div class="change-set" id="c65"><div class="comment" data-id="5453931" data-no="65"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-65" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-65"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-65" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c65">Comment 65</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-06 11:21 PDT" data-time="1304706086">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-65">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-65" data-comment-id="5453931">Landed the first two patches in the bug:

<a rel="nofollow" href="http://hg.mozilla.org/mozilla-central/rev/b5c0b85194d6">http://hg.mozilla.org/mozilla-central/rev/b5c0b85194d6</a>
<a rel="nofollow" href="http://hg.mozilla.org/mozilla-central/rev/14fe8a6cfd45">http://hg.mozilla.org/mozilla-central/rev/14fe8a6cfd45</a>

The rest of the work will follow.</pre></div><div class="change-set" id="c66"><div class="comment" data-id="5454653" data-no="66"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-66" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a371868201_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a371868201_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-66"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-66" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c66">Comment 66</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-06 15:37 PDT" data-time="1304721478">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-66">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-530762"
         class="attachment patch obsolete"
         data-id="530762" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.patch">
      <meta itemprop="contentSize" content="6919">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=530762">
          <a class="link" href="attachment.cgi?id=530762&amp;action=diff">
        <span id="att-530762-description" itemprop="description">[WIP] Part 3: Make tables absolute positioning containers</span></a> (obsolete)
        — <a href="attachment.cgi?id=530762&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=530762">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-66" data-comment-id="5454653">This patch does most of what is needed to make tables abs-pos containing blocks.  It has some bugs though.  From the tests that I've run so far, we assert on &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/generic/crashtests/323493-1.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/generic/crashtests/323493-1.html?force=1</a>&gt; several times with a stack like this:

###!!! ASSERTION: containing block height must be constrained: 'containingBlockHeight != NS_AUTOHEIGHT', file ../../../layout/generic/nsHTMLReflowState.cpp, line 1135

#0	0x10002137f in NS_DebugBreak_P at nsDebugImpl.cpp:274
#1	0x10044b10b in nsHTMLReflowState::InitAbsoluteConstraints at nsHTMLReflowState.cpp:1134
#2	0x10044ccf7 in nsHTMLReflowState::InitConstraints at nsHTMLReflowState.cpp:1845
#3	0x10044d1e4 in nsHTMLReflowState::Init at nsHTMLReflowState.cpp:282
#4	0x1005cf43c in nsTableOuterFrame::InitChildReflowState at nsTableOuterFrame.cpp:451
#5	0x1005cf67c in nsTableOuterFrame::OuterBeginReflowChild at nsTableOuterFrame.cpp:920
#6	0x1005cf9e5 in nsTableOuterFrame::Reflow at nsTableOuterFrame.cpp:1021
#7	0x1003e351e in nsAbsoluteContainingBlock::ReflowAbsoluteFrame at nsAbsoluteContainingBlock.cpp:444
#8	0x1003e4108 in nsAbsoluteContainingBlock::Reflow at nsAbsoluteContainingBlock.cpp:158
#9	0x100416ffa in nsFrame::ReflowAbsoluteFrames at nsFrame.cpp:3681
#10	0x1005cffe9 in nsTableOuterFrame::Reflow at nsTableOuterFrame.cpp:1129
#11	0x1003e351e in nsAbsoluteContainingBlock::ReflowAbsoluteFrame at nsAbsoluteContainingBlock.cpp:444
#12	0x1003e4108 in nsAbsoluteContainingBlock::Reflow at nsAbsoluteContainingBlock.cpp:158
#13	0x100416ffa in nsFrame::ReflowAbsoluteFrames at nsFrame.cpp:3681
#14	0x100425400 in nsFrame::FinishReflowWithAbsoluteFrames at nsFrame.cpp:3642
#15	0x10044761d in nsCanvasFrame::Reflow at nsCanvasFrame.cpp:557
#16	0x100409c5c in nsContainerFrame::ReflowChild at nsContainerFrame.cpp:959
#17	0x10043b776 in nsHTMLScrollFrame::ReflowScrolledFrame at nsGfxScrollFrame.cpp:546
#18	0x10043c064 in nsHTMLScrollFrame::ReflowContents at nsGfxScrollFrame.cpp:638
#19	0x10043f66f in nsHTMLScrollFrame::Reflow at nsGfxScrollFrame.cpp:879
#20	0x100409c5c in nsContainerFrame::ReflowChild at nsContainerFrame.cpp:959
#21	0x1004bc78a in ViewportFrame::Reflow at nsViewportFrame.cpp:225

I think this is because we are either reflowing the absolute frames at the wrong time (since I'm reflowing them after the overflow dimensions is calculated -- but reflowing them before this breaks the rendering completely), or I need to change something so that the ascent member of the reflow metrics isn't NS_AUTOHEIGHT (but I have no idea how to do that yet).</pre></div><div class="change-set" id="a372373422_3881"><div class="change" id="aa372373422_3881">
    <table class="layout-table change-head reporter" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a372373422_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a372373422_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a372373422_3881"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a372373422_3881">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a372373422_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-08 08:36 PDT" data-time="1304868986">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - positioned internal table elements not abs pos containing block"
   href="/show_bug.cgi?id=63895">63895</a>, <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - allow all frame classes (any elements) to be absolute positioning containing blocks when position:relative"
   href="/show_bug.cgi?id=455338">455338</a></div></div></div><div class="change-set" id="c67"><div class="comment" data-id="5456754" data-no="67"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-67" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a372373422_3881"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a372373422_3881"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-67"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-67" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c67">Comment 67</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-09 04:51 PDT" data-time="1304941891">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-67">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-67" data-comment-id="5456754">Your reflow change looks right to me.

We shouldn't be calling InitAbsoluteConstraints for an nsTableFrame, which seems to be what's happening here. It happens on trunk too, but seems to be harmless on trunk for some reason. I think nsHTMLReflowState::InitFrameType should not return NS_CSS_FRAME_TYPE_ABSOLUTE for an nsTableFrame, I think where we test frame-&gt;GetType() == nsGkAtoms::tableFrame we should just return NS_CSS_FRAME_TYPE_UNKNOWN if so. nsHTMLReflowState::InitAbsoluteConstraints can assert frame-&gt;GetType() != nsGkAtoms::tableFrame instead of checking that.</pre></div><div class="change-set" id="a372467400_251051"><div class="change" id="aa372467400_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a372467400_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a372467400_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a372467400_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a372467400_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-09 10:42 PDT" data-time="1304962964">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: containing block height must be constrained&quot; with table, r&amp;a pos"
   href="/show_bug.cgi?id=512749">512749</a></div></div></div><div class="change-set" id="c68"><div class="comment" data-id="5457537" data-no="68"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-68" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372467400_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-68"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-68" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c68">Comment 68</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-09 11:00 PDT" data-time="1304964021">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-68">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-68" data-comment-id="5457537">This worked perfectly, thanks!

Now, there's this reftest: <a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/503364-1a.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/503364-1a.html?force=1</a> on which I'm getting an incorrect rendering.  Here's the resulting frame tree: <a rel="nofollow" href="http://pastebin.mozilla.org/1221780">http://pastebin.mozilla.org/1221780</a>

Note how the frame for the div ends up under the absolute list of the viewport frame, except for the absolute list of the table frame.  I'm trying to figure out why this happens...</pre></div><div class="change-set" id="c69"><div class="comment" data-id="5457645" data-no="69"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-69" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372467400_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-69"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-69" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c69">Comment 69</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-09 11:47 PDT" data-time="1304966868">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-69">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-69" data-comment-id="5457645">It seems to me that because the parent table doesn't have the NODE_DESCENDANTS_NEED_FRAMES flag set, we don't encounter it while creating the frame for the div, so the canvas frame ends up being the absolute container (because it was the last thing which called PushAbsoluteContainingBlock), which makes the reftest fail.  I'm not sure how dynamic changes like this are supposed to be handled.  Should we make sure that we reframe the table too?</pre></div><div class="change-set" id="c70"><div class="comment" data-id="5458005" data-no="70"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-70" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372467400_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-70"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-70" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c70">Comment 70</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-09 13:49 PDT" data-time="1304974191">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-70">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-70" data-comment-id="5458005">I think I figured this out.  The code in nsCSSFrameConstructor::GetAbsoluteContainingBlock actively ignored table related frames, and I fixed that.</pre></div><div class="change-set" id="c71"><div class="comment" data-id="5458710" data-no="71"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-71" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372467400_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-71"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-71" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c71">Comment 71</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-09 17:41 PDT" data-time="1304988068">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-71">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-531218"
         class="attachment patch"
         data-id="531218" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.patch">
      <meta itemprop="contentSize" content="16943">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=531218">
          <a class="link" href="attachment.cgi?id=531218&amp;action=diff">
        <span id="att-531218-description" itemprop="description">[WIP] Part 3: Make tables absolute positioning containers</span></a>
        — <a href="attachment.cgi?id=531218&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=531218">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-71" data-comment-id="5458710">This is nearly finished.  The only remaining problem is the reftest failure with &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/371561-1.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/371561-1.html?force=1</a>&gt;.  In this page, the table is rendered too wide (NS_MAXSIZE), and lots of warnings like this are printed to the console:

WARNING: have unconstrained width; this should only result from very large sizes, not attempts at intrinsic width calculation: 'aContainingBlockWidth != NS_UNCONSTRAINEDSIZE', file ../../../layout/base/nsLayoutUtils.cpp, line 2424
WARNING: cell content 0x10643d7b8 has large width 1063004416 

I experimented with a fix like this one: <a rel="nofollow" href="http://pastebin.mozilla.org/1221886">http://pastebin.mozilla.org/1221886</a> but this patch breaks parts of this test &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/427129-table.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/427129-table.html?force=1</a>&gt; (the tables with a percent width).  I've run out of ideas on how to fix this...</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=530762&amp;action=edit"
           title="[WIP] Part 3: Make tables absolute positioning containers"
           class=""
        >Attachment #530762</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c72"><div class="comment" data-id="5458913" data-no="72"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-72" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a372467400_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-72"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-72" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c72">Comment 72</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-09 20:34 PDT" data-time="1304998485">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-72">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-72" data-comment-id="5458913">Analyzing the callstack from that first warning would be useful. Assuming nsTableFrame's reflow state is firing the warning, its available width should have been set in nsTableOuterFrame::OuterBeginReflowChild, to aAvailWidth, so why isn't that set to something reasonable?</pre></div><div class="change-set" id="c73"><div class="comment" data-id="5460562" data-no="73"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-73" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372467400_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-73"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-73" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c73">Comment 73</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-10 13:29 PDT" data-time="1305059345">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-73">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-73" data-comment-id="5460562">This is a call stack:

#0	0x100376240 in nsLayoutUtils::ComputeWidthValue at nsLayoutUtils.cpp:2425
#1	0x10044df89 in nsCSSOffsetState::ComputeWidthValue at nsHTMLReflowState.cpp:189
#2	0x10044a688 in nsCSSOffsetState::ComputeWidthValue at nsHTMLReflowState.cpp:210
#3	0x10044a6d6 in nsHTMLReflowState::ComputeMinMaxValues at nsHTMLReflowState.cpp:2284
#4	0x10044c94a in nsHTMLReflowState::InitConstraints at nsHTMLReflowState.cpp:1786
#5	0x10044d194 in nsHTMLReflowState::Init at nsHTMLReflowState.cpp:282
#6	0x1005cf3ec in nsTableOuterFrame::InitChildReflowState at nsTableOuterFrame.cpp:451
#7	0x1005cf62c in nsTableOuterFrame::OuterBeginReflowChild at nsTableOuterFrame.cpp:920
#8	0x1005cf995 in nsTableOuterFrame::Reflow at nsTableOuterFrame.cpp:1021
#9	0x1003e34ce in nsAbsoluteContainingBlock::ReflowAbsoluteFrame at nsAbsoluteContainingBlock.cpp:444
#10	0x1003e40b8 in nsAbsoluteContainingBlock::Reflow at nsAbsoluteContainingBlock.cpp:158
#11	0x100416faa in nsFrame::ReflowAbsoluteFrames at nsFrame.cpp:3681
#12	0x10045c8be in nsInlineFrame::Reflow at nsInlineFrame.cpp:417
#13	0x1004649a7 in nsLineLayout::ReflowFrame at nsLineLayout.cpp:852
#14	0x1003eddf1 in nsBlockFrame::ReflowInlineFrame at nsBlockFrame.cpp:3826
#15	0x1003f43ea in nsBlockFrame::DoReflowInlineFrames at nsBlockFrame.cpp:3622
#16	0x1003f4f1e in nsBlockFrame::ReflowInlineFrames at nsBlockFrame.cpp:3481
#17	0x1003f6b6c in nsBlockFrame::ReflowLine at nsBlockFrame.cpp:2557
#18	0x1003f767b in nsBlockFrame::ReflowDirtyLines at nsBlockFrame.cpp:1995
#19	0x1003f9526 in nsBlockFrame::Reflow at nsBlockFrame.cpp:1075
#20	0x1003fda25 in nsBlockReflowContext::ReflowBlock at nsBlockReflowContext.cpp:296
#21	0x1003f5a1c in nsBlockFrame::ReflowBlockFrame at nsBlockFrame.cpp:3199
#22	0x1003f68f5 in nsBlockFrame::ReflowLine at nsBlockFrame.cpp:2501
#23	0x1003f767b in nsBlockFrame::ReflowDirtyLines at nsBlockFrame.cpp:1995
#24	0x1003f9526 in nsBlockFrame::Reflow at nsBlockFrame.cpp:1075
#25	0x100409c0c in nsContainerFrame::ReflowChild at nsContainerFrame.cpp:959
#26	0x100446fca in nsCanvasFrame::Reflow at nsCanvasFrame.cpp:454
#27	0x100409c0c in nsContainerFrame::ReflowChild at nsContainerFrame.cpp:959
#28	0x10043b726 in nsHTMLScrollFrame::ReflowScrolledFrame at nsGfxScrollFrame.cpp:546
#29	0x10043c014 in nsHTMLScrollFrame::ReflowContents at nsGfxScrollFrame.cpp:638
#30	0x10043f61f in nsHTMLScrollFrame::Reflow at nsGfxScrollFrame.cpp:879
#31	0x100409c0c in nsContainerFrame::ReflowChild at nsContainerFrame.cpp:959
#32	0x1004bc73a in ViewportFrame::Reflow at nsViewportFrame.cpp:225
#33	0x1003a022f in PresShell::DoReflow at nsPresShell.cpp:7735

The problem is that OuterBeginReflowChild does not pass the available width to InitChildReflowState, and the reflow state ends up getting initialized with avail width being set to -1, which triggers this code: &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsHTMLReflowState.cpp#1703">http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsHTMLReflowState.cpp#1703</a>&gt;.  ComputeContainingBlockRectangle relies on mFrameType being ABSOLUTE &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsHTMLReflowState.cpp#1573">http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsHTMLReflowState.cpp#1573</a>&gt;, which causes the incorrect available with to be calculated here.

The obvious patch &lt;<a rel="nofollow" href="http://pastebin.mozilla.org/1222183">http://pastebin.mozilla.org/1222183</a>&gt; fixes this, but I have no idea if that's acceptable...</pre></div><div class="change-set" id="c74"><div class="comment" data-id="5461416" data-no="74"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-74" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372467400_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-74"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-74" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c74">Comment 74</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-10 17:44 PDT" data-time="1305074674">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-74">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-74" data-comment-id="5461416">So, this patch &lt;<a rel="nofollow" href="http://pastebin.mozilla.org/1222364">http://pastebin.mozilla.org/1222364</a>&gt; makes that reftest pass, but it also breaks a number of table layout reftests, such as &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/370525-1-notref.html">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/370525-1-notref.html</a>&gt;, which is now rendered identical to &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/370525-1.html">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/370525-1.html</a>&gt;.</pre></div><div class="change-set" id="c75"><div class="comment" data-id="5461437" data-no="75"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-75" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372467400_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-75"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-75" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c75">Comment 75</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-10 17:54 PDT" data-time="1305075288">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-75">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-75" data-comment-id="5461437">I think this happens because nsTableOuterFrame::IsContainingBlock now returns true, which changes the way nsHTMLReflowState::InitResizeFlags behaves (or maybe because of the change to mCBReflowState)...</pre></div><div class="change-set" id="c76"><div class="comment" data-id="5461696" data-no="76"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-76" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a372467400_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-76"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-76" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c76">Comment 76</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-10 20:41 PDT" data-time="1305085277">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-76">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-76" data-comment-id="5461696">Yeah, I think IsContainingBlock is bogus. In CSS, &quot;containing block&quot; is a binary relation, not a unary relation. So I think we should replace nsIFrame::IsContainingBlock with nsIFrame::GetContainingBlock() which returns the containing block for the given frame.

I don't know if that's stricly necessary to do here, but it will probably help. There aren't many users of IsContainingBlock, and some of them are just implementing GetContainingBlock() themselves.</pre></div><div class="change-set" id="c77"><div class="comment" data-id="5463792" data-no="77"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-77" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372467400_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372467400_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-77"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-77" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c77">Comment 77</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 13:31 PDT" data-time="1305145910">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-77">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-77" data-comment-id="5463792">I tried to do this, and I _think_ I implemented the CSS algorithm correctly &lt;<a rel="nofollow" href="http://pastebin.mozilla.org/1222989">http://pastebin.mozilla.org/1222989</a>&gt;, but this patch doesn't fix the reftest in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c71">comment 71</a>, and it _also_ breaks the reftest in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c74">comment 74</a>...</pre></div><div class="change-set" id="a372653902_251051"><div class="change" id="aa372653902_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372653902_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a372653902_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a372653902_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a372653902_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a372653902_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 14:31 PDT" data-time="1305149466">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: unexpected child list&quot; and more"
   href="/show_bug.cgi?id=656130">656130</a></div></div></div><div class="change-set" id="c78"><div class="comment" data-id="5464459" data-no="78"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-78" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a372653902_251051"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a372653902_251051"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-78"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-78" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c78">Comment 78</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 17:09 PDT" data-time="1305158953">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-78">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-78" data-comment-id="5464459">Your GetContainingBlock implementation looks right but it could be improved:

Drop GetNearestBlockContainer and just use nsLayoutUtils::FindNearestBlockAncestor.

In GetContainingBlock, don't bother checking for viewportFrame/pageContentFrame. For the STATIC case, calling FindNearestBlockAncestor(this) will return null if this has no ancestor block.

For ABSOLUTE and FIXED, you can just return GetParent(). An absolutely (for fixed) positioned frame's containing block is always its parent.</pre></div><div class="change-set" id="c79"><div class="comment" data-id="5464584" data-no="79"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-79" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a372653902_251051"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a372653902_251051"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-79"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-79" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c79">Comment 79</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 18:24 PDT" data-time="1305163451">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-79">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-79" data-comment-id="5464584">Shouldn't GetAdditionalChildListName only return the absolute list if the frame is an absolute container?</pre><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_NEW"
   title="NEW - Make the calls to PushAbsoluteContainingBlock in the frame constructor make sense"
   href="/show_bug.cgi?id=203225">203225</a></div></div></div><div class="change-set" id="a372667932_20209"><div class="change" id="aa372667932_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a372667932_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a372667932_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a372667932_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a372667932_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a372667932_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 18:24 PDT" data-time="1305163496">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_NEW"
   title="NEW - better way to find frame's containing block"
   href="/show_bug.cgi?id=239310">239310</a></div></div></div><div class="change-set" id="a372667971_20209"><div class="change" id="aa372667971_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a372667971_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a372667971_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a372667971_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a372667971_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a372667971_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 18:25 PDT" data-time="1305163535">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_NEW"
   title="NEW - nsIFrame::IsContainingBlock should not check style data"
   href="/show_bug.cgi?id=371452">371452</a></div></div></div><div class="change-set" id="c80"><div class="comment" data-id="5464727" data-no="80"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-80" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372667971_20209"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372667971_20209"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-80"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-80" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c80">Comment 80</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 20:51 PDT" data-time="1305172297">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-80">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-80" data-comment-id="5464727">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c79">comment #79</a>)
<span class="quote">&gt; Shouldn't GetAdditionalChildListName only return the absolute list if the
&gt; frame is an absolute container?</span >

No, why would it?  What prevents absolute containers to have other child list types?</pre></div><div class="change-set" id="c81"><div class="comment" data-id="5464736" data-no="81"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-81" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a372667971_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a372667971_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-81"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-81" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c81">Comment 81</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 21:03 PDT" data-time="1305172985">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-81">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-81" data-comment-id="5464736">Oh, gah.  We interpret a null as &quot;no more lists&quot;, right.  That sucks.  :(</pre></div><div class="change-set" id="c82"><div class="comment" data-id="5464746" data-no="82"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-82" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372667971_20209"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372667971_20209"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-82"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-82" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c82">Comment 82</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 21:08 PDT" data-time="1305173312">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-82">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-82" data-comment-id="5464746">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c78">comment #78</a>)
<span class="quote">&gt; Drop GetNearestBlockContainer and just use
&gt; nsLayoutUtils::FindNearestBlockAncestor.</span >

It turns out that this is not really the right thing to do, since these two functions are not equivalent.

For example, nsRootBoxFrame is not an nsBlockFrame, but it's display is set to block.  This leads to a startup crash because we would incorrectly set the reflow state's mCBReflowState to null.</pre></div><div class="change-set" id="c83"><div class="comment" data-id="5464751" data-no="83"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-83" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372667971_20209"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372667971_20209"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-83"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-83" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c83">Comment 83</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 21:09 PDT" data-time="1305173372">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-83">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-83" data-comment-id="5464751">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c81">comment #81</a>)
<span class="quote">&gt; Oh, gah.  We interpret a null as &quot;no more lists&quot;, right.  That sucks.  :(</span >

Indeed!  See <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Kill nsIFrame::GetAdditionalChildListName"
   href="/show_bug.cgi?id=653649">bug 653649</a>.  ;-)</pre></div><div class="change-set" id="c84"><div class="comment" data-id="5464756" data-no="84"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-84" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a372667971_20209"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a372667971_20209"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-84"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-84" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c84">Comment 84</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 21:18 PDT" data-time="1305173884">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-84">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-531848"
         class="attachment patch obsolete"
         data-id="531848" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.1.patch">
      <meta itemprop="contentSize" content="35986">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=531848">
          <a class="link" href="attachment.cgi?id=531848&amp;action=diff">
        <span id="att-531848-description" itemprop="description">[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock</span></a> (obsolete)
        — <a href="attachment.cgi?id=531848&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=531848">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-84" data-comment-id="5464756">This is what I have so far.  It doesn't crash on startup, but it probably has lots of other bugs.  I'm going to sleep now, and will continue to work on this tomorrow.</pre></div><div class="change-set" id="c85"><div class="comment" data-id="5464834" data-no="85"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-85" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a372667971_20209"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a372667971_20209"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-85"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-85" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c85">Comment 85</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-11 22:55 PDT" data-time="1305179733">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-85">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-85" data-comment-id="5464834">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c82">comment #82</a>)
<span class="quote">&gt; (In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c78">comment #78</a>)
&gt; &gt; Drop GetNearestBlockContainer and just use
&gt; &gt; nsLayoutUtils::FindNearestBlockAncestor.
&gt; 
&gt; It turns out that this is not really the right thing to do, since these two
&gt; functions are not equivalent.
&gt; 
&gt; For example, nsRootBoxFrame is not an nsBlockFrame, but it's display is set
&gt; to block.  This leads to a startup crash because we would incorrectly set
&gt; the reflow state's mCBReflowState to null.</span >

Hmm yeah.

Maybe the thing to do for the static/relative case is what nsCSSRendering does near the comment &quot;// Find the containing block frame&quot;: use the parent, unless the frame is eLineParticipant, in which case use the nearest ancestor that isn't eLineParticipant.</pre></div><div class="change-set" id="a372790963_293623"><div class="change" id="aa372790963_293623">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a372790963_293623"><img src="https://secure.gravatar.com/avatar/847abbd0fcf7040593b9b55d98e6cd64?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_293623" id="a372790963_293623"><a class="email " href="/user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a372790963_293623"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a372790963_293623">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a372790963_293623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-13 04:35 PDT" data-time="1305286527">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Scaling down the body makes the smallest text pieces disappear."
   href="/show_bug.cgi?id=656875">656875</a></div></div></div><div class="change-set" id="a373050276_293623"><div class="change" id="aa373050276_293623">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/847abbd0fcf7040593b9b55d98e6cd64?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_293623" id="a373050276_293623"><a class="email " href="/user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a373050276_293623"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a373050276_293623">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a373050276_293623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-16 04:37 PDT" data-time="1305545840">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Google maps stops working after panning around a little"
   href="/show_bug.cgi?id=657182">657182</a></div></div></div><div class="change-set" id="c86"><div class="comment" data-id="5472439" data-no="86"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-86" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-86"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-86" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c86">Comment 86</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-16 09:02 PDT" data-time="1305561724">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-86">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-86" data-comment-id="5472439">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c85">comment #85</a>)
<span class="quote">&gt; (In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c82">comment #82</a>)
&gt; &gt; (In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c78">comment #78</a>)
&gt; &gt; &gt; Drop GetNearestBlockContainer and just use
&gt; &gt; &gt; nsLayoutUtils::FindNearestBlockAncestor.
&gt; &gt; 
&gt; &gt; It turns out that this is not really the right thing to do, since these two
&gt; &gt; functions are not equivalent.
&gt; &gt; 
&gt; &gt; For example, nsRootBoxFrame is not an nsBlockFrame, but it's display is set
&gt; &gt; to block.  This leads to a startup crash because we would incorrectly set
&gt; &gt; the reflow state's mCBReflowState to null.
&gt; 
&gt; Hmm yeah.
&gt; 
&gt; Maybe the thing to do for the static/relative case is what nsCSSRendering
&gt; does near the comment &quot;// Find the containing block frame&quot;: use the parent,
&gt; unless the frame is eLineParticipant, in which case use the nearest ancestor
&gt; that isn't eLineParticipant.</span >

Do you mean that should be done in nsLayoutUtils::FindNearestBlockAncestor?</pre></div><div class="change-set" id="c87"><div class="comment" data-id="5472803" data-no="87"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-87" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-87"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-87" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c87">Comment 87</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-16 11:07 PDT" data-time="1305569246">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-87">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-87" data-comment-id="5472803">We need to back this out from Firefox 6 Aurora if the work in this bug has not been finished yet.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox6&amp;o1=isnotempty">tracking-firefox6</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox6&amp;o1=equals&amp;v1=%3F">?</a></div></div></div><div class="change-set" id="c88"><div class="comment" data-id="5473600" data-no="88"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-88" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a373050276_293623"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-88"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-88" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c88">Comment 88</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-16 15:56 PDT" data-time="1305586572">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-88">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-88" data-comment-id="5473600">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c86">comment #86</a>)
<span class="quote">&gt; Do you mean that should be done in nsLayoutUtils::FindNearestBlockAncestor?</span >

No. Do it in a new function.</pre></div><div class="change-set" id="c89"><div class="comment" data-id="5474898" data-no="89"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-89" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-89"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-89" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c89">Comment 89</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-17 08:49 PDT" data-time="1305647344">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-89">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-532973"
         class="attachment patch obsolete"
         data-id="532973" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.1.patch">
      <meta itemprop="contentSize" content="35507">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=532973">
          <a class="link" href="attachment.cgi?id=532973&amp;action=diff">
        <span id="att-532973-description" itemprop="description">[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock</span></a> (obsolete)
        — <a href="attachment.cgi?id=532973&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=532973">Splinter Review</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=531848&amp;action=edit"
           title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #531848</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c90"><div class="comment" data-id="5479861" data-no="90"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-90" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-90"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-90" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c90">Comment 90</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-19 06:36 PDT" data-time="1305812205">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-90">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-533627"
         class="attachment patch obsolete"
         data-id="533627" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.1.patch">
      <meta itemprop="contentSize" content="37589">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=533627">
          <a class="link" href="attachment.cgi?id=533627&amp;action=diff">
        <span id="att-533627-description" itemprop="description">[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock</span></a> (obsolete)
        — <a href="attachment.cgi?id=533627&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=533627">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-90" data-comment-id="5479861">Only 1 reftest fails with this patch now: layout/reftests/bugs/371561-1.html.  I'm going to fix that and submit the final version for review.</pre></div><div class="change-set" id="c91"><div class="comment" data-id="5487828" data-no="91"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-91" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-91"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-91" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c91">Comment 91</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-23 15:19 PDT" data-time="1306189147">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-91">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-91" data-comment-id="5487828">Reverting the mFrameType changes here &lt;<a rel="nofollow" href="http://hg.mozilla.org/try/rev/19113c44bbca">http://hg.mozilla.org/try/rev/19113c44bbca</a>&gt; fixes the reftest, but causes a bunch of assertions like this at the beginning of InitAbsoluteConstraints for reftests like this &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/490176-1.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/490176-1.html?force=1</a>&gt;:

###!!! ASSERTION: containing block height must be constrained: 'containingBlockHeight != NS_AUTOHEIGHT', file /Users/ehsanakhgari/moz/mozilla-central/layout/generic/nsHTMLReflowState.cpp, line 1120

This is because when computing the containing block rectangle (with the stack below), the CB RS is now the parent table outer frame, not the canvas frame, and that table outer frame has an unconstrained height:

#0	0x10061b1dd in nsHTMLReflowState::ComputeContainingBlockRectangle at nsHTMLReflowState.cpp:1558
#1	0x100617f2b in nsHTMLReflowState::InitConstraints at nsHTMLReflowState.cpp:1688
#2	0x1006164b0 in nsHTMLReflowState::Init at nsHTMLReflowState.cpp:282
#3	0x1008187b2 in nsTableOuterFrame::InitChildReflowState at nsTableOuterFrame.cpp:451
#4	0x10081a38f in nsTableOuterFrame::OuterBeginReflowChild at nsTableOuterFrame.cpp:920
#5	0x10081a9d0 in nsTableOuterFrame::Reflow at nsTableOuterFrame.cpp:1021
#6	0x1005911b2 in nsAbsoluteContainingBlock::ReflowAbsoluteFrame at nsAbsoluteContainingBlock.cpp:444
#7	0x1005903a1 in nsAbsoluteContainingBlock::Reflow at nsAbsoluteContainingBlock.cpp:155
#8	0x1005d611c in nsFrame::ReflowAbsoluteFrames at nsFrame.cpp:3677
#9	0x1005d5f7d in nsFrame::FinishReflowWithAbsoluteFrames at nsFrame.cpp:3641
#10	0x10081b2fd in nsTableOuterFrame::Reflow at nsTableOuterFrame.cpp:1130
#11	0x1005911b2 in nsAbsoluteContainingBlock::ReflowAbsoluteFrame at nsAbsoluteContainingBlock.cpp:444
#12	0x1005903a1 in nsAbsoluteContainingBlock::Reflow at nsAbsoluteContainingBlock.cpp:155
#13	0x1005d611c in nsFrame::ReflowAbsoluteFrames at nsFrame.cpp:3677
#14	0x1005d5f7d in nsFrame::FinishReflowWithAbsoluteFrames at nsFrame.cpp:3641
#15	0x10061516b in nsCanvasFrame::Reflow at nsCanvasFrame.cpp:557
#16	0x1005c1b7d in nsContainerFrame::ReflowChild at nsContainerFrame.cpp:958
#17	0x1005fdc72 in nsHTMLScrollFrame::ReflowScrolledFrame at nsGfxScrollFrame.cpp:545
#18	0x1005fe493 in nsHTMLScrollFrame::ReflowContents at nsGfxScrollFrame.cpp:639
#19	0x1005ff5cd in nsHTMLScrollFrame::Reflow at nsGfxScrollFrame.cpp:880
#20	0x1005c1b7d in nsContainerFrame::ReflowChild at nsContainerFrame.cpp:958
#21	0x1006accf7 in ViewportFrame::Reflow at nsViewportFrame.cpp:224

This causes ComputeContainingBlockRectangle to set aContainingBlockHeight to NS_MAXSIZE, which causes InitAbsoluteConstraints called later in InitConstraints to assert.

Boris, do you have any idea how this can be solved?</pre></div><div class="change-set" id="c92"><div class="comment" data-id="5488247" data-no="92"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-92" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a373050276_293623"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a373050276_293623"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-92"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-92" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c92">Comment 92</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-23 18:42 PDT" data-time="1306201364">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-92">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-92" data-comment-id="5488247">Why are we calling InitAbsoluteConstraints for the inner table?</pre></div><div class="change-set" id="c93"><div class="comment" data-id="5488394" data-no="93"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-93" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-93"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-93" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c93">Comment 93</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-23 21:25 PDT" data-time="1306211124">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-93">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-93" data-comment-id="5488394">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c92">comment #92</a>)
<span class="quote">&gt; Why are we calling InitAbsoluteConstraints for the inner table?</span >

Because the table frame's mFrameType is NS_CSS_FRAME_TYPE_ABSOLUTE.  &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsHTMLReflowState.cpp#1842">http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsHTMLReflowState.cpp#1842</a>&gt;</pre></div><div class="change-set" id="c94"><div class="comment" data-id="5488403" data-no="94"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-94" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a373050276_293623"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a373050276_293623"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-94"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-94" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c94">Comment 94</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-23 21:34 PDT" data-time="1306211650">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-94">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-94" data-comment-id="5488403">Wait.  I thought we were going to leave mFrameType as BLOCK for the inner table but take out the hackery in InitCBContainingBlock so the containing block reflow state for the inner table is the outer table....</pre></div><div class="change-set" id="c95"><div class="comment" data-id="5489380" data-no="95"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-95" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-95"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-95" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c95">Comment 95</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-24 08:10 PDT" data-time="1306249833">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-95">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-95" data-comment-id="5489380">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c94">comment #94</a>)
<span class="quote">&gt; Wait.  I thought we were going to leave mFrameType as BLOCK for the inner
&gt; table but take out the hackery in InitCBContainingBlock so the containing
&gt; block reflow state for the inner table is the outer table....</span >

Hmm, IIRC what we discussed last week was trying to revert the changes I had made to InitFrameType, and also try removing the InitCBReflowState hack to make the CB reflow state for inner table frames the outer table on top of that.

Only doing the first thing seems to help things a lot (it fixes the rendering problems) except for these assertions: &lt;<a rel="nofollow" href="http://tbpl.mozilla.org/?tree=Try&amp;rev=19113c44bbca">http://tbpl.mozilla.org/?tree=Try&amp;rev=19113c44bbca</a>&gt; (effectively this patch on top of my other ones: &lt;<a rel="nofollow" href="http://hg.mozilla.org/try/rev/19113c44bbca">http://hg.mozilla.org/try/rev/19113c44bbca</a>&gt;).  Note that with this patches, *both* the inner and outer table frames are NS_CSS_FRAME_TYPE_ABSOLUTE, and the inner table frame's CB reflow state points to the outer table frame's CB.

Removing the InitCBReflowState hackery for inner tables breaks rendering &lt;<a rel="nofollow" href="http://tbpl.mozilla.org/?tree=Try&amp;rev=ce676985fd3b">http://tbpl.mozilla.org/?tree=Try&amp;rev=ce676985fd3b</a>&gt; (effectively this patch on top of my other ones: &lt;<a rel="nofollow" href="http://hg.mozilla.org/try/rev/ce676985fd3b">http://hg.mozilla.org/try/rev/ce676985fd3b</a>&gt;).  Note that with this patch, *both* the inner and outer table frames are NS_CSS_FRAME_TYPE_ABSOLUTE, and the inner table frame's CB reflow state points to the outer table frame.

Now, making the mFrameType for the inner table frame BLOCK will fix this assertion that I'm struggling with now, *but* it will regress the reftest in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c91">comment 91</a>.  I'm not sure what you're suggesting...</pre></div><div class="change-set" id="c96"><div class="comment" data-id="5489473" data-no="96"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-96" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a373050276_293623"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a373050276_293623"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-96"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-96" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c96">Comment 96</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-24 08:40 PDT" data-time="1306251637">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-96">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-96" data-comment-id="5489473">I thought what I suggested was to leave your InitFrameType changes but take out the InitCBReflowState hack.  The <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c91">comment 91</a> reftest was failing for type == BLOCK because the cb reflow state was the inline, which had the wrong computed dimensions, no?</pre></div><div class="change-set" id="c97"><div class="comment" data-id="5490551" data-no="97"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-97" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_407310" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/19b70037da52f8e9de5e1573694ae7b3?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_407310" id="a373050276_293623"><a class="email disabled" href="/user_profile?user_id=407310" > <span class="fna">JP Rosevear [:jpr]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-97"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-97" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c97">Comment 97</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-24 14:18 PDT" data-time="1306271903">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-97">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-97" data-comment-id="5490551">Is this completely landed or does it need a backout?</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox6&amp;o1=isnotempty">tracking-firefox6</a>:
          <a href="/buglist.cgi?f1=cf_tracking_firefox6&amp;o1=equals&amp;v1=%3F">?</a> &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox6&amp;o1=equals&amp;v1=%2B">+</a></div></div></div><div class="change-set" id="c98"><div class="comment" data-id="5491132" data-no="98"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-98" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-98"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-98" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c98">Comment 98</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-24 17:28 PDT" data-time="1306283310">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-98">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-98" data-comment-id="5491132">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c96">comment #96</a>)
<span class="quote">&gt; I thought what I suggested was to leave your InitFrameType changes but take
&gt; out the InitCBReflowState hack.  The <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c91">comment 91</a> reftest was failing for type
&gt; == BLOCK because the cb reflow state was the inline, which had the wrong
&gt; computed dimensions, no?</span >

Leaving the InitFrameType changes, and removing the InitCBReflowState hacks for dynamically positioned table frames seems to fix everything!  Bug I wouldn't believe it until I get try results.  ;-)</pre></div><div class="change-set" id="c99"><div class="comment" data-id="5491142" data-no="99"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-99" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-99"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-99" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c99">Comment 99</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-24 17:33 PDT" data-time="1306283583">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-99">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-99" data-comment-id="5491142">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c97">comment #97</a>)
<span class="quote">&gt; Is this completely landed or does it need a backout?</span >

It does need a backout, I will attach a patch soon.</pre></div><div class="change-set" id="c100"><div class="comment" data-id="5491155" data-no="100"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-100" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-100"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-100" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c100">Comment 100</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-24 17:37 PDT" data-time="1306283872">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-100">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-534949"
         class="attachment patch"
         data-id="534949" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-backout.patch">
      <meta itemprop="contentSize" content="95543">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=534949">
          <a class="link" href="attachment.cgi?id=534949&amp;action=diff">
        <span id="att-534949-description" itemprop="description">Aurora backout</span></a>
        — <a href="attachment.cgi?id=534949&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=534949">Splinter Review</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=534949&amp;action=edit"
           title="Aurora backout"
           class=""
        >Attachment #534949</a> -
        Flags: approval-mozilla-aurora?</div></div></div><div class="change-set" id="c101"><div class="comment" data-id="5491160" data-no="101"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-101" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-101"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-101" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c101">Comment 101</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-24 17:39 PDT" data-time="1306283986">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-101">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-534950"
         class="attachment patch obsolete"
         data-id="534950" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.1.patch">
      <meta itemprop="contentSize" content="37673">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=534950">
          <a class="link" href="attachment.cgi?id=534950&amp;action=diff">
        <span id="att-534950-description" itemprop="description">[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock</span></a> (obsolete)
        — <a href="attachment.cgi?id=534950&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=534950">Splinter Review</a>
      </div>
    </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=532973&amp;action=edit"
           title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #532973</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=533627&amp;action=edit"
           title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #533627</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=534950&amp;action=edit"
           title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #534950</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c102"><div class="comment" data-id="5493253" data-no="102"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-102" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-102"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-102" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c102">Comment 102</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-25 13:17 PDT" data-time="1306354644">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-102">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-102" data-comment-id="5493253">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=534950" name="attach_534950" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">attachment 534950</a> <a href="/attachment.cgi?id=534950&amp;action=edit" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">[details]</a> <a href="/attachment.cgi?id=534950&amp;action=diff" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=534950'>[review]</a>
[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock

roc, do you want to review this too?</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=534950&amp;action=edit"
           title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #534950</a> -
        Flags: review?(roc)</div></div></div><div class="change-set" id="c103"><div class="comment" data-id="5493510" data-no="103"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-103" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a373050276_293623"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-103"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-103" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c103">Comment 103</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-25 14:59 PDT" data-time="1306360758">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-103">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-103" data-comment-id="5493510">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=534950" name="attach_534950" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">attachment 534950</a> <a href="/attachment.cgi?id=534950&amp;action=edit" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">[details]</a> <a href="/attachment.cgi?id=534950&amp;action=diff" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=534950'>[review]</a>
[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock

bz can do this.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=534950&amp;action=edit"
           title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #534950</a> -
        Flags: <span class="activity-deleted">review?(roc)</span></div></div></div><div class="change-set" id="c104"><div class="comment" data-id="5494019" data-no="104"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-104" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a373050276_293623"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-104"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-104" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c104">Comment 104</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-25 18:24 PDT" data-time="1306373088">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-104">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-104" data-comment-id="5494019">So, I was looking at why the test case in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - positioned internal table elements not abs pos containing block"
   href="/show_bug.cgi?id=63895">bug 63895</a> still doesn't render correctly, and I figured out that it's because the outer table frame (which is what we position abs-pos kids relative to) is getting a width equal to that of its containing block (the body element in this case).

After a while of poking through the specs, and talking to dbaron in IRC, I came to the conclusion that this is the right behavior, and it's Opera and WebKit which have got this wrong.

We can still make something like the rendering that the author of that test case intended work by making the row groups also an abs-pos container, so that the author can make the tbody element positioned, but that can happen in another bug.

So, the set of patches attached here, with the addition of the patch in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: unexpected child list&quot; and more"
   href="/show_bug.cgi?id=656130">bug 656130</a> complete the work of making tables abs-pos containers.  :-)</pre></div><div class="change-set" id="c105"><div class="comment" data-id="5494092" data-no="105"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-105" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a373050276_293623"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a373050276_293623"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-105"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-105" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c105">Comment 105</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-25 19:29 PDT" data-time="1306376950">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-105">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-105" data-comment-id="5494092">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c104">comment #104</a>)
<span class="quote">&gt; After a while of poking through the specs, and talking to dbaron in IRC, I
&gt; came to the conclusion that this is the right behavior, and it's Opera and
&gt; WebKit which have got this wrong.</span >

I disagree. See discussion in <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Outer table frame's width is set to the width of the containing block"
   href="/show_bug.cgi?id=659828">bug 659828</a>.</pre></div><div class="change-set" id="a373977535_255010"><div class="change" id="aa373977535_255010">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_255010" id="a373977535_255010"><img src="https://secure.gravatar.com/avatar/0646a42110a02dd585f200f270716852?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_255010" id="a373977535_255010"><a class="email " href="/user_profile?user_id=255010" > <span class="fna">Timothy Nikkel (:tnikkel)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a373977535_255010"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a373977535_255010">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a373977535_255010">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-26 22:11 PDT" data-time="1306473099">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: aPrevFrame must be the last continuation in its chain!&quot; with columns, abs pos"
   href="/show_bug.cgi?id=655462">655462</a></div></div></div><div class="change-set" id="a374379148_5003"><div class="change" id="aa374379148_5003">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5003" id="a374379148_5003"><img src="https://secure.gravatar.com/avatar/7006484d9601d2ccbfcb0c110bd23668?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5003" id="a374379148_5003"><a class="email " href="/user_profile?user_id=5003" > <span class="fna">Asa Dotzler [:asa]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a374379148_5003"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a374379148_5003">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a374379148_5003">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-05-31 13:45 PDT" data-time="1306874712">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: needs a back out for 6. approval pending.</div></div></div><div class="change-set" id="c106"><div class="comment" data-id="5506789" data-no="106"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-106" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5003" id="a374379148_5003"><img src="https://secure.gravatar.com/avatar/7006484d9601d2ccbfcb0c110bd23668?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5003" id="a374379148_5003"><a class="email " href="/user_profile?user_id=5003" > <span class="fna">Asa Dotzler [:asa]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-106"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-106" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c106">Comment 106</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-01 11:33 PDT" data-time="1306953234">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-106">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-106" data-comment-id="5506789">Comment on <span class=""><a href="/attachment.cgi?id=534949" name="attach_534949" title="Aurora backout">attachment 534949</a> <a href="/attachment.cgi?id=534949&amp;action=edit" title="Aurora backout">[details]</a> <a href="/attachment.cgi?id=534949&amp;action=diff" title="Aurora backout">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=534949'>[review]</a>
Aurora backout

approved to back out from 5 Aurora</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=534949&amp;action=edit"
           title="Aurora backout"
           class=""
        >Attachment #534949</a> -
        Flags: approval-mozilla-aurora? &rarr; approval-mozilla-aurora+</div></div></div><div class="change-set" id="c107"><div class="comment" data-id="5507099" data-no="107"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-107" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a374379148_5003"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a374379148_5003"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-107"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-107" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c107">Comment 107</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-01 13:19 PDT" data-time="1306959578">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-107">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-107" data-comment-id="5507099">Comment on <span class=""><a href="/attachment.cgi?id=534949" name="attach_534949" title="Aurora backout">attachment 534949</a> <a href="/attachment.cgi?id=534949&amp;action=edit" title="Aurora backout">[details]</a> <a href="/attachment.cgi?id=534949&amp;action=diff" title="Aurora backout">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=534949'>[review]</a>
Aurora backout

<a rel="nofollow" href="http://hg.mozilla.org/releases/mozilla-aurora/749feb2a61a4">http://hg.mozilla.org/releases/mozilla-aurora/749feb2a61a4</a></pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=534949&amp;action=edit"
           title="Aurora backout"
           class=""
        >Attachment #534949</a> -
        Flags: checked-in+</div></div></div><div class="change-set" id="a374464064_251051"><div class="change" id="aa374464064_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a374464064_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a374464064_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a374464064_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a374464064_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a374464064_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-01 13:20 PDT" data-time="1306959628">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=isnotempty">status-firefox6</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=equals&amp;v1=fixed">fixed</a></div></div></div><div class="change-set" id="a374640689_251051"><div class="change" id="aa374640689_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a374640689_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a374640689_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a374640689_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a374640689_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a374640689_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-03 14:24 PDT" data-time="1307136253">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: <span class="activity-deleted">needs a back out for 6. approval pending.</span></div></div></div><div class="change-set" id="a374640720_251051"><div class="change" id="aa374640720_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a374640720_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a374640720_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a374640720_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a374640720_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a374640720_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-03 14:24 PDT" data-time="1307136284">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=isnotempty">status-firefox6</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=equals&amp;v1=unaffected">unaffected</a></div></div></div><div class="change-set" id="a374873670_342786"><div class="change" id="aa374873670_342786">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_342786" id="a374873670_342786"><img src="https://secure.gravatar.com/avatar/f3bc800fde3724f78dc9e01e97b4f2e1?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_342786" id="a374873670_342786"><a class="email " href="/user_profile?user_id=342786" > <span class="fna">Mounir Lamouri (:mounir)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a374873670_342786"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a374873670_342786">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a374873670_342786">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-06 07:07 PDT" data-time="1307369234">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=534949&amp;action=edit"
           title="Aurora backout"
           class=""
        >Attachment #534949</a> -
        Flags: checked-in+ &rarr; checkin+</div></div></div><div class="change-set" id="a375072842_251051"><div class="change" id="aa375072842_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a375072842_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a375072842_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a375072842_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a375072842_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a375072842_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-08 14:26 PDT" data-time="1307568406">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Outer table frame's width is set to the width of the containing block"
   href="/show_bug.cgi?id=659828">659828</a></div></div></div><div class="change-set" id="a375162384_20209"><div class="change" id="aa375162384_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a375162384_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a375162384_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a375162384_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a375162384_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a375162384_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-09 15:19 PDT" data-time="1307657948">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Incorrect intrinsic width computed for replaced element with intrinsic ratio and parent-dependent style height when ancestor is a scrollframe"
   href="/show_bug.cgi?id=653739">653739</a></div></div></div><div class="change-set" id="c108"><div class="comment" data-id="5523983" data-no="108"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-108" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a375162384_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a375162384_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-108"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-108" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c108">Comment 108</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-09 17:58 PDT" data-time="1307667489">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-108">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-108" data-comment-id="5523983">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=534950" name="attach_534950" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">attachment 534950</a> <a href="/attachment.cgi?id=534950&amp;action=edit" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">[details]</a> <a href="/attachment.cgi?id=534950&amp;action=diff" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=534950'>[review]</a>
[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock

<span class="quote">&gt;+++ b/layout/generic/nsFrame.cpp
&gt;+PRBool
&gt;+nsIFrame::IsBlockWrapper()
&gt;+{
&gt;+  if (nsLayoutUtils::GetAsBlock(this)) {</span >

I don't think we need this check; just check the pseudo type directly.  Unless this is meant to be an optimization?  I'm not sure which is faster...

<span class="quote">&gt;+GetNearestBlockContainer(nsIFrame* frame)</span >

Can you make this iterative instead of recursing?  Should be simple, and better to not recurse when we can avoid it.

<span class="quote">&gt;+nsIFrame::GetContainingBlock()</span >

1) Would it make sense to test IsAbsolutelyPositioned() instead of using the switch?
2) Even if IsAbsolutelyPositioned(), we probably need to check for the out-of-flow bit before deciding the containing block is our parent.  I hate MathML's messing with positioning.  :(

<span class="quote">&gt;+++ b/layout/generic/nsHTMLReflowState.cpp
&gt;+  // Absolutely positioned frames should always be kids of the frames that
&gt;+  // determine their containing block, except for inner table frames.</span >

I'm not sure I follow this comment, given the code below.  In particular, for positioned inner table frames you're setting mCBReflowState = parentReflowState!  I think this comment should just go away.

<span class="quote">&gt;+  if (parentReflowState-&gt;frame == frame-&gt;GetContainingBlock() ||
&gt;       (NS_FRAME_GET_TYPE(mFrameType) == NS_CSS_FRAME_TYPE_ABSOLUTE)) {</span >

Isn't that second test redundant?  That is, can mFrameType be ABSOLUTE when parentReflowState-&gt;frame != frame-&gt;GetContainingBlock()?  Used to be that we needed the mFrameType test to handle the case when parentReflowState-&gt;frame was a rel pos inline, but with your changes that will test as frame-&gt;GetContainingBlock(), right?

<span class="quote">&gt;     // an absolutely positioned inner table needs to use the parent of
&gt;+    // the outer table.</span >

This comment doesn't seem to match reality.

<span class="quote">&gt;+    if (frame-&gt;GetType() == nsGkAtoms::tableFrame &amp;&amp;
&gt;+        !parentReflowState-&gt;frame-&gt;GetStyleDisplay()-&gt;IsAbsolutelyPositioned()) {
&gt;+      mCBReflowState = parentReflowState-&gt;mCBReflowState;</span >

As I said on IRC, this doesn't quite make sense to me.  Why do we use the containing block of the _outer_ table for non-positioned inner tables only?  Shouldn't we just use the outer table as the inner table's containing block in all cases?

And yes, I realize that we had a whole comment about this situation that you deleted that claimed that we need to use the mCBReflowState of the outer table as the CBReflowState for the inner.  Maybe that's all that's going on here, but if so we should documet that.  And I'd love to understand why that's so....

<span class="quote">&gt;+  } else if (frame-&gt;GetType() == nsGkAtoms::tableColFrame ||
&gt;+             frame-&gt;GetType() == nsGkAtoms::tableRowFrame ||
&gt;+             frame-&gt;IsBlockWrapper()) {
&gt;+    mCBReflowState = parentReflowState;</span >

Why is this clause needed?  That is, if frame-&gt;IsBlockWrapper(), shouldn't we have fallen into the first clause of the |if|?  And similar for colframe and rowframe?

<span class="quote">&gt;+    // Make sure that we don't set mCBReflowState to null for edge cases
&gt;+    // such as root frames.</span >

Hmm.  What used to happen for those before?

<span class="quote">&gt;&#64;&#64; -368,17 +365,18 &#64;&#64; nsHTMLReflowState::InitResizeFlags(nsPre
&gt;+  } else if (mCBReflowState &amp;&amp;
&gt;+             !(nsLayoutUtils::GetAsBlock(frame) &amp;&amp; !frame-&gt;IsBlockWrapper())) {</span >

I _think_ this is OK, but I think that would be more readable as:

   } else if (mCBReflowState &amp;&amp;
              (!nsLayoutUtils::GetAsBlock(frame) || frame-&gt;IsBlockWrapper())) {

(less in the way of double-negatives).

<span class="quote">&gt;&#64;&#64; -412,17 +410,18 &#64;&#64; nsHTMLReflowState::InitResizeFlags(nsPre
&gt;     // but only on containing blocks if this frame is not a suitable block
&gt;-    dependsOnCBHeight |= !frame-&gt;IsContainingBlock();
&gt;+    dependsOnCBHeight |= !(mCBReflowState &amp;&amp;
&gt;+                           frame-&gt;GetContainingBlock() == mCBReflowState-&gt;frame);</span >

This I'm pretty sure is wrong.  The test here needs to match the test in nsHTMLReflowState::CalcLineHeight(void), which I think is actually correct.

<span class="quote">&gt;+nsHTMLReflowState::GetContainingBlockFor(nsIFrame* aFrame)</span >

This whole method seems redundant.  Indeed, if aFrame-&gt;GetStyleDisplay()-&gt;IsAbsolutelyPositioned(), then aFrame-&gt;GetContainingBlock() == aFrame-&gt;GetParent(), right?  So this method always returns aFrame-&gt;GetContainingBlock(), as far as I can tell.

If I'm right, then we should just make it return aFrame-&gt;GetContainingBlock() and file a bug to nix this method altogether.

<span class="quote">&gt;+++ b/layout/generic/nsIFrame.h
&gt;+  PRBool IsBlockWrapper();</span >

This can be a const method, right?

<span class="quote">&gt;+  nsIFrame* GetContainingBlock();</span >

Likewise.

<span class="quote">&gt;+++ b/layout/style/nsComputedDOMStyle.cpp
&gt;+    if (nsLayoutUtils::GetAsBlock(mInnerFrame) &amp;&amp; !mInnerFrame-&gt;IsBlockWrapper()) {</span >

This pattern pops up a lot in this patch.  Can we just factor it out into a helper method on nsLayoutUtils or something?</pre></div><div class="change-set" id="c109"><div class="comment" data-id="5526125" data-no="109"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-109" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a375162384_20209"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a375162384_20209"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-109"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-109" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c109">Comment 109</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-10 15:53 PDT" data-time="1307746433">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-109">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-538623"
         class="attachment patch obsolete"
         data-id="538623" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.1.patch">
      <meta itemprop="contentSize" content="39736">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=538623">
          <a class="link" href="attachment.cgi?id=538623&amp;action=diff">
        <span id="att-538623-description" itemprop="description">part 3.1: Replace IsContainingBlock with GetContainingBlock</span></a> (obsolete)
        — <a href="attachment.cgi?id=538623&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=538623">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-109" data-comment-id="5526125">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c108">comment #108</a>)
<span class="quote">&gt; Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=534950" name="attach_534950" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">attachment 534950</a> <a href="/attachment.cgi?id=534950&amp;action=edit" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">[details]</a> <a href="/attachment.cgi?id=534950&amp;action=diff" title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=534950'>[review]</a> [review]
&gt; [WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock
&gt; 
&gt; &gt;+++ b/layout/generic/nsFrame.cpp
&gt; &gt;+PRBool
&gt; &gt;+nsIFrame::IsBlockWrapper()
&gt; &gt;+{
&gt; &gt;+  if (nsLayoutUtils::GetAsBlock(this)) {
&gt; 
&gt; I don't think we need this check; just check the pseudo type directly. 
&gt; Unless this is meant to be an optimization?  I'm not sure which is faster...</span >

No, this wasn't meant to be an optimization (and if it were, it would've been a premature one!).  I'll fix this.

<span class="quote">&gt; &gt;+GetNearestBlockContainer(nsIFrame* frame)
&gt; 
&gt; Can you make this iterative instead of recursing?  Should be simple, and
&gt; better to not recurse when we can avoid it.</span >

Sure.

<span class="quote">&gt; &gt;+nsIFrame::GetContainingBlock()
&gt; 
&gt; 1) Would it make sense to test IsAbsolutelyPositioned() instead of using the
&gt; switch?</span >

I guess so.

<span class="quote">&gt; 2) Even if IsAbsolutelyPositioned(), we probably need to check for the
&gt; out-of-flow bit before deciding the containing block is our parent.  I hate
&gt; MathML's messing with positioning.  :(</span >

I don't really know about how MathML messes with positioning, so I'm not really sure what you're suggesting here...

<span class="quote">&gt; &gt;+++ b/layout/generic/nsHTMLReflowState.cpp
&gt; &gt;+  // Absolutely positioned frames should always be kids of the frames that
&gt; &gt;+  // determine their containing block, except for inner table frames.
&gt; 
&gt; I'm not sure I follow this comment, given the code below.  In particular,
&gt; for positioned inner table frames you're setting mCBReflowState =
&gt; parentReflowState!  I think this comment should just go away.</span >

Agreed.  This was stupid.  :-)

<span class="quote">&gt; &gt;+  if (parentReflowState-&gt;frame == frame-&gt;GetContainingBlock() ||
&gt; &gt;       (NS_FRAME_GET_TYPE(mFrameType) == NS_CSS_FRAME_TYPE_ABSOLUTE)) {
&gt; 
&gt; Isn't that second test redundant?  That is, can mFrameType be ABSOLUTE when
&gt; parentReflowState-&gt;frame != frame-&gt;GetContainingBlock()?  Used to be that we
&gt; needed the mFrameType test to handle the case when parentReflowState-&gt;frame
&gt; was a rel pos inline, but with your changes that will test as
&gt; frame-&gt;GetContainingBlock(), right?</span >

You're right, I've removed it.

<span class="quote">&gt; &gt;     // an absolutely positioned inner table needs to use the parent of
&gt; &gt;+    // the outer table.
&gt; 
&gt; This comment doesn't seem to match reality.</span >

Right, fixed.

<span class="quote">&gt; &gt;+    if (frame-&gt;GetType() == nsGkAtoms::tableFrame &amp;&amp;
&gt; &gt;+        !parentReflowState-&gt;frame-&gt;GetStyleDisplay()-&gt;IsAbsolutelyPositioned()) {
&gt; &gt;+      mCBReflowState = parentReflowState-&gt;mCBReflowState;
&gt; 
&gt; As I said on IRC, this doesn't quite make sense to me.  Why do we use the
&gt; containing block of the _outer_ table for non-positioned inner tables only? 
&gt; Shouldn't we just use the outer table as the inner table's containing block
&gt; in all cases?</span >

OK, so I tried really hard to remember why I've done this, to no avail.  So I removed it and ran the reftests, and not including this check breaks this test: &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/371561-1.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/371561-1.html?force=1</a>&gt;.  In this test, we have an abs-pos table as a child of a positioned inline.  I guess in that case, the parent's CB is not suitable as the CB for the inner table frame.  Maybe we need to change this to check for the positioned inline case?  I really don't know what's a better way to deal with this situation.

<span class="quote">&gt; &gt;+  } else if (frame-&gt;GetType() == nsGkAtoms::tableColFrame ||
&gt; &gt;+             frame-&gt;GetType() == nsGkAtoms::tableRowFrame ||
&gt; &gt;+             frame-&gt;IsBlockWrapper()) {
&gt; &gt;+    mCBReflowState = parentReflowState;
&gt; 
&gt; Why is this clause needed?  That is, if frame-&gt;IsBlockWrapper(), shouldn't
&gt; we have fallen into the first clause of the |if|?  And similar for colframe
&gt; and rowframe?</span >

Hmm, right.  I had probably added this while I was in the middle of working on this, and forgot to take it out.

<span class="quote">&gt; &gt;+    // Make sure that we don't set mCBReflowState to null for edge cases
&gt; &gt;+    // such as root frames.
&gt; 
&gt; Hmm.  What used to happen for those before?</span >

Oops, s/root/canvas/.  nsCanvasFrame::IsContainingBlock returns true, so for canvas, we used to end up in the first if branch.  Basically, this preserves that behavior.

<span class="quote">&gt; &gt;&#64;&#64; -368,17 +365,18 &#64;&#64; nsHTMLReflowState::InitResizeFlags(nsPre
&gt; &gt;+  } else if (mCBReflowState &amp;&amp;
&gt; &gt;+             !(nsLayoutUtils::GetAsBlock(frame) &amp;&amp; !frame-&gt;IsBlockWrapper())) {
&gt; 
&gt; I _think_ this is OK, but I think that would be more readable as:
&gt; 
&gt;    } else if (mCBReflowState &amp;&amp;
&gt;               (!nsLayoutUtils::GetAsBlock(frame) ||
&gt; frame-&gt;IsBlockWrapper())) {
&gt; 
&gt; (less in the way of double-negatives).</span >

Fixed.

<span class="quote">&gt; &gt;&#64;&#64; -412,17 +410,18 &#64;&#64; nsHTMLReflowState::InitResizeFlags(nsPre
&gt; &gt;     // but only on containing blocks if this frame is not a suitable block
&gt; &gt;-    dependsOnCBHeight |= !frame-&gt;IsContainingBlock();
&gt; &gt;+    dependsOnCBHeight |= !(mCBReflowState &amp;&amp;
&gt; &gt;+                           frame-&gt;GetContainingBlock() == mCBReflowState-&gt;frame);
&gt; 
&gt; This I'm pretty sure is wrong.  The test here needs to match the test in
&gt; nsHTMLReflowState::CalcLineHeight(void), which I think is actually correct.</span >

Done.

<span class="quote">&gt; &gt;+nsHTMLReflowState::GetContainingBlockFor(nsIFrame* aFrame)
&gt; 
&gt; This whole method seems redundant.  Indeed, if
&gt; aFrame-&gt;GetStyleDisplay()-&gt;IsAbsolutelyPositioned(), then
&gt; aFrame-&gt;GetContainingBlock() == aFrame-&gt;GetParent(), right?  So this method
&gt; always returns aFrame-&gt;GetContainingBlock(), as far as I can tell.
&gt; 
&gt; If I'm right, then we should just make it return
&gt; aFrame-&gt;GetContainingBlock() and file a bug to nix this method altogether.</span >

Correct.  But not worth filing another bug, I just went ahead and did it.  :-)

<span class="quote">&gt; &gt;+++ b/layout/generic/nsIFrame.h
&gt; &gt;+  PRBool IsBlockWrapper();
&gt; 
&gt; This can be a const method, right?
&gt; 
&gt; &gt;+  nsIFrame* GetContainingBlock();
&gt; 
&gt; Likewise.</span >

Done.

<span class="quote">&gt; &gt;+++ b/layout/style/nsComputedDOMStyle.cpp
&gt; &gt;+    if (nsLayoutUtils::GetAsBlock(mInnerFrame) &amp;&amp; !mInnerFrame-&gt;IsBlockWrapper()) {
&gt; 
&gt; This pattern pops up a lot in this patch.  Can we just factor it out into a
&gt; helper method on nsLayoutUtils or something?</span >

Done: nsLayoutUtils::IsNonWrapperBlock.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=534950&amp;action=edit"
           title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #534950</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=538623&amp;action=edit"
           title="part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #538623</a> -
        Flags: review?(bzbarsky)</div><div class="change">
        <a href="/attachment.cgi?id=534950&amp;action=edit"
           title="[WIP] part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #534950</a> -
        Flags: <span class="activity-deleted">review?(bzbarsky)</span></div></div></div><div class="change-set" id="c110"><div class="comment" data-id="5537714" data-no="110"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-110" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a375162384_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a375162384_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-110"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-110" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c110">Comment 110</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-16 14:09 PDT" data-time="1308258544">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-110">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-110" data-comment-id="5537714">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=538623" name="attach_538623" title="part 3.1: Replace IsContainingBlock with GetContainingBlock">attachment 538623</a> <a href="/attachment.cgi?id=538623&amp;action=edit" title="part 3.1: Replace IsContainingBlock with GetContainingBlock">[details]</a> <a href="/attachment.cgi?id=538623&amp;action=diff" title="part 3.1: Replace IsContainingBlock with GetContainingBlock">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=538623'>[review]</a>
part 3.1: Replace IsContainingBlock with GetContainingBlock

<span class="quote">&gt; I don't really know about how MathML messes with positioning</span >

It disallows positioning inside it, so the style can be NS_STYLE_POSITION_ABSOLUTE but the frame is still in-flow and behaves like a statically-positioned frame...  So I really think we need to test IsAbsolutelyPositioned() &amp;&amp; out-of-flow.

<span class="quote">&gt;+++ b/layout/generic/nsHTMLReflowState.cpp
&gt;+    // Inner table frames need to use the containing block of the outer
&gt;+    // table frame, unless if they're absolutely positioned.</span >

s/unless if/unless/

You can just check GetStyleDisplay() on frame, instead of checking it on parentReflowState-&gt;frame, right?

<span class="quote">&gt; I guess in that case, the parent's CB is not suitable as the CB for
&gt; the inner table frame.</span >

Well, sure.  But the question is why it _is_ for non-positioned cases.  I guess percentage heights or something?

We should revisit this code after <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Outer table frame's width is set to the width of the containing block"
   href="/show_bug.cgi?id=659828">bug 659828</a>, perhaps.  In my ideal world the comment here would describe _why_ the containing block is what it is.  In my even more ideal world, GetContainingBlock would return the right thing on inner tables to start with!

Can we file a followup bug to sort this out?

<span class="quote">&gt; Oops, s/root/canvas/.  nsCanvasFrame::IsContainingBlock returns true,
&gt; so for canvas, we used to end up in the first if branch.  Basically,
&gt; this preserves that behavior.</span >

But frame-&gt;GetContainingBlock() should be the canvas for kids of the canvas, no?  So shouldn't we still end up in the first if branch?  Or is this trying to deal with the case when |frame| is the canvas or something?  But what's parentReflowState-&gt;frame in that case?  I'd really like the comments to clearly explain which case we're dealing with, at least.

The rest looks fine.</pre></div><div class="change-set" id="c111"><div class="comment" data-id="5541597" data-no="111"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-111" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a375162384_20209"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a375162384_20209"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-111"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-111" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c111">Comment 111</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-19 13:27 PDT" data-time="1308515267">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-111">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-540345"
         class="attachment patch obsolete"
         data-id="540345" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.1.patch">
      <meta itemprop="contentSize" content="43296">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=540345">
          <a class="link" href="attachment.cgi?id=540345&amp;action=diff">
        <span id="att-540345-description" itemprop="description">part 3.1: Replace IsContainingBlock with GetContainingBlock</span></a> (obsolete)
        — <a href="attachment.cgi?id=540345&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=540345">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-111" data-comment-id="5541597">OK, this should address all of the review comments.  I finally figured out that special casing non-abspos inner table frames is a mistake; special casing should happen in ComputeContainingBlockRectangle.  This fails the reftest we talked about on IRC.  This is the fix: &lt;<a rel="nofollow" href="http://hg.mozilla.org/users/ehsan.akhgari_gmail.com/mq/file/b879492c5fc7/trial">http://hg.mozilla.org/users/ehsan.akhgari_gmail.com/mq/file/b879492c5fc7/trial</a>&gt;, and it should be the only significant change in this version of the patch (aside from the reftests added).</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=538623&amp;action=edit"
           title="part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #538623</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=540345&amp;action=edit"
           title="part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #540345</a> -
        Flags: review?(bzbarsky)</div><div class="change">
        <a href="/attachment.cgi?id=538623&amp;action=edit"
           title="part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #538623</a> -
        Flags: <span class="activity-deleted">review?(bzbarsky)</span></div></div></div><div class="change-set" id="c112"><div class="comment" data-id="5545231" data-no="112"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-112" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a375162384_20209"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a375162384_20209"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-112"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-112" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c112">Comment 112</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-21 06:56 PDT" data-time="1308664612">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-112">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-112" data-comment-id="5545231">We need to back this out from Aurora if the rest of the pieces don't land by the next Aurora migration (which is pretty unlikely I think!)</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=isnotempty">status-firefox6</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=equals&amp;v1=fixed">fixed</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox7&amp;o1=isnotempty">tracking-firefox7</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox7&amp;o1=equals&amp;v1=%3F">?</a></div></div></div><div class="change-set" id="a376188679_251051"><div class="change" id="aa376188679_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a376188679_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a376188679_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a376188679_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a376188679_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a376188679_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-21 12:24 PDT" data-time="1308684243">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Crash [&#64; nsAbsoluteContainingBlock::GetChildListName] with null this | ASSERTION: The frame is marked as an abspos container but doesn't have the property: 'absCB'"
   href="/show_bug.cgi?id=665853">665853</a></div></div></div><div class="change-set" id="c113"><div class="comment" data-id="5546486" data-no="113"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-113" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a376188679_251051"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a376188679_251051"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-113"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-113" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c113">Comment 113</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-21 13:47 PDT" data-time="1308689254">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-113">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-113" data-comment-id="5546486">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=540345" name="attach_540345" title="part 3.1: Replace IsContainingBlock with GetContainingBlock">attachment 540345</a> <a href="/attachment.cgi?id=540345&amp;action=edit" title="part 3.1: Replace IsContainingBlock with GetContainingBlock">[details]</a> <a href="/attachment.cgi?id=540345&amp;action=diff" title="part 3.1: Replace IsContainingBlock with GetContainingBlock">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=540345'>[review]</a>
part 3.1: Replace IsContainingBlock with GetContainingBlock

r=me with two nits that don't need another patch:

1)  Please file that followup bug about sorting out GetContainingBlock() behavior for inner tables.

2)  The new check added to ComputeContainingBlockRectangle should probably also check that frame-&gt;GetParent() is out of flow.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=540345&amp;action=edit"
           title="part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #540345</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c114"><div class="comment" data-id="5549982" data-no="114"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-114" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a376188679_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a376188679_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-114"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-114" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c114">Comment 114</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-22 17:51 PDT" data-time="1308790262">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-114">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-541248"
         class="attachment patch obsolete"
         data-id="541248" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.1.patch">
      <meta itemprop="contentSize" content="44142">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=541248">
          <a class="link" href="attachment.cgi?id=541248&amp;action=diff">
        <span id="att-541248-description" itemprop="description">part 3.1: Replace IsContainingBlock with GetContainingBlock</span></a> (obsolete)
        — <a href="attachment.cgi?id=541248&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=541248">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-114" data-comment-id="5549982">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c113">comment #113</a>)
<span class="quote">&gt; Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=540345" name="attach_540345" title="part 3.1: Replace IsContainingBlock with GetContainingBlock">attachment 540345</a> <a href="/attachment.cgi?id=540345&amp;action=edit" title="part 3.1: Replace IsContainingBlock with GetContainingBlock">[details]</a> <a href="/attachment.cgi?id=540345&amp;action=diff" title="part 3.1: Replace IsContainingBlock with GetContainingBlock">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=540345'>[review]</a> [review]
&gt; part 3.1: Replace IsContainingBlock with GetContainingBlock
&gt; 
&gt; r=me with two nits that don't need another patch:
&gt; 
&gt; 1)  Please file that followup bug about sorting out GetContainingBlock()
&gt; behavior for inner tables.</span >

Filed <a class="bz_bug_link
          bz_status_NEW"
   title="NEW - Sort out the behavior of nsIFrame::GetContainingBlock for inner table frames"
   href="/show_bug.cgi?id=666447">bug 666447</a>.

<span class="quote">&gt; 2)  The new check added to ComputeContainingBlockRectangle should probably
&gt; also check that frame-&gt;GetParent() is out of flow.</span >

Done.

Also, added a new reftest for the case you asked me to test.  But there's one problem with it: the test asserts here:

<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsHTMLReflowState.cpp#1584">http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsHTMLReflowState.cpp#1584</a>

The assertion happens because aContainingBlockRS-&gt;mComputedBorderPadding.right is 60 (because of the right-border style, while aContainingBlockRS-&gt;frame-&gt;GetRect() is empty (because the inline frame's reflow is not finished yet.)  It seems like the comment there about nsInlineFrame::Reflow passing the CB dimensions is just lies, and the same assertions happen without my patches too.

Should I file a bug about that and annotate the reftest file?</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=540345&amp;action=edit"
           title="part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #540345</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c115"><div class="comment" data-id="5550056" data-no="115"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-115" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a376188679_251051"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a376188679_251051"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-115"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-115" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c115">Comment 115</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-22 18:40 PDT" data-time="1308793200">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-115">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-115" data-comment-id="5550056">The comment about nsInlineFrame::Reflow passing the CB dimensions is true for the kids of that inline frame; the _outer_ table frame gets the right CB size passed to it.  ;)

Please do file a bug and annotate the reftest, yes.</pre></div><div class="change-set" id="c116"><div class="comment" data-id="5551746" data-no="116"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-116" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a376188679_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a376188679_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-116"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-116" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c116">Comment 116</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-23 11:37 PDT" data-time="1308854269">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-116">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-541446"
         class="attachment patch obsolete"
         data-id="541446" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.1.patch">
      <meta itemprop="contentSize" content="44179">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=541446">
          <a class="link" href="attachment.cgi?id=541446&amp;action=diff">
        <span id="att-541446-description" itemprop="description">part 3.1: Replace IsContainingBlock with GetContainingBlock</span></a> (obsolete)
        — <a href="attachment.cgi?id=541446&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=541446">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-116" data-comment-id="5551746">Filed <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: Negative containing block width!&quot; with tables embedded in a positioned inline with border"
   href="/show_bug.cgi?id=666606">bug 666606</a> for the assertion.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=541248&amp;action=edit"
           title="part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #541248</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c117"><div class="comment" data-id="5555292" data-no="117"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-117" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a376188679_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a376188679_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-117"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-117" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c117">Comment 117</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-24 15:38 PDT" data-time="1308955126">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-117">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-541837"
         class="attachment patch"
         data-id="541837" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-3.1.patch">
      <meta itemprop="contentSize" content="44908">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=541837">
          <a class="link" href="attachment.cgi?id=541837&amp;action=diff">
        <span id="att-541837-description" itemprop="description">part 3.1: Replace IsContainingBlock with GetContainingBlock</span></a>
        — <a href="attachment.cgi?id=541837&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=541837">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-117" data-comment-id="5555292">Switched the reftests to use the Ahem font for precise measurements, and skipped them because of <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Incremental reflow that changes size of a relatively positioned inline doesn't correctly reflow an absolutely positioned child of it"
   href="/show_bug.cgi?id=667079">bug 667079</a>.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=541446&amp;action=edit"
           title="part 3.1: Replace IsContainingBlock with GetContainingBlock"
           class=""
        >Attachment #541446</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c118"><div class="comment" data-id="5557379" data-no="118"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-118" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11608" id="a376188679_251051"><img src="https://secure.gravatar.com/avatar/d2dc9227eafcd0ec5ba3712ee4f19b75?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_11608" id="a376188679_251051"><a class="email " href="/user_profile?user_id=11608" > <span class="fna">Jesse Ruderman</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-118"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-118" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c118">Comment 118</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-26 13:18 PDT" data-time="1309119514">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-118">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-118" data-comment-id="5557379"><span class="quote">&gt;We need to back this out from Aurora if the rest of the pieces don't land by the &gt;next Aurora migration (which is pretty unlikely I think!)</span >

I'd prefer if you backed it out of mozilla-central. This divergence between what we're testing on mozilla-central and shipping in 5,6,7 is increasingly problematic. So is not being able to fuzz properly (see <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: unexpected child list&quot; and more"
   href="/show_bug.cgi?id=656130">bug 656130</a>).

Did this ever get backed out from Aurora-6? The bug is marked as &quot;status-firefox6:fixed&quot; :(</pre></div><div class="change-set" id="a376800135_251051"><div class="change" id="aa376800135_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a376800135_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a376800135_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a376800135_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a376800135_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a376800135_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-28 14:14 PDT" data-time="1309295699">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Crash [&#64; nsCSSFrameConstructor::FindFrameForContentSibling(nsIContent*, nsIContent*, unsigned char&amp;, int)] with null sibling"
   href="/show_bug.cgi?id=660588">660588</a></div></div></div><div class="change-set" id="c119"><div class="comment" data-id="5563018" data-no="119"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-119" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a376800135_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a376800135_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-119"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-119" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c119">Comment 119</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-28 15:04 PDT" data-time="1309298659">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-119">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-119" data-comment-id="5563018">(In reply to <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c118">comment #118</a>)
<span class="quote">&gt; &gt;We need to back this out from Aurora if the rest of the pieces don't land by the &gt;next Aurora migration (which is pretty unlikely I think!)
&gt; 
&gt; I'd prefer if you backed it out of mozilla-central. This divergence between
&gt; what we're testing on mozilla-central and shipping in 5,6,7 is increasingly
&gt; problematic. So is not being able to fuzz properly (see <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: unexpected child list&quot; and more"
   href="/show_bug.cgi?id=656130">bug 656130</a>).</span >

OK, fair enough.  Backed out the patch from mozilla-central: &lt;<a rel="nofollow" href="http://hg.mozilla.org/mozilla-central/rev/a10dd1a539db">http://hg.mozilla.org/mozilla-central/rev/a10dd1a539db</a>&gt;

<span class="quote">&gt; Did this ever get backed out from Aurora-6? The bug is marked as
&gt; &quot;status-firefox6:fixed&quot; :(</span >

It has been backed out (<a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c107">comment 107</a>), which is why I set the status to fixed.  Is that the wrong value?</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox7&amp;o1=isnotempty">tracking-firefox7</a>:
          <a href="/buglist.cgi?f1=cf_tracking_firefox7&amp;o1=equals&amp;v1=%3F">?</a> &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox7&amp;o1=equals&amp;v1=-">-</a></div></div></div><div class="change-set" id="a376877387_11608"><div class="change" id="aa376877387_11608">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_11608" id="a376877387_11608"><img src="https://secure.gravatar.com/avatar/d2dc9227eafcd0ec5ba3712ee4f19b75?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_11608" id="a376877387_11608"><a class="email " href="/user_profile?user_id=11608" > <span class="fna">Jesse Ruderman</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a376877387_11608"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a376877387_11608">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a376877387_11608">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-06-29 11:42 PDT" data-time="1309372951">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=isnotempty">status-firefox6</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=equals&amp;v1=wontfix">wontfix</a></div></div></div><div class="change-set" id="a377820151_3881"><div class="change" id="aa377820151_3881">
    <table class="layout-table change-head reporter" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a377820151_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a377820151_3881"><a class="email " href="/user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: 🏴󠁵󠁳󠁣󠁡󠁿 ⌚UTC-8</span></a>
</div>
            <span class="user-role">Reporter</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a377820151_3881"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a377820151_3881">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a377820151_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-07-10 09:35 PDT" data-time="1310315715">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_NEW"
   title="NEW - Anonymous box container of table with caption should not stretch to fit the caption"
   href="/show_bug.cgi?id=349144">349144</a></div></div></div><div class="change-set" id="a379207717_5168"><div class="change" id="aa379207717_5168">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5168" id="a379207717_5168"><img src="https://secure.gravatar.com/avatar/04f630b96bdc20c8df8b8ab26a3a302e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5168" id="a379207717_5168"><a class="email " href="/user_profile?user_id=5168" > <span class="fna">Mats Palmgren (:mats)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a379207717_5168"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a379207717_5168">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a379207717_5168">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-07-26 11:01 PDT" data-time="1311703281">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Absolutely positioned div appears in wrong location in absolutely positioned table"
   href="/show_bug.cgi?id=674265">674265</a></div></div></div><div class="change-set" id="c121"><div class="comment" data-id="5644053" data-no="121"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-121" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_482154" id="a379207717_5168"><img src="https://secure.gravatar.com/avatar/83c37abc1a043dd6cf00660334870340?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_482154" id="a379207717_5168"><a class="email " href="/user_profile?user_id=482154" > <span class="fna">LegNeato</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-121"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-121" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c121">Comment 121</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-08-09 17:48 PDT" data-time="1312937336">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-121">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-121" data-comment-id="5644053">Probably more appropriate as unaffected, as the backout made Firefox 6 unaffected by this problem.</pre><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=isnotempty">status-firefox6</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=equals&amp;v1=wontfix">wontfix</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox6&amp;o1=equals&amp;v1=unaffected">unaffected</a></div></div></div><div class="change-set" id="c122"><div class="comment" data-id="5732338" data-no="122"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-122" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a379207717_5168"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a379207717_5168"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-122"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-122" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c122">Comment 122</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-22 15:34 PDT" data-time="1316730896">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-122">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-561910"
         class="attachment patch obsolete"
         data-id="561910" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="86621">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=561910">
          <a class="link" href="attachment.cgi?id=561910&amp;action=diff">
        <span id="att-561910-description" itemprop="description">Part 2: Implement the absolute positioning support for all frames</span></a> (obsolete)
        — <a href="attachment.cgi?id=561910&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=561910">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-122" data-comment-id="5732338">This part is rewritten on top of the new frame childlist APIs.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=530450&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #530450</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="/attachment.cgi?id=561910&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #561910</a> -
        Flags: review?(roc)</div></div></div><div class="change-set" id="c123"><div class="comment" data-id="5732502" data-no="123"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-123" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a379207717_5168"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a379207717_5168"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-123"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-123" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c123">Comment 123</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-22 16:20 PDT" data-time="1316733609">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-123">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-123" data-comment-id="5732502">Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=561910" name="attach_561910" title="Part 2: Implement the absolute positioning support for all frames">attachment 561910</a> <a href="/attachment.cgi?id=561910&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=561910&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=561910'>[review]</a>
Part 2: Implement the absolute positioning support for all frames

Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=561910" name="attach_561910" title="Part 2: Implement the absolute positioning support for all frames">attachment 561910</a> <a href="/attachment.cgi?id=561910&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=561910&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=561910'>[review]</a>:
-----------------------------------------------------------------

::: layout/tables/nsTableOuterFrame.cpp
&#64;&#64; +220,5 &#64;&#64;
<span class="quote">&gt;        return mFrames;
&gt;      case kCaptionList:
&gt;        return mCaptionFrames;
&gt; +    case kAbsoluteList:
&gt; +      return nsHTMLContainerFrame::GetChildList(aListID);</span >

Why don't we just make this the default case?

In fact, can't nsTableOuterFrame::GetChildList() just check for kCaptionList and pass all other cases to nsHTMLContainerFrame::GetChildList?</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=561910&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #561910</a> -
        Flags: review?(roc) &rarr; review+</div></div></div><div class="change-set" id="c124"><div class="comment" data-id="5732887" data-no="124"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-124" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a379207717_5168"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a379207717_5168"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-124"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-124" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c124">Comment 124</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-22 19:26 PDT" data-time="1316744789">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-124">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-124" data-comment-id="5732887">(In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c123">comment #123</a>)
<span class="quote">&gt; Comment on <span class="bz_obsolete"><a href="/attachment.cgi?id=561910" name="attach_561910" title="Part 2: Implement the absolute positioning support for all frames">attachment 561910</a> <a href="/attachment.cgi?id=561910&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=561910&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=561910'>[review]</a>
&gt; Part 2: Implement the absolute positioning support for all frames
&gt; 
&gt; Review of <span class="bz_obsolete"><a href="/attachment.cgi?id=561910" name="attach_561910" title="Part 2: Implement the absolute positioning support for all frames">attachment 561910</a> <a href="/attachment.cgi?id=561910&amp;action=edit" title="Part 2: Implement the absolute positioning support for all frames">[details]</a> <a href="/attachment.cgi?id=561910&amp;action=diff" title="Part 2: Implement the absolute positioning support for all frames">[diff]</a></span> <a href='/page.cgi?id=splinter.html&amp;ignore=&amp;bug=10209&amp;attachment=561910'>[review]</a>:
&gt; -----------------------------------------------------------------
&gt; 
&gt; ::: layout/tables/nsTableOuterFrame.cpp
&gt; &#64;&#64; +220,5 &#64;&#64;
&gt; &gt;        return mFrames;
&gt; &gt;      case kCaptionList:
&gt; &gt;        return mCaptionFrames;
&gt; &gt; +    case kAbsoluteList:
&gt; &gt; +      return nsHTMLContainerFrame::GetChildList(aListID);
&gt; 
&gt; Why don't we just make this the default case?</span >

The default case is returning an empty list right now.  I assumed that's for a good reason?

<span class="quote">&gt; In fact, can't nsTableOuterFrame::GetChildList() just check for kCaptionList
&gt; and pass all other cases to nsHTMLContainerFrame::GetChildList?</span >

If that modification to the default case is acceptable, then we can make this change.</pre></div><div class="change-set" id="c125"><div class="comment" data-id="5732908" data-no="125"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-125" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a379207717_5168"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a379207717_5168"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-125"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-125" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c125">Comment 125</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-22 19:37 PDT" data-time="1316745434">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-125">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-125" data-comment-id="5732908">(In reply to Ehsan Akhgari [:ehsan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c124">comment #124</a>)
<span class="quote">&gt; The default case is returning an empty list right now.  I assumed that's for
&gt; a good reason?</span >

I can't think what that reason might be.</pre></div><div class="change-set" id="c126"><div class="comment" data-id="5732922" data-no="126"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-126" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a379207717_5168"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a379207717_5168"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-126"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-126" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c126">Comment 126</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-22 19:57 PDT" data-time="1316746651">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-126">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-561959"
         class="attachment patch"
         data-id="561959" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.patch">
      <meta itemprop="contentSize" content="86769">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=561959">
          <a class="link" href="attachment.cgi?id=561959&amp;action=diff">
        <span id="att-561959-description" itemprop="description">Part 2: Implement the absolute positioning support for all frames</span></a>
        — <a href="attachment.cgi?id=561959&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=561959">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-126" data-comment-id="5732922">Addressed the review comment.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=561910&amp;action=edit"
           title="Part 2: Implement the absolute positioning support for all frames"
           class=""
        >Attachment #561910</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c127"><div class="comment" data-id="5738381" data-no="127"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-127" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a379207717_5168"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a379207717_5168"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-127"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-127" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c127">Comment 127</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-26 15:37 PDT" data-time="1317076639">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-127">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-562556"
         class="attachment patch"
         data-id="562556" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-2.1.patch">
      <meta itemprop="contentSize" content="875">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=562556">
          <a class="link" href="attachment.cgi?id=562556&amp;action=diff">
        <span id="att-562556-description" itemprop="description">Part 2.1: Adjust the assertion count on the test case for bug 348729</span></a>
        — <a href="attachment.cgi?id=562556&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=562556">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-127" data-comment-id="5738381">These two additional assertions happening here are the same as <a class="bz_bug_link
          bz_status_REOPENED"
   title="REOPENED - ASSERTION: Wrong parent style context with ::first-line or ::first-letter and generated content"
   href="/show_bug.cgi?id=548836">bug 548836</a>, only now they happen twice for the placeholder frames of the abs-pos frame.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=562556&amp;action=edit"
           title="Part 2.1: Adjust the assertion count on the test case for bug 348729"
           class=""
        >Attachment #562556</a> -
        Flags: review?(roc)</div></div></div><div class="change-set" id="a384581104_251051"><div class="change" id="aa384581104_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384581104_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a384581104_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a384581104_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a384581104_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a384581104_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-26 15:37 PDT" data-time="1317076668">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=562556&amp;action=edit"
           title="Part 2.1: Adjust the assertion count on the test case for bug 348729"
           class=""
        >Attachment #562556</a> -
        Attachment description: Part 2.1: &rarr; Part 2.1: Adjust the assertion count on the test case for bug 348729</div></div></div><div class="change-set" id="a384582417_5038"><div class="change" id="aa384582417_5038">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5038" id="a384582417_5038"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a384582417_5038"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a384582417_5038">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a384582417_5038">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-26 15:59 PDT" data-time="1317077981">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=562556&amp;action=edit"
           title="Part 2.1: Adjust the assertion count on the test case for bug 348729"
           class=""
        >Attachment #562556</a> -
        Flags: review?(roc) &rarr; review+</div></div></div><div class="change-set" id="c128"><div class="comment" data-id="5742478" data-no="128"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-128" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-128"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-128" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c128">Comment 128</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 00:31 PDT" data-time="1317195084">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-128">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-128" data-comment-id="5742478">Try run for 3d1d60d61b12 is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=3d1d60d61b12">https://tbpl.mozilla.org/?tree=Try&amp;rev=3d1d60d61b12</a>
Results (out of 3 total builds):
    success: 2
    warnings: 1
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-3d1d60d61b12">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-3d1d60d61b12</a></pre></div><div class="change-set" id="c129"><div class="comment" data-id="5742480" data-no="129"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-129" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-129"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-129" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c129">Comment 129</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 00:31 PDT" data-time="1317195101">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-129">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-129" data-comment-id="5742480">Try run for 5de952be2d5a is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=5de952be2d5a">https://tbpl.mozilla.org/?tree=Try&amp;rev=5de952be2d5a</a>
Results (out of 3 total builds):
    success: 2
    warnings: 1
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-5de952be2d5a">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-5de952be2d5a</a></pre></div><div class="change-set" id="c130"><div class="comment" data-id="5742482" data-no="130"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-130" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-130"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-130" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c130">Comment 130</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 00:32 PDT" data-time="1317195143">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-130">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-130" data-comment-id="5742482">Try run for a0d0a3161bcf is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=a0d0a3161bcf">https://tbpl.mozilla.org/?tree=Try&amp;rev=a0d0a3161bcf</a>
Results (out of 3 total builds):
    success: 1
    warnings: 2
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-a0d0a3161bcf">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-a0d0a3161bcf</a></pre></div><div class="change-set" id="c131"><div class="comment" data-id="5742487" data-no="131"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-131" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-131"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-131" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c131">Comment 131</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 00:41 PDT" data-time="1317195660">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-131">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-131" data-comment-id="5742487">Try run for ccf050fdea2f is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=ccf050fdea2f">https://tbpl.mozilla.org/?tree=Try&amp;rev=ccf050fdea2f</a>
Results (out of 3 total builds):
    success: 1
    warnings: 2
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-ccf050fdea2f">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-ccf050fdea2f</a></pre></div><div class="change-set" id="c132"><div class="comment" data-id="5742488" data-no="132"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-132" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-132"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-132" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c132">Comment 132</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 00:41 PDT" data-time="1317195667">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-132">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-132" data-comment-id="5742488">Try run for 0266bcb23550 is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=0266bcb23550">https://tbpl.mozilla.org/?tree=Try&amp;rev=0266bcb23550</a>
Results (out of 3 total builds):
    success: 1
    warnings: 2
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-0266bcb23550">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-0266bcb23550</a></pre></div><div class="change-set" id="c133"><div class="comment" data-id="5742491" data-no="133"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-133" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-133"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-133" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c133">Comment 133</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 00:41 PDT" data-time="1317195689">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-133">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-133" data-comment-id="5742491">Try run for 682e26fccd71 is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=682e26fccd71">https://tbpl.mozilla.org/?tree=Try&amp;rev=682e26fccd71</a>
Results (out of 3 total builds):
    success: 1
    warnings: 2
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-682e26fccd71">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-682e26fccd71</a></pre></div><div class="change-set" id="c134"><div class="comment" data-id="5742492" data-no="134"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-134" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-134"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-134" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c134">Comment 134</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 00:41 PDT" data-time="1317195706">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-134">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-134" data-comment-id="5742492">Try run for 9abe603e8e15 is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=9abe603e8e15">https://tbpl.mozilla.org/?tree=Try&amp;rev=9abe603e8e15</a>
Results (out of 3 total builds):
    success: 1
    warnings: 2
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-9abe603e8e15">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-9abe603e8e15</a></pre></div><div class="change-set" id="c135"><div class="comment" data-id="5742493" data-no="135"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-135" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-135"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-135" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c135">Comment 135</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 00:42 PDT" data-time="1317195728">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-135">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-135" data-comment-id="5742493">Try run for 36ab7e228dd2 is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=36ab7e228dd2">https://tbpl.mozilla.org/?tree=Try&amp;rev=36ab7e228dd2</a>
Results (out of 3 total builds):
    success: 2
    warnings: 1
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-36ab7e228dd2">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-36ab7e228dd2</a></pre></div><div class="change-set" id="c136"><div class="comment" data-id="5743821" data-no="136"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-136" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-136"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-136" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c136">Comment 136</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 11:50 PDT" data-time="1317235856">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-136">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-136" data-comment-id="5743821">Try run for 8533d2324679 is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=8533d2324679">https://tbpl.mozilla.org/?tree=Try&amp;rev=8533d2324679</a>
Results (out of 3 total builds):
    success: 2
    warnings: 1
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-8533d2324679">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-8533d2324679</a></pre></div><div class="change-set" id="c137"><div class="comment" data-id="5744657" data-no="137"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-137" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384582417_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-137"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-137" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c137">Comment 137</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 16:05 PDT" data-time="1317251101">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-137">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-137" data-comment-id="5744657">So, I'm facing one last reftest failure that I'm not sure how to debug.  This is the failure: <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=8533d2324679">https://tbpl.mozilla.org/?tree=Try&amp;rev=8533d2324679</a>.  The failure only happens on Windows 7 (and not Windows XP).  The failure is basically the #d1 div appearing below the #d2 div as a horizontal 1-pixel tall line at the bottom of #d2.

It happens with the first two parts of the patch applied.  The reftest in question &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/637597-1.html?force=1">http://mxr.mozilla.org/mozilla-central/source/layout/reftests/bugs/637597-1.html?force=1</a>&gt; is using transforms, but I'm not sure how they're implemented, and how they would interact with absolute positioning.

I tried reproducing the reftest locally.  When I run the entire reftest suite, I can reproduce it.  When I run part of it (such as all of the tests in layout/reftests/bugs), I can't reproduce.  I tried adding some debug code which would print the frame tree before and after the MozReftestInvalidate event, but with that code in place, the failure doesn't happen any more (and the frame trees look identical).

I'm not sure how to proceed with debugging this.  Do you guys have any ideas?</pre></div><div class="change-set" id="c138"><div class="comment" data-id="5744736" data-no="138"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-138" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a384582417_5038"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-138"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-138" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c138">Comment 138</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 16:32 PDT" data-time="1317252728">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-138">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-138" data-comment-id="5744736">You mean #b1 and #b2 right?

I think you're misinterpreting the results. The difference is entirely in the rendering of the #b1 div, the #b2 div is white and nowhere near the #b1 div.

That is a little weird since clearly parts 1 and 2 should not affect behavior of this testcase.

Dumping the layer trees and comparing them might be helpful.</pre></div><div class="change-set" id="c139"><div class="comment" data-id="5744909" data-no="139"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-139" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384582417_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-139"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-139" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c139">Comment 139</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 17:38 PDT" data-time="1317256684">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-139">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-139" data-comment-id="5744909">Roc was right about me misinterpreting the results.  I'm too confused!

Timothy suggested that I should increase the timer in &lt;<a rel="nofollow" href="http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsFrame.cpp#4153">http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsFrame.cpp#4153</a>&gt;.  I increased it to 500ms, and then I reran the reftest suite with MOZ_DUMP_PAINT_LIST, but now the failure doesn't happen any more.  Any other ideas?</pre></div><div class="change-set" id="c140"><div class="comment" data-id="5745027" data-no="140"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-140" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a384582417_5038"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-140"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-140" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c140">Comment 140</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 18:48 PDT" data-time="1317260885">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-140">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-140" data-comment-id="5745027">Getting a layer tree seems like a good idea.

One question is whether you're actually regressing <a class="bz_bug_link
          bz_status_REOPENED"
   title="REOPENED - Drawing errors while moving nodes with css3 transforms inside scaled node."
   href="/show_bug.cgi?id=637597">bug 637597</a>. You might want to run the testcase(s) in that bug.

Breaking up patch 2 into as many independent patches as possible might help narrow down the problem.</pre></div><div class="change-set" id="c141"><div class="comment" data-id="5745083" data-no="141"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-141" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384582417_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-141"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-141" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c141">Comment 141</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 19:32 PDT" data-time="1317263552">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-141">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-141" data-comment-id="5745083">(In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c140">comment #140</a>)
<span class="quote">&gt; One question is whether you're actually regressing <a class="bz_bug_link
          bz_status_REOPENED"
   title="REOPENED - Drawing errors while moving nodes with css3 transforms inside scaled node."
   href="/show_bug.cgi?id=637597">bug 637597</a>. You might
&gt; want to run the testcase(s) in that bug.</span >

Interesting!  Seems like that bug was never quite fixed!  I loaded <a rel="nofollow" href="https://bug637597.bugzilla.mozilla.org/attachment.cgi?id=516245">https://bug637597.bugzilla.mozilla.org/attachment.cgi?id=516245</a> on Mac.  On a trunk build, when the green box moves, its width is increased by 1 pixel on the right side.  With a patched build with my patches, the green box's width is increased in the same way, but its height shrinks up by 1 pixel on the down side too.

On Windows, I don't see this on either a patched or non-patched build.

Is it possible that <a class="bz_bug_link
          bz_status_REOPENED"
   title="REOPENED - Drawing errors while moving nodes with css3 transforms inside scaled node."
   href="/show_bug.cgi?id=637597">bug 637597</a> is not completely fixed, and my patch is triggering it on Windows 7 somehow?</pre></div><div class="change-set" id="c142"><div class="comment" data-id="5745115" data-no="142"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-142" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5038" id="a384582417_5038"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-142"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-142" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c142">Comment 142</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 19:49 PDT" data-time="1317264546">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-142">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-142" data-comment-id="5745115">Yes it is.

The thing is, I don't know why your patch would change anything here. It's supposed to be just a refactoring. If you can reproduce the different on Mac at will, maybe you can track down what's happening differently?</pre></div><div class="change-set" id="c143"><div class="comment" data-id="5745133" data-no="143"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-143" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384582417_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-143"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-143" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c143">Comment 143</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 20:06 PDT" data-time="1317265593">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-143">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-143" data-comment-id="5745133">OK, I'll see if I can track this down on Mac.

Another interesting data point is that back when I was working on this bug in April and May, I used to push this to the try server all the time, and I never got that reftest failure even though the test was living in the tree back then.</pre></div><div class="change-set" id="c144"><div class="comment" data-id="5745145" data-no="144"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-144" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384582417_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-144"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-144" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c144">Comment 144</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 20:16 PDT" data-time="1317266202">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-144">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-563282"
         class="attachment"
         data-id="563282" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="log-trimmed">
      <meta itemprop="contentSize" content="256009">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=563282" itemprop="contentUrl">
        <span id="att-563282-description" itemprop="description">Trimmed log of when the bug happens with the testcase of bug 637597</span></a>
        — <a href="attachment.cgi?id=563282&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-144" data-comment-id="5745145">This is the log representing when the test case is loaded on Mac with a patched build, until the move happens and the bug shows up.</pre></div><div class="change-set" id="c145"><div class="comment" data-id="5745147" data-no="145"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-145" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384582417_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-145"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-145" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c145">Comment 145</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 20:18 PDT" data-time="1317266304">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-145">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-563283"
         class="attachment"
         data-id="563283" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="layers">
      <meta itemprop="contentSize" content="10339">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=563283" itemprop="contentUrl">
        <span id="att-563283-description" itemprop="description">Trimmed log of when the bug happens with the testcase of bug 637597 (only the layer tree)</span></a>
        — <a href="attachment.cgi?id=563283&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-145" data-comment-id="5745147">This is the same log, only the layer tree parts, for easier viewing.</pre></div><div class="change-set" id="c146"><div class="comment" data-id="5745207" data-no="146"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-146" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384582417_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-146"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-146" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c146">Comment 146</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 21:14 PDT" data-time="1317269688">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-146">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-563292"
         class="attachment"
         data-id="563292" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="log.trimmed2">
      <meta itemprop="contentSize" content="277864">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=563292" itemprop="contentUrl">
        <span id="att-563292-description" itemprop="description">Trimmed log of when the bug happens with the testcase of bug 637597 (non-patched build)</span></a>
        — <a href="attachment.cgi?id=563292&amp;action=edit" itemprop="url">Details</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-146" data-comment-id="5745207">I noticed another weird thing.  How many pixels the green box changes in dimensions seems to depend on the Window size.  I was testing the trunk build in a maximized window and my patched build in a non-maximized window.  When I built a non-patched version and tried this, it shows the same behavior as trunk in a maximized window, and it also shows the same behavior as my patched build in the non-maximized window.

I'm not sure how to make sense of this log, or if the current direction in which I'm headed is going to help at all.</pre></div><div class="change-set" id="c147"><div class="comment" data-id="5745223" data-no="147"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-147" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384582417_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-147"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-147" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c147">Comment 147</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 21:22 PDT" data-time="1317270125">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-147">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-147" data-comment-id="5745223">(In reply to Ehsan Akhgari [:ehsan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c143">comment #143</a>)
<span class="quote">&gt; Another interesting data point is that back when I was working on this bug
&gt; in April and May, I used to push this to the try server all the time, and I
&gt; never got that reftest failure even though the test was living in the tree
&gt; back then.</span >

Hmm, I was actually wrong here.  <a class="bz_bug_link
          bz_status_REOPENED"
   title="REOPENED - Drawing errors while moving nodes with css3 transforms inside scaled node."
   href="/show_bug.cgi?id=637597">Bug 637597</a> was marked as fixed by <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Move resolution handling out of layer system into FrameLayerBuilder"
   href="/show_bug.cgi?id=637852">bug 637852</a>, which was landed on 2011-06-22.  So this test probably did not exist in the tree back then.</pre></div><div class="change-set" id="c148"><div class="comment" data-id="5745234" data-no="148"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-148" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384582417_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-148"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-148" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c148">Comment 148</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-28 21:30 PDT" data-time="1317270614">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-148">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-148" data-comment-id="5745234">(In reply to Ehsan Akhgari [:ehsan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c147">comment #147</a>)
<span class="quote">&gt; (In reply to Ehsan Akhgari [:ehsan] from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - problems with absolute or fixed position on table [ABS POS] [FIX POS]"
   href="/show_bug.cgi?id=10209#c143">comment #143</a>)
&gt; &gt; Another interesting data point is that back when I was working on this bug
&gt; &gt; in April and May, I used to push this to the try server all the time, and I
&gt; &gt; never got that reftest failure even though the test was living in the tree
&gt; &gt; back then.
&gt; 
&gt; Hmm, I was actually wrong here.  <a class="bz_bug_link
          bz_status_REOPENED"
   title="REOPENED - Drawing errors while moving nodes with css3 transforms inside scaled node."
   href="/show_bug.cgi?id=637597">Bug 637597</a> was marked as fixed by bug
&gt; 637852, which was landed on 2011-06-22.  So this test probably did not exist
&gt; in the tree back then.</span >

I just downloaded the nightly from 2011-06-23, and I can confirm that the same bug exists in that nightly too!</pre></div><div class="change-set" id="c149"><div class="comment" data-id="5745476" data-no="149"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-149" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-149"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-149" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c149">Comment 149</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-29 00:51 PDT" data-time="1317282675">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-149">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-149" data-comment-id="5745476">Try run for af10abe5e706 is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=af10abe5e706">https://tbpl.mozilla.org/?tree=Try&amp;rev=af10abe5e706</a>
Results (out of 3 total builds):
    success: 1
    warnings: 2
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-af10abe5e706">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-af10abe5e706</a></pre></div><div class="change-set" id="c150"><div class="comment" data-id="5745493" data-no="150"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-150" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384582417_5038"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-150"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-150" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c150">Comment 150</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-29 01:03 PDT" data-time="1317283387">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-150">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-150" data-comment-id="5745493">Try run for 3df652952e6c is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=3df652952e6c">https://tbpl.mozilla.org/?tree=Try&amp;rev=3df652952e6c</a>
Results (out of 3 total builds):
    success: 1
    warnings: 2
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-3df652952e6c">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-3df652952e6c</a></pre></div><div class="change-set" id="c151"><div class="comment" data-id="5746580" data-no="151"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-151" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_255010" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/0646a42110a02dd585f200f270716852?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_255010" id="a384582417_5038"><a class="email " href="/user_profile?user_id=255010" > <span class="fna">Timothy Nikkel (:tnikkel)</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-151"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-151" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c151">Comment 151</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-29 10:22 PDT" data-time="1317316955">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-151">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-151" data-comment-id="5746580">It's pretty easy for me to reproduce the problem in <a class="bz_bug_link
          bz_status_REOPENED"
   title="REOPENED - Drawing errors while moving nodes with css3 transforms inside scaled node."
   href="/show_bug.cgi?id=637597">bug 637597</a> on a plain nightly on Linux (with basic layers). Seems like Ehsan is just getting unlucky here.</pre></div><div class="change-set" id="c152"><div class="comment" data-id="5746617" data-no="152"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-152" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384582417_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384582417_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-152"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-152" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c152">Comment 152</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-29 10:32 PDT" data-time="1317317544">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-152">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-563455"
         class="attachment patch"
         data-id="563455" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="10209-4.patch">
      <meta itemprop="contentSize" content="1250">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached patch
          <meta itemprop="contentUrl" content="attachment.cgi?id=563455">
          <a class="link" href="attachment.cgi?id=563455&amp;action=diff">
        <span id="att-563455-description" itemprop="description">Part 4: Mark the reftest for bug 637597 as random</span></a>
        — <a href="attachment.cgi?id=563455&amp;action=edit" itemprop="url">Details</a>
          — <a href="/page.cgi?id=splinter.html&ignore=&bug=10209&attachment=563455">Splinter Review</a>
      </div>
    </div>

  
    <pre
        class="comment-text  "
        id="ct-152" data-comment-id="5746617">I think the best option for us at this point is to mark that reftest as random (I've already reopened that bug), and add it back to our reftest arsenal when we actually fix that bug.</pre><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=563455&amp;action=edit"
           title="Part 4: Mark the reftest for bug 637597 as random"
           class=""
        >Attachment #563455</a> -
        Flags: review?(roc)</div></div></div><div class="change-set" id="a384833967_5038"><div class="change" id="aa384833967_5038">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5038" id="a384833967_5038"><img src="https://secure.gravatar.com/avatar/e1cadeaaf04bd425d597a571ffe0f522?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5038" id="a384833967_5038"><a class="email " href="/user_profile?user_id=5038" > <span class="fna">Robert O'Callahan (:roc) (email my personal email if necessary)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a384833967_5038"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a384833967_5038">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a384833967_5038">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-29 13:52 PDT" data-time="1317329531">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=563455&amp;action=edit"
           title="Part 4: Mark the reftest for bug 637597 as random"
           class=""
        >Attachment #563455</a> -
        Flags: review?(roc) &rarr; review+</div></div></div><div class="change-set" id="c153"><div class="comment" data-id="5747684" data-no="153"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-153" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384833967_5038"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_251051" id="a384833967_5038"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-153"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-153" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c153">Comment 153</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-29 14:40 PDT" data-time="1317332403">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-153">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-153" data-comment-id="5747684"><a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/9989f9ef7b90">https://hg.mozilla.org/mozilla-central/rev/9989f9ef7b90</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/0cafa2cbe386">https://hg.mozilla.org/mozilla-central/rev/0cafa2cbe386</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/306153bf7a41">https://hg.mozilla.org/mozilla-central/rev/306153bf7a41</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/d5ec6fead55b">https://hg.mozilla.org/mozilla-central/rev/d5ec6fead55b</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/34f184d2a6f8">https://hg.mozilla.org/mozilla-central/rev/34f184d2a6f8</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/00f422b2cf36">https://hg.mozilla.org/mozilla-central/rev/00f422b2cf36</a>

Finally! \o/</pre><div class="activity"><div class="change">Status: ASSIGNED &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2011-09-29 14:40 PDT" data-time="1317332403">9 years ago</span></div><div class="change">Resolution: --- &rarr; FIXED</div></div></div><div class="change-set" id="a384836930_251051"><div class="change" id="aa384836930_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a384836930_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a384836930_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a384836930_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a384836930_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a384836930_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-29 14:41 PDT" data-time="1317332494">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: in-testsuite+</div><div class="change">Target Milestone: Future &rarr; mozilla10</div></div></div><div class="change-set" id="c154"><div class="comment" data-id="5747826" data-no="154"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-154" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_393356" id="a384836930_251051"><img src="https://secure.gravatar.com/avatar/80a34039843edd9ea3b303ce5a745f45?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_393356" id="a384836930_251051"><a class="email disabled" href="/user_profile?user_id=393356" > <span class="fna">Mozilla RelEng Bot</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-154"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-154" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c154">Comment 154</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-09-29 15:11 PDT" data-time="1317334287">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-154">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-154" data-comment-id="5747826">Try run for f17b29c28af5 is complete.
Detailed breakdown of the results available here:
    <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=f17b29c28af5">https://tbpl.mozilla.org/?tree=Try&amp;rev=f17b29c28af5</a>
Results (out of 230 total builds):
    exception: 1
    success: 216
    warnings: 12
    failure: 1
Builds available at <a rel="nofollow" href="http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-f17b29c28af5">http://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/eakhgari&#64;mozilla.com-f17b29c28af5</a></pre></div><div class="change-set" id="a385076411_5168"><div class="change" id="aa385076411_5168">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5168" id="a385076411_5168"><img src="https://secure.gravatar.com/avatar/04f630b96bdc20c8df8b8ab26a3a302e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5168" id="a385076411_5168"><a class="email " href="/user_profile?user_id=5168" > <span class="fna">Mats Palmgren (:mats)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a385076411_5168"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a385076411_5168">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a385076411_5168">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-02 09:12 PDT" data-time="1317571975">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Scribd pages displayed with missing content on the latest trunk (position:absolute combined with -moz-transform:scale)"
   href="/show_bug.cgi?id=691087">691087</a></div></div></div><div class="change-set" id="a385083569_5168"><div class="change" id="aa385083569_5168">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5168" id="a385083569_5168"><img src="https://secure.gravatar.com/avatar/04f630b96bdc20c8df8b8ab26a3a302e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5168" id="a385083569_5168"><a class="email " href="/user_profile?user_id=5168" > <span class="fna">Mats Palmgren (:mats)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a385083569_5168"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a385083569_5168">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a385083569_5168">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-02 11:12 PDT" data-time="1317579133">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Redfin map content doesn't update when moving around the map"
   href="/show_bug.cgi?id=691166">691166</a></div></div></div><div class="change-set" id="a385185018_251051"><div class="change" id="aa385185018_251051">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_251051" id="a385185018_251051"><img src="https://secure.gravatar.com/avatar/51f5959a949c13324ec164cc72b5e98a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_251051" id="a385185018_251051"><a class="email " href="/user_profile?user_id=251051" > <span class="fna">:ehsan akhgari</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a385185018_251051"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a385185018_251051">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a385185018_251051">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-03 15:23 PDT" data-time="1317680582">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=dev-doc-needed&amp;resolution=---">dev-doc-needed</a></div></div></div><div class="change-set" id="a385189889_342786"><div class="change" id="aa385189889_342786">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_342786" id="a385189889_342786"><img src="https://secure.gravatar.com/avatar/f3bc800fde3724f78dc9e01e97b4f2e1?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_342786" id="a385189889_342786"><a class="email " href="/user_profile?user_id=342786" > <span class="fna">Mounir Lamouri (:mounir)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a385189889_342786"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a385189889_342786">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a385189889_342786">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-03 16:44 PDT" data-time="1317685453">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Relatively positioned buttons should be abs pos containing block"
   href="/show_bug.cgi?id=437722">437722</a></div></div></div><div class="change-set" id="a385198034_20209"><div class="change" id="aa385198034_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a385198034_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a385198034_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a385198034_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a385198034_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a385198034_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-03 18:59 PDT" data-time="1317693598">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED INVALID - absolute/fixed-position tables ignore top/bottom CSS for calculating height"
   href="/show_bug.cgi?id=691628">691628</a></div></div></div><div class="change-set" id="a385218042_129809"><div class="change" id="aa385218042_129809">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_129809" id="a385218042_129809"><img src="https://secure.gravatar.com/avatar/5769ea27a1744c986f4ff3cf44674daf?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_129809" id="a385218042_129809"><a class="email " href="/user_profile?user_id=129809" > <span class="fna">j.j.</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a385218042_129809"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a385218042_129809">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a385218042_129809">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-04 00:33 PDT" data-time="1317713606">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - Tracking bug for web content regressions caused by fixing bug 10209 and bug 87277"
   href="/show_bug.cgi?id=691591">691591</a></div></div></div><div class="change-set" id="a385255166_20209"><div class="change" id="aa385255166_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a385255166_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a385255166_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a385255166_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a385255166_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a385255166_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-04 10:52 PDT" data-time="1317750730">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_VERIFIED bz_closed"
   title="VERIFIED FIXED - Hang using latest nightly"
   href="/show_bug.cgi?id=691824">691824</a></div></div></div><div class="change-set" id="a385371640_255010"><div class="change" id="aa385371640_255010">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_255010" id="a385371640_255010"><img src="https://secure.gravatar.com/avatar/0646a42110a02dd585f200f270716852?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_255010" id="a385371640_255010"><a class="email " href="/user_profile?user_id=255010" > <span class="fna">Timothy Nikkel (:tnikkel)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a385371640_255010"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a385371640_255010">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a385371640_255010">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-05 19:13 PDT" data-time="1317867204">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: aPrevFrame must be the last continuation in its chain!&quot;"
   href="/show_bug.cgi?id=691118">691118</a></div></div></div><div class="change-set" id="a385371643_255010"><div class="change" id="aa385371643_255010">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_255010" id="a385371643_255010"><img src="https://secure.gravatar.com/avatar/0646a42110a02dd585f200f270716852?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_255010" id="a385371643_255010"><a class="email " href="/user_profile?user_id=255010" > <span class="fna">Timothy Nikkel (:tnikkel)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a385371643_255010"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a385371643_255010">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a385371643_255010">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-05 19:13 PDT" data-time="1317867207">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - &quot;ASSERTION: Frames should be removed before destruction&quot; with -moz-column"
   href="/show_bug.cgi?id=691210">691210</a></div></div></div><div class="change-set" id="a385737148_255010"><div class="change" id="aa385737148_255010">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_255010" id="a385737148_255010"><img src="https://secure.gravatar.com/avatar/0646a42110a02dd585f200f270716852?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_255010" id="a385737148_255010"><a class="email " href="/user_profile?user_id=255010" > <span class="fna">Timothy Nikkel (:tnikkel)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a385737148_255010"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a385737148_255010">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a385737148_255010">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-10 00:45 PDT" data-time="1318232712">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Layout issue at gmail reply button context menu"
   href="/show_bug.cgi?id=693107">693107</a></div></div></div><div class="change-set" id="a386382453_20209"><div class="change" id="aa386382453_20209">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a386382453_20209"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_20209" id="a386382453_20209"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a386382453_20209"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a386382453_20209">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a386382453_20209">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-17 12:00 PDT" data-time="1318878017">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Slideshow bar on www.rightmove.co.uk out of place in Firefox 10 (in middle on images)"
   href="/show_bug.cgi?id=693262">693262</a></div></div></div><div class="change-set" id="a386969442_293623"><div class="change" id="aa386969442_293623">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a386969442_293623"><img src="https://secure.gravatar.com/avatar/847abbd0fcf7040593b9b55d98e6cd64?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_293623" id="a386969442_293623"><a class="email " href="/user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a386969442_293623"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a386969442_293623">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a386969442_293623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-10-24 07:03 PDT" data-time="1319465006">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Cannot change options on Travelocity site using mouse"
   href="/show_bug.cgi?id=696739">696739</a></div></div></div><div class="change-set" id="c155"><div class="comment" data-id="5927910" data-no="155"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-155" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_241123" id="a386969442_293623"><img src="https://secure.gravatar.com/avatar/68db14f8cad106353f1763cef13e5ab0?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_241123" id="a386969442_293623"><a class="email " href="/user_profile?user_id=241123" > <span class="fna">Eric Shepherd [:sheppy]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-155"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-155" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c155">Comment 155</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2011-12-19 13:49 PST" data-time="1324331368">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-155">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-155" data-comment-id="5927910">Change documented:

<a rel="nofollow" href="https://developer.mozilla.org/en/CSS/position#Gecko_notes">https://developer.mozilla.org/en/CSS/position#Gecko_notes</a>

And linked to from Firefox 10 for developers.</pre><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=dev-doc-needed&amp;resolution=---">dev-doc-needed</a> &rarr; <a href="/buglist.cgi?keywords=dev-doc-complete&amp;resolution=---">dev-doc-complete</a></div></div></div><div class="change-set" id="c156"><div class="comment" data-id="5977312" data-no="156"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-156" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_395031" id="a386969442_293623"><img src="https://secure.gravatar.com/avatar/61a6088ed304a72808d7ad042c889e25?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_395031" id="a386969442_293623"><a class="email " href="/user_profile?user_id=395031" > <span class="fna">T. Brains</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-156"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-156" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c156">Comment 156</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2012-01-12 17:01 PST" data-time="1326416492">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-156">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-156" data-comment-id="5977312">The positioning issue seems to be fixed, but offsetParent on the element still returns the outer block element, rather than the table element. Isn't this wrong behavior?</pre></div><div class="change-set" id="c157"><div class="comment" data-id="5977324" data-no="157"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-157" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a386969442_293623"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a386969442_293623"><a class="email " href="/user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bzbarsky]</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-157"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-157" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c157">Comment 157</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2012-01-12 17:06 PST" data-time="1326416803">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-157">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-157" data-comment-id="5977324">Yep.  Please file a separate bug?  The behavior of offsetParent is actually completely independent of positioning behavior, and it has a special-case for tables that might need removing now...</pre></div><div class="change-set" id="c158"><div class="comment" data-id="5977442" data-no="158"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-158" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_395031" id="a386969442_293623"><img src="https://secure.gravatar.com/avatar/61a6088ed304a72808d7ad042c889e25?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_395031" id="a386969442_293623"><a class="email " href="/user_profile?user_id=395031" > <span class="fna">T. Brains</span></a>
</div>
        </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="cs-158"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-158" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#c158">Comment 158</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2012-01-12 17:42 PST" data-time="1326418936">9 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-158">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre
        class="comment-text  "
        id="ct-158" data-comment-id="5977442">Added under <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - position:absolute element inside a table reports wrong offsetParent"
   href="/show_bug.cgi?id=717819">bug 717819</a>.</pre></div><div class="change-set" id="a397351820_293623"><div class="change" id="aa397351820_293623">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a397351820_293623"><img src="https://secure.gravatar.com/avatar/847abbd0fcf7040593b9b55d98e6cd64?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_293623" id="a397351820_293623"><a class="email " href="/user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a397351820_293623"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a397351820_293623">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a397351820_293623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2012-02-21 10:03 PST" data-time="1329847384">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - div with height=100% and overflow renders incorrectly"
   href="/show_bug.cgi?id=729143">729143</a></div></div></div><div class="change-set" id="a397356164_293623"><div class="change" id="aa397356164_293623">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a397356164_293623"><img src="https://secure.gravatar.com/avatar/847abbd0fcf7040593b9b55d98e6cd64?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_293623" id="a397356164_293623"><a class="email " href="/user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a397356164_293623"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a397356164_293623">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a397356164_293623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2012-02-21 11:15 PST" data-time="1329851728">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - HTML Table column/cell width update regression"
   href="/show_bug.cgi?id=729114">729114</a></div></div></div><div class="change-set" id="a397385066_293623"><div class="change" id="aa397385066_293623">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a397385066_293623"><img src="https://secure.gravatar.com/avatar/847abbd0fcf7040593b9b55d98e6cd64?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_293623" id="a397385066_293623"><a class="email " href="/user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a397385066_293623"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a397385066_293623">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a397385066_293623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2012-02-21 19:17 PST" data-time="1329880630">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Absolutely (or fixed) positioned table with top and bottom both 0 and auto height is shorter than the viewport"
   href="/show_bug.cgi?id=729337">729337</a></div></div></div><div class="change-set" id="a399216831_293623"><div class="change" id="aa399216831_293623">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a399216831_293623"><img src="https://secure.gravatar.com/avatar/847abbd0fcf7040593b9b55d98e6cd64?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_293623" id="a399216831_293623"><a class="email " href="/user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a399216831_293623"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a399216831_293623">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a399216831_293623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2012-03-14 01:06 PDT" data-time="1331712395">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - TH width not updated when changing the width of a cell in the first row that's not the first cell in that row in a fixed-layout table"
   href="/show_bug.cgi?id=735579">735579</a></div></div></div><div class="change-set" id="a400350002_55600"><div class="change" id="aa400350002_55600">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_55600" id="a400350002_55600"><img src="https://secure.gravatar.com/avatar/1ecb17d06c0dc059332f0f5fb330984e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_55600" id="a400350002_55600"><a class="email " href="/user_profile?user_id=55600" > <span class="fna">Martijn Wargers (zombie)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a400350002_55600"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a400350002_55600">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a400350002_55600">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2012-03-27 03:52 PDT" data-time="1332845566">9 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED DUPLICATE - Performance regression in moving absolutely positioned block inside table"
   href="/show_bug.cgi?id=729597">729597</a></div></div></div><div class="change-set" id="a411712253_293623"><div class="change" id="aa411712253_293623">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a411712253_293623"><img src="https://secure.gravatar.com/avatar/847abbd0fcf7040593b9b55d98e6cd64?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_293623" id="a411712253_293623"><a class="email " href="/user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a411712253_293623"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a411712253_293623">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a411712253_293623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2012-08-05 16:03 PDT" data-time="1344207817">8 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED WORKSFORME - Incorrect display of table row when changing contents dynamically"
   href="/show_bug.cgi?id=780510">780510</a></div></div></div><div class="change-set" id="a426811002_293623"><div class="change" id="aa426811002_293623">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a426811002_293623"><img src="https://secure.gravatar.com/avatar/847abbd0fcf7040593b9b55d98e6cd64?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_293623" id="a426811002_293623"><a class="email " href="/user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner minor iconic" id="as-a426811002_293623"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a426811002_293623">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=10209#a426811002_293623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-27 09:09 PST" data-time="1359306566">8 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link
          bz_status_RESOLVED bz_closed"
   title="RESOLVED FIXED - Crash [&#64; nsFrameManager::ReResolveStyleContext], in column-set frame with abs.pos. children"
   href="/show_bug.cgi?id=708206">708206</a></div></div></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=10209&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div></div> 
</main> 
</div> 


</body>
</html>